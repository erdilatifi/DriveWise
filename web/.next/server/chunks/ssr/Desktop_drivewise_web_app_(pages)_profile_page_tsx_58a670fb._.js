module.exports=[32590,a=>{"use strict";var b=a.i(681),c=a.i(84813),d=a.i(53365),e=a.i(1004),f=a.i(78330),g=a.i(93639),h=a.i(663),i=a.i(14505),j=a.i(63875),k=a.i(92347),l=a.i(28667),m=a.i(98065),n=a.i(1058),o=a.i(38041),p=a.i(97684);let q=[{id:"passed",label:"I passed the exam"},{id:"not-needed",label:"I don’t need the mock tests anymore"},{id:"duplicate",label:"I made another account"},{id:"unsatisfied",label:"I’m not satisfied with the app"},{id:"other",label:"Other"}];function r({isOpen:a,onClose:d,onConfirm:e,isDeleting:f=!1}){let[g,k]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(!1),x=async()=>{g&&await e({reason:g,customReason:"other"===g?r:void 0,comment:"passed"===g||"unsatisfied"===g?t:void 0,allowPublic:"passed"===g?v:void 0})};return(0,b.jsx)(l.Dialog,{open:a,onOpenChange:a=>!f&&!a&&d(),children:(0,b.jsxs)(l.DialogContent,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsxs)(l.DialogTitle,{className:"flex items-center gap-2 text-destructive",children:[(0,b.jsx)(o.AlertTriangle,{className:"w-5 h-5"}),"Are you sure you want to delete your account?"]}),(0,b.jsx)(l.DialogDescription,{children:"All progress, mock test history, and account data will be permanently deleted. This action cannot be undone."})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.Label,{className:"text-base font-medium",children:"Why are you leaving?"}),(0,b.jsx)(n.RadioGroup,{value:g,onValueChange:k,className:"gap-3",children:q.map(a=>(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)(n.RadioGroupItem,{value:a.id,id:a.id,className:"mt-1"}),(0,b.jsxs)("div",{className:"grid gap-1.5 leading-none flex-1",children:[(0,b.jsx)(j.Label,{htmlFor:a.id,className:"text-sm font-normal text-foreground/90 cursor-pointer",children:a.label}),"other"===a.id&&"other"===g&&(0,b.jsx)(i.Input,{placeholder:"Please tell us more...",value:r,onChange:a=>s(a.target.value),className:"mt-2 h-8 text-sm",autoFocus:!0})]})]},a.id))})]}),"passed"===g&&(0,b.jsxs)("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300 bg-emerald-500/5 p-4 rounded-lg border border-emerald-500/10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"testimonial",className:"font-medium text-emerald-600 dark:text-emerald-400",children:["Congratulations! Want to share your experience? ",(0,b.jsx)("span",{className:"text-muted-foreground font-normal text-xs",children:"(Optional)"})]}),(0,b.jsx)(m.Textarea,{id:"testimonial",placeholder:"Your feedback helps future learners. Tell us how our mock tests helped you!",value:t,onChange:a=>u(a.target.value),className:"min-h-[80px] bg-background/50 resize-none border-emerald-500/20 focus-visible:ring-emerald-500/30"})]}),(0,b.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,b.jsx)("div",{className:"flex h-5 items-center",children:(0,b.jsx)("input",{type:"checkbox",id:"allow-public",checked:v,onChange:a=>w(a.target.checked),className:"h-4 w-4 rounded border-primary text-primary ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})}),(0,b.jsx)(j.Label,{htmlFor:"allow-public",className:"text-sm font-normal text-muted-foreground cursor-pointer select-none leading-normal",children:"Allow my comment to be used publicly as a testimonial."})]})]}),"unsatisfied"===g&&(0,b.jsx)("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2 duration-300 bg-muted/50 p-4 rounded-lg border border-border",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"feedback",className:"font-medium",children:["We’re sorry your experience wasn’t good. Want to tell us what went wrong? ",(0,b.jsx)("span",{className:"text-muted-foreground font-normal text-xs",children:"(Optional)"})]}),(0,b.jsx)(m.Textarea,{id:"feedback",placeholder:"Your feedback helps us improve the app.",value:t,onChange:a=>u(a.target.value),className:"min-h-[80px] bg-background/50 resize-none"})]})})]}),(0,b.jsxs)(l.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:d,disabled:f,className:"w-full sm:w-auto",children:"Cancel"}),(0,b.jsxs)(h.Button,{variant:"destructive",onClick:x,disabled:!g||f,className:"w-full sm:w-auto gap-2",children:[f&&(0,b.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}),"Delete Account"]})]})]})})}var s=a.i(42185),t=a.i(2017);let u=(0,t.default)("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),v=["Dashboard","Mock test list","Mock test session","Payments/checkout","Account/profile","Other"];function w({isOpen:a,onClose:d,onSubmit:e}){let[f,g]=(0,c.useState)(!1),[k,n]=(0,c.useState)(""),[o,q]=(0,c.useState)(""),[r,t]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),C=async a=>{if(a.preventDefault(),k&&o){g(!0);try{await e({title:k,description:o,stepsToReproduce:r,location:w,deviceBrowser:y,contactEmail:A})}finally{g(!1)}}};return(0,b.jsx)(l.Dialog,{open:a,onOpenChange:a=>!f&&!a&&d(),children:(0,b.jsxs)(l.DialogContent,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsxs)(l.DialogTitle,{className:"flex items-center gap-2 text-primary",children:[(0,b.jsx)(u,{className:"w-5 h-5"}),"Report a bug"]}),(0,b.jsx)(l.DialogDescription,{children:"Found something not working correctly? Tell us and we’ll look into it."})]}),(0,b.jsxs)("form",{onSubmit:C,className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"bug-title",children:["Bug title ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(i.Input,{id:"bug-title",placeholder:"e.g. Timer doesn't stop when test ends",value:k,onChange:a=>n(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"bug-description",children:["What went wrong? ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(m.Textarea,{id:"bug-description",placeholder:"Describe what happened and what you expected instead.",value:o,onChange:a=>q(a.target.value),className:"min-h-[80px]",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"bug-steps",children:["Steps to reproduce ",(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),(0,b.jsx)(m.Textarea,{id:"bug-steps",placeholder:"Step 1: Go to ...\nStep 2: Click on ...\nStep 3: ...",value:r,onChange:a=>t(a.target.value),className:"min-h-[80px]"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"bug-location",children:"Where did this happen?"}),(0,b.jsxs)(s.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(s.SelectTrigger,{id:"bug-location",children:(0,b.jsx)(s.SelectValue,{placeholder:"Select location"})}),(0,b.jsx)(s.SelectContent,{children:v.map(a=>(0,b.jsx)(s.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"bug-device",children:["Device / browser ",(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),(0,b.jsx)(i.Input,{id:"bug-device",placeholder:"e.g. iPhone + Safari",value:y,onChange:a=>z(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"bug-email",children:["Email ",(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"(Optional, if you want a reply)"})]}),(0,b.jsx)(i.Input,{id:"bug-email",type:"email",placeholder:"your@email.com",value:A,onChange:a=>B(a.target.value)})]}),(0,b.jsxs)(l.DialogFooter,{className:"pt-4 gap-2 sm:gap-0",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:d,disabled:f,children:"Cancel"}),(0,b.jsxs)(h.Button,{type:"submit",disabled:!k||!o||f,className:"gap-2",children:[f&&(0,b.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}),"Submit bug report"]})]})]})]})})}var x=a.i(28231),y=a.i(22309),z=a.i(81217),A=a.i(66355),B=a.i(57737),C=a.i(25761),D=a.i(10226),E=a.i(54366),F=a.i(2839);let G=(0,t.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),H=(0,t.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var I=a.i(38022),J=a.i(92265),K=a.i(61334),L=a.i(90007),M=a.i(98507);let N=(0,t.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var O=a.i(37322),P=a.i(98270);function Q({subscriptionId:a,category:d}){let[e,f]=(0,c.useState)(null),[g,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null);if((0,c.useEffect)(()=>{a&&(async()=>{try{i(!0);let b=await fetch(`/api/paddle/subscription/${a}`);if(!b.ok){if(404===b.status){await fetch(`/api/paddle/subscription/${a}`,{method:"DELETE"}),window.location.reload();return}throw Error("Failed to fetch subscription")}let c=await b.json();f(c.subscription)}catch(a){k(a instanceof Error?a.message:"Could not load subscription details")}finally{i(!1)}})()},[a]),g)return(0,b.jsx)("div",{className:"flex items-center justify-center p-6",children:(0,b.jsx)(p.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})});if(j||!e)return(0,b.jsxs)("div",{className:"p-4 text-sm text-red-400 bg-red-500/10 rounded-lg border border-red-500/20 flex items-center gap-2",children:[(0,b.jsx)(O.AlertCircle,{className:"h-4 w-4"}),j||"Subscription unavailable"]});let l="canceled"===e.status||!!e.canceled_at,m=e.next_billed_at?new Date(e.next_billed_at):null,n=e.current_billing_period?.ends_at?new Date(e.current_billing_period.ends_at):null;e.management_urls?.cancel;let o=e.management_urls?.update_payment_method,[q,r]=(0,c.useState)(!1),s=async()=>{if(confirm("Are you sure you want to turn off auto-renew? You will keep access until the end of the current billing period.")){r(!0);try{let b=await fetch(`/api/paddle/subscription/${a}`,{method:"POST"});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to cancel")}K.toast.success("Auto-renew turned off",{description:"Your subscription will end at the current billing period."}),window.location.reload()}catch(a){K.toast.error("Could not cancel subscription",{description:a instanceof Error?a.message:"Please try again"})}finally{r(!1)}}};return(0,b.jsxs)(L.Card,{className:"bg-black/40 border-white/10",children:[(0,b.jsxs)(L.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(L.CardTitle,{className:"text-base font-medium flex items-center gap-2",children:[(0,b.jsx)(G,{className:"h-4 w-4 text-orange-400"}),"Subscription ",d&&`(${d})`]}),(0,b.jsx)(M.Badge,{variant:"outline",className:`capitalize border ${{active:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",paused:"bg-amber-500/10 text-amber-400 border-amber-500/20",canceled:"bg-zinc-500/10 text-zinc-400 border-zinc-500/20",past_due:"bg-red-500/10 text-red-400 border-red-500/20",trialing:"bg-blue-500/10 text-blue-400 border-blue-500/20"}[e.status]||"bg-zinc-500/10 text-zinc-400"}`,children:e.status.replace("_"," ")})]}),(0,b.jsxs)(L.CardDescription,{className:"text-xs",children:["ID: ",(0,b.jsx)("span",{className:"font-mono text-muted-foreground/70",children:e.id})]})]}),(0,b.jsx)(L.CardContent,{className:"space-y-4 text-sm",children:(0,b.jsx)("div",{className:"space-y-2",children:l?(0,b.jsxs)("div",{className:"rounded-md bg-zinc-900/50 p-3 border border-zinc-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-amber-400 mb-1",children:[(0,b.jsx)(O.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"font-medium",children:"Auto-renew disabled"})]}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Your access remains active until ",n?n.toLocaleDateString():"the period ends",". You will not be charged again."]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-0.5",children:"Next Billing Date"}),(0,b.jsx)("p",{className:"font-medium text-foreground",children:m?m.toLocaleDateString():"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-0.5",children:"Amount"}),(0,b.jsxs)("p",{className:"font-medium text-foreground",children:[e.items[0]?.price.unit_price.amount," ",e.currency_code]})]})]})})}),(0,b.jsxs)(L.CardFooter,{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[!l&&(0,b.jsx)(h.Button,{variant:"outline",size:"sm",onClick:s,disabled:q,className:"w-full sm:w-auto border-red-500/20 text-red-400 hover:bg-red-500/10 hover:text-red-300",children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Loader2,{className:"h-3 w-3 mr-2 animate-spin"}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:["Turn off auto-renew",(0,b.jsx)(N,{className:"h-3 w-3 ml-2"})]})}),!l&&o&&(0,b.jsx)(h.Button,{variant:"outline",size:"sm",className:"w-full sm:w-auto border-white/10 hover:bg-white/5",asChild:!0,children:(0,b.jsxs)("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:["Update Payment Method",(0,b.jsx)(N,{className:"h-3 w-3"})]})}),l&&(0,b.jsx)("div",{className:"w-full text-center sm:text-left",children:(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[(0,b.jsx)(P.CheckCircle2,{className:"h-3.5 w-3.5 text-emerald-500"}),"No further charges scheduled."]})})]})]})}function R(){let a=(0,d.useRouter)(),{user:l,loading:m,isAdmin:n,userProfile:o,refreshUser:p,signOut:q}=(0,y.useAuth)(),{t:s,language:t}=(0,z.useLanguage)(),v="sq"===t,[L,M]=(0,c.useState)(o?.full_name||l?.user_metadata?.full_name||l?.email?.split("@")[0]||""),[N,O]=(0,c.useState)(!1),[P,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1);(0,c.useEffect)(()=>{m||l||a.push("/login")},[m,l,a]);let{data:W}=(0,A.useUserPlans)(l?.id||void 0),{hasAnyActivePlan:X}=(0,A.useGlobalPremium)(l?.id,n),Y=(0,c.useMemo)(()=>(W||[]).filter(a=>a.plan_tier&&"FREE"!==a.plan_tier),[W]);if(m||!l)return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(f.Navbar,{}),(0,b.jsx)("div",{className:"pt-28 md:pt-32 pb-12",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 max-w-5xl space-y-6",children:[(0,b.jsxs)(g.GlassCard,{className:"p-6 md:p-7 h-32 border border-border/80 bg-black/85 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Skeleton,{className:"h-4 w-32"}),(0,b.jsx)(k.Skeleton,{className:"h-8 w-48"}),(0,b.jsx)(k.Skeleton,{className:"h-3 w-40"})]}),(0,b.jsx)(k.Skeleton,{className:"h-8 w-24"})]}),(0,b.jsxs)(g.GlassCard,{className:"p-6 md:p-7 h-64 border border-border/80 bg-black/85",children:[(0,b.jsxs)("div",{className:"mb-6 space-y-2",children:[(0,b.jsx)(k.Skeleton,{className:"h-5 w-40"}),(0,b.jsx)(k.Skeleton,{className:"h-3 w-64"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsx)(k.Skeleton,{className:"h-10 w-full"}),(0,b.jsx)(k.Skeleton,{className:"h-10 w-full"})]})]})]})})]});let Z=o?.full_name||l.user_metadata?.full_name||l.email?.split("@")[0]||s("admin.user"),$=l.email||o?.email||"",_=(0,C.createClient)(),aa=async()=>{if(!l)return;let a=L.trim();if(!a)return void K.toast.error(s("profile.nameEmpty"));O(!0);try{let{error:b}=await _.from("user_profiles").update({full_name:a}).eq("id",l.id);if(b)throw b;let{error:c}=await _.auth.updateUser({data:{full_name:a}});if(c)throw c;await p(),K.toast.success(s("profile.nameUpdatedTitle"),{description:s("profile.nameUpdatedDesc")})}catch(b){let a=b instanceof Error?b.message:s("common.tryAgainLater");K.toast.error(s("profile.nameUpdateError"),{description:a})}finally{O(!1)}},ab=async a=>{if(l){T(!0);try{let b=await fetch("/api/account/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok){let a=s("common.tryAgainLater");try{let c=await b.json();c?.error&&(a=c.error)}catch{}throw Error(a)}K.toast.success(s("profile.accountDeletedTitle"),{description:s("profile.accountDeletedDesc")}),R(!1),await q()}catch(b){let a=b instanceof Error?b.message:s("common.tryAgainLater");K.toast.error(s("profile.accountDeleteError"),{description:a})}finally{T(!1)}}},ac=async a=>{try{if(!(await fetch("/api/reports/bug",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error("Failed to submit report");K.toast.success(s("profile.reportSubmittedTitle"),{description:s("profile.reportSubmittedDesc")}),V(!1)}catch{K.toast.error(s("profile.reportFailedTitle"),{description:s("common.tryAgainLater")})}};return(0,b.jsxs)("div",{className:"relative min-h-screen bg-background text-foreground overflow-hidden",children:[(0,b.jsx)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 [mask-image:radial-gradient(60%_60%_at_50%_20%,#000_20%,transparent_70%)]",children:(0,b.jsxs)("svg",{className:"h-full w-full opacity-[0.06]",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("defs",{children:(0,b.jsx)("pattern",{id:"profile-grid",width:"32",height:"32",patternUnits:"userSpaceOnUse",children:(0,b.jsx)("path",{d:"M32 0H0V32",fill:"none",stroke:"currentColor",strokeWidth:"0.4"})})}),(0,b.jsx)("rect",{width:"100%",height:"100%",fill:"url(#profile-grid)"})]})}),(0,b.jsx)("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-72 bg-gradient-to-b from-orange-500/25 via-transparent to-transparent blur-3xl"}),(0,b.jsxs)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"hidden lg:block absolute top-24 bottom-24 left-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent"}),(0,b.jsx)("div",{className:"hidden lg:block absolute top-24 bottom-24 right-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent"})]}),(0,b.jsx)(f.Navbar,{}),(0,b.jsx)("div",{className:"pt-28 md:pt-32 pb-12",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 max-w-5xl relative",children:[(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-orange-500/40 bg-orange-500/10 px-3 py-1 text-[11px] font-medium text-orange-300 mb-4",children:[(0,b.jsx)(H,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:s("profile.title")||"Account & Settings"})]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:v?"Menaxho llogarinë":"Manage your account"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-muted-foreground mt-2 max-w-xl",children:v?"Menaxho profilin, planet aktive dhe sigurinë e llogarisë.":"Manage your profile, active plans, and account security."})]}),(0,b.jsxs)("div",{className:"grid gap-8",children:[(0,b.jsxs)(g.GlassCard,{className:"p-6 md:p-8 border border-border/80 bg-black/85 relative overflow-hidden",children:[(0,b.jsx)("div",{className:"pointer-events-none absolute -right-24 -top-24 h-64 w-64 rounded-full bg-orange-500/10 blur-3xl opacity-60"}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-500/20 to-black border border-orange-500/30 flex items-center justify-center",children:(0,b.jsx)(E.User,{className:"w-8 h-8 text-orange-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold tracking-tight",children:Z}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:$}),!n&&(0,b.jsx)("div",{className:"flex items-center gap-2 mt-2",children:X?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-[11px] font-medium text-emerald-400",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),s("profile.activePlan")]}):(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full bg-white/5 border border-white/10 text-[11px] font-medium text-muted-foreground",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground"}),s("profile.freePlan")]})}),n&&(0,b.jsx)("p",{className:"mt-2 text-xs text-orange-300 font-medium",children:s("profile.adminUnlimited")||"Admin Access: Unlimited"})]})]}),(0,b.jsxs)(h.Button,{variant:"outline",className:"w-full md:w-auto border-white/10 hover:bg-white/5 hover:text-red-400 hover:border-red-500/30 transition-colors",onClick:()=>q(),children:[(0,b.jsx)(I.LogOut,{className:"w-4 h-4 mr-2"}),s("nav.logout")]})]})]}),(0,b.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-white/10",children:[(0,b.jsx)(E.User,{className:"w-4 h-4 text-orange-400"}),(0,b.jsx)("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:s("profile.accountSettingsTitle")})]}),(0,b.jsx)(g.GlassCard,{className:"p-6 border border-border/80 bg-black/80 h-[300px]",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"full-name",className:"text-xs text-muted-foreground",children:s("profile.displayNameLabel")}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Input,{id:"full-name",value:L,onChange:a=>M(a.target.value),className:"text-sm bg-black/50 border-border/60 focus:ring-orange-500/50"}),(0,b.jsx)(h.Button,{size:"sm",type:"button",onClick:aa,disabled:N||!L.trim()||L.trim()===Z,className:"whitespace-nowrap bg-white/10 hover:bg-white/20 border-transparent text-foreground",children:N?s("common.saving"):s("common.save")})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"account-email",className:"text-xs text-muted-foreground",children:s("profile.emailLabel")}),(0,b.jsx)(i.Input,{id:"account-email",value:$,disabled:!0,className:"text-sm bg-white/5 border-transparent text-muted-foreground"}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground/60",children:s("profile.emailHelp")})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between pb-2 border-b border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(G,{className:"w-4 h-4 text-orange-400"}),(0,b.jsx)("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:s("plans.profilePaidPlansTitle")||"Active Plans"})]}),!n&&Y.length>0&&(0,b.jsxs)(e.default,{href:"/pricing",className:"text-xs text-orange-400 hover:text-orange-300 transition-colors",children:[v?"Zgjero planet":"Extend plans"," →"]})]}),(0,b.jsx)(g.GlassCard,{className:"p-6 border border-border/80 bg-black/80 h-[300px] flex flex-col",children:0!==Y.length||n?(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsx)("div",{className:"space-y-3 flex-1 overflow-y-auto pr-2 -mr-2 mb-3",children:Y.map(a=>{let c=a.category||"B",d=x.CATEGORY_INFO[c],f=a.start_date?new Date(a.start_date):null,g=a.end_date?new Date(a.end_date):null,i=new Date,j=0,k=null;if(f&&g){let a=g.getTime()-f.getTime(),b=Math.min(Math.max(i.getTime()-f.getTime(),0),Math.max(a,0));j=a>0?Math.min(100,Math.max(0,b/a*100)):100;let c=Math.ceil((g.getTime()-i.getTime())/864e5);k=c>0?c:0}let l="active"===a.status&&g&&g.getTime()>=i.getTime(),m=a.plan_tier,o=B.BILLING_CONFIG.plans[m]||null;return(0,b.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 flex flex-col gap-3 hover:border-orange-500/30 transition-colors flex-shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-orange-500/10 flex items-center justify-center border border-orange-500/20",children:(0,b.jsx)("span",{className:"font-bold text-orange-400",children:c})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold",children:d?.name||c}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:o?.label||a.plan_tier})]})]}),l&&(0,b.jsx)("span",{className:"flex h-2 w-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"})]}),f&&g&&(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex justify-between text-[10px] text-muted-foreground",children:[(0,b.jsx)("span",{children:s("profile.usage")}),(0,b.jsxs)("span",{children:[k," ",s("profile.daysLeft")]})]}),(0,b.jsx)("div",{className:"w-full bg-black/40 rounded-full h-1.5 overflow-hidden border border-white/5",children:(0,b.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-orange-500 to-amber-500 transition-all",style:{width:`${j}%`}})})]}),!n&&l&&null!==k&&k<=7&&(0,b.jsx)(h.Button,{size:"sm",variant:"outline",className:"w-full h-7 text-xs border-amber-500/30 text-amber-400 hover:bg-amber-500/10",asChild:!0,children:(0,b.jsx)(e.default,{href:`/pricing?category=${c}`,children:s("profile.renewNow")})})]},a.id)})}),!o?.subscription_id&&X&&!n&&(0,b.jsx)("div",{className:"mt-auto pt-3 border-t border-white/10",children:(0,b.jsxs)("div",{className:"flex items-start gap-3 rounded-lg bg-emerald-500/5 p-3 border border-emerald-500/10",children:[(0,b.jsx)("div",{className:"w-5 h-5 rounded-full bg-emerald-500/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)(J.Check,{className:"w-3 h-3 text-emerald-500"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-emerald-100 mb-0.5",children:s("profile.billingOneTime")}),(0,b.jsx)("p",{className:"text-[10px] text-muted-foreground leading-relaxed",children:s("profile.noAutoRenewDesc")})]})]})})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-4 text-center space-y-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:(0,b.jsx)(G,{className:"w-6 h-6 text-muted-foreground/50"})}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:s("profile.noActivePlans")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground max-w-[200px] mx-auto",children:s("profile.startPlanDesc")})]}),(0,b.jsx)(h.Button,{size:"sm",asChild:!0,className:"bg-orange-600 hover:bg-orange-500 text-white border-none",children:(0,b.jsx)(e.default,{href:"/pricing",children:s("plans.profileExtendViaPricingCta")||"View Pricing"})})]})}),o?.subscription_id&&(0,b.jsx)(Q,{subscriptionId:o.subscription_id})]})]}),(0,b.jsxs)("div",{className:"mt-8 pt-8 border-t border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,b.jsx)(u,{className:"w-4 h-4 text-primary"}),(0,b.jsx)("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:s("profile.supportFeedback")})]}),(0,b.jsxs)(g.GlassCard,{className:"p-6 border border-primary/20 bg-primary/5 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-foreground",children:s("profile.reportBug")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground max-w-md",children:s("profile.reportBugDesc")})]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",className:"inline-flex items-center gap-2 whitespace-nowrap border-primary/30 text-primary hover:bg-primary/10",onClick:()=>V(!0),children:[(0,b.jsx)(u,{className:"w-4 h-4"}),s("profile.reportBug")]})]})]}),(0,b.jsxs)("div",{className:"mt-8 pt-8 border-t border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,b.jsx)(F.Shield,{className:"w-4 h-4 text-red-400"}),(0,b.jsx)("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground",children:s("profile.dangerZoneTitle")})]}),(0,b.jsxs)(g.GlassCard,{className:"p-6 border border-red-500/20 bg-red-500/5 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-red-200",children:s("profile.deleteAccountButton")}),(0,b.jsx)("p",{className:"text-xs text-red-200/60 max-w-md",children:s("profile.dangerZoneDescription")})]}),(0,b.jsxs)(h.Button,{type:"button",variant:"destructive",size:"sm",className:"inline-flex items-center gap-2 whitespace-nowrap bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 hover:border-red-500/40",onClick:()=>R(!0),children:[(0,b.jsx)(D.Trash2,{className:"w-4 h-4"}),s("profile.deleteAccountButton")]})]})]})]})]})}),(0,b.jsx)(w,{isOpen:U,onClose:()=>V(!1),onSubmit:ac}),(0,b.jsx)(r,{isOpen:P,onClose:()=>R(!1),onConfirm:ab,isDeleting:S})]})}a.s(["default",()=>R],32590)}];

//# sourceMappingURL=Desktop_drivewise_web_app_%28pages%29_profile_page_tsx_58a670fb._.js.map