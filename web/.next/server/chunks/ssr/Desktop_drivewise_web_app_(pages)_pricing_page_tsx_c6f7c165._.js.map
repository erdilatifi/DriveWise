{"version":3,"sources":["turbopack:///[project]/Desktop/drivewise/web/app/(pages)/pricing/page.tsx","turbopack:///[project]/Desktop/drivewise/node_modules/lucide-react/src/icons/info.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport { useSearchParams, useRouter } from 'next/navigation';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { GlassCard } from '@/components/ui/glass-card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter } from '@/components/ui/card';\r\nimport { Check, ArrowLeft, Crown, Sparkles, Info } from 'lucide-react';\r\nimport { CATEGORY_INFO, type LicenseCategory } from '@/types/database';\r\nimport { BILLING_CONFIG, isPlanCurrentlyActive, type PaidPlanTier } from '@/lib/subscriptions';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport { useLanguage } from '@/contexts/language-context';\r\nimport { useUserPlans, useGlobalPremium } from '@/hooks/use-subscriptions';\r\nimport { toast } from 'sonner';\r\n\r\nconst LICENSE_CATEGORIES: LicenseCategory[] = ['A', 'B', 'C', 'D'];\r\n\r\n// Paddle Hosted Checkout URLs\r\nconst HSC_1M = (process.env.NEXT_PUBLIC_PADDLE_HSC_1M || '').trim();\r\nconst HSC_2M = (process.env.NEXT_PUBLIC_PADDLE_HSC_2M || '').trim();\r\nconst HSC_3M = (process.env.NEXT_PUBLIC_PADDLE_HSC_3M || '').trim();\r\n\r\nexport default function PricingPage() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { user, isAdmin } = useAuth();\r\n  const { t, language } = useLanguage();\r\n  const isSq = language === 'sq';\r\n\r\n  const paymentStatus = searchParams.get('payment');\r\n\r\n  const initialCategory = useMemo<LicenseCategory | null>(() => {\r\n    const fromQuery = (searchParams.get('category') || '').toUpperCase();\r\n    if (LICENSE_CATEGORIES.includes(fromQuery as LicenseCategory)) {\r\n      return fromQuery as LicenseCategory;\r\n    }\r\n    return null;\r\n  }, [searchParams]);\r\n\r\n  const initialPlan = useMemo<PaidPlanTier | null>(() => {\r\n    const fromQuery = (searchParams.get('plan') || '').toUpperCase() as PaidPlanTier;\r\n    if (fromQuery && BILLING_CONFIG.plans[fromQuery]) {\r\n      return fromQuery;\r\n    }\r\n    return null;\r\n  }, [searchParams]);\r\n\r\n  const [selectedCategory, setSelectedCategory] = useState<LicenseCategory | null>(initialCategory);\r\n  const [selectedPlan, setSelectedPlan] = useState<PaidPlanTier | null>(initialPlan);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const { data: existingPlans } = useUserPlans(user?.id || undefined);\r\n  const { hasAnyActivePlan } = useGlobalPremium(user?.id, isAdmin);\r\n\r\n  const currentCategoryPlan = useMemo(() => {\r\n    if (!existingPlans || !selectedCategory) return null;\r\n    return existingPlans.find((p) => p.category === selectedCategory) || null;\r\n  }, [existingPlans, selectedCategory]);\r\n\r\n  const currentCategoryPlanActive = useMemo(() => {\r\n    if (!currentCategoryPlan) return false;\r\n    if (currentCategoryPlan.status !== 'active') return false;\r\n    return isPlanCurrentlyActive({\r\n      startDate: currentCategoryPlan.start_date,\r\n      endDate: currentCategoryPlan.end_date,\r\n    });\r\n  }, [currentCategoryPlan]);\r\n\r\n  const handleSelectCategory = (cat: LicenseCategory) => {\r\n    if (cat !== selectedCategory) {\r\n      setSelectedCategory(cat);\r\n      setSelectedPlan(null);\r\n    }\r\n  };\r\n\r\n  const handlePurchase = async () => {\r\n    if (!user) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n\r\n    if (isAdmin) {\r\n      toast.info(\r\n        isSq\r\n          ? 'Administratorët tashmë kanë qasje të plotë në të gjitha veçoritë.'\r\n          : 'Admins already have full access to all features.',\r\n        {\r\n          description: isSq\r\n            ? 'Mund ta përdorni këtë faqe vetëm si pamje paraprake të çmimeve, pa pasur nevojë të paguani.'\r\n            : 'You can still use this page to preview pricing, but no payment is required.',\r\n        },\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!selectedCategory || !selectedPlan) {\r\n      return;\r\n    }\r\n\r\n    if (currentCategoryPlanActive) {\r\n      toast.info(\r\n        isSq\r\n          ? 'Tashmë keni një plan aktiv për këtë kategori.'\r\n          : 'You already have an active plan for this category.',\r\n        {\r\n          description: isSq\r\n            ? 'Mund të blini një plan të ri për këtë kategori pasi të skadojë plani aktual.'\r\n            : 'You can purchase a new plan for this category after the current one expires.',\r\n        },\r\n      );\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    try {\r\n      let checkoutUrlStr = '';\r\n      if (selectedPlan === 'PLAN_A') {\r\n        checkoutUrlStr = HSC_1M;\r\n      } else if (selectedPlan === 'PLAN_B') {\r\n        checkoutUrlStr = HSC_2M;\r\n      } else if (selectedPlan === 'PLAN_C') {\r\n        checkoutUrlStr = HSC_3M;\r\n      }\r\n\r\n      if (!checkoutUrlStr) {\r\n        console.error('Missing checkout URL for plan:', selectedPlan);\r\n        toast.error(isSq ? 'Konfigurimi i gabuar.' : 'Configuration error (Missing URL).');\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      let urlObj: URL;\r\n      try {\r\n        urlObj = new URL(checkoutUrlStr);\r\n      } catch (e) {\r\n        console.error('Invalid checkout URL format:', checkoutUrlStr, e);\r\n        toast.error(isSq ? 'URL e pavlefshme.' : 'Invalid checkout URL configuration.');\r\n        setIsProcessing(false);\r\n        return;\r\n      }\r\n\r\n      if (user?.email) {\r\n        urlObj.searchParams.append('guest_email', user.email);\r\n      }\r\n\r\n      // Pass custom_data as a JSON string for Paddle Billing\r\n      const customData = {\r\n        category: selectedCategory,\r\n        plan: selectedPlan,\r\n        user_id: user.id,\r\n      };\r\n      // Use set() to avoid duplicates if custom_data already exists\r\n      urlObj.searchParams.set('custom_data', JSON.stringify(customData));\r\n      // Also set passthrough as a fallback for some Paddle integrations\r\n      urlObj.searchParams.set('passthrough', JSON.stringify(customData));\r\n\r\n      window.location.href = urlObj.toString();\r\n    } catch (error) {\r\n      console.error('Paddle redirect error:', error);\r\n      toast.error(isSq ? 'Diçka shkoi keq.' : 'Something went wrong.');\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const featureListFree = isSq\r\n    ? ['Deri në 3 teste për kategori', 'Rezultatet dhe historia bazë', 'Pa Decision Trainer', 'Pa Materiale Studimi']\r\n    : ['Up to 3 tests per category', 'Scores and basic history', 'No Decision Trainer', 'No Study Material'];\r\n\r\n  const featureListPaid = isSq\r\n    ? [\r\n        'Teste të pakufizuara në këtë kategori',\r\n        'Decision Trainer i hapur',\r\n        'Të gjitha Materialet e Studimit të hapura',\r\n        'Rishikim i plotë me përgjigje të sakta',\r\n      ]\r\n    : [\r\n        'Unlimited tests in this category',\r\n        'Decision Trainer unlocked',\r\n        'All Study Material unlocked',\r\n        'Full review with correct answers',\r\n      ];\r\n\r\n  const selectedPlanData = selectedPlan ? BILLING_CONFIG.plans[selectedPlan] : null;\r\n\r\n  const stepLabelCategory = isSq ? 'Zgjidh kategorinë' : 'Choose your category';\r\n  const stepLabelPlan = isSq ? 'Zgjidh planin' : 'Choose your exam window';\r\n  const stepLabelPay = isSq ? 'Konfirmo dhe paguaj' : 'Confirm & pay';\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen bg-background text-foreground overflow-hidden\">\r\n      {/* Background grid like landing hero */}\r\n      <div\r\n        aria-hidden\r\n        className=\"pointer-events-none absolute inset-0 -z-10 [mask-image:radial-gradient(60%_60%_at_50%_20%,#000_20%,transparent_70%)]\"\r\n      >\r\n        <svg className=\"h-full w-full opacity-[0.06]\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <defs>\r\n            <pattern id=\"pricing-grid\" width=\"32\" height=\"32\" patternUnits=\"userSpaceOnUse\">\r\n              <path d=\"M32 0H0V32\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"0.4\" />\r\n            </pattern>\r\n          </defs>\r\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#pricing-grid)\" />\r\n        </svg>\r\n      </div>\r\n\r\n      {/* Warm glows & rails to match landing */}\r\n      <div className=\"pointer-events-none absolute inset-x-0 top-0 h-72 bg-gradient-to-b from-orange-500/25 via-transparent to-transparent blur-3xl\" />\r\n      <div className=\"pointer-events-none absolute bottom-[-6rem] left-[8%] h-60 w-60 rounded-full bg-orange-400/20 blur-3xl\" />\r\n      <div className=\"pointer-events-none absolute bottom-[-8rem] right-[12%] h-72 w-72 rounded-full bg-orange-500/20 blur-3xl\" />\r\n\r\n      {/* Side and center rails */}\r\n      <div aria-hidden className=\"pointer-events-none absolute inset-0\">\r\n        <div className=\"hidden lg:block absolute top-24 bottom-24 left-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent\" />\r\n        <div className=\"hidden lg:block absolute top-24 bottom-24 right-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent\" />\r\n        <div className=\"hidden md:block absolute top-28 bottom-32 left-1/2 w-px -translate-x-1/2 bg-gradient-to-b from-orange-400/30 to-transparent\" />\r\n        <div className=\"hidden md:block absolute inset-x-[12%] top-64 h-px bg-gradient-to-r from-transparent via-orange-500/16 to-transparent\" />\r\n      </div>\r\n\r\n      <Navbar />\r\n\r\n      <div className=\"pt-32 pb-16\">\r\n        <div className=\"container mx-auto max-w-6xl px-4 sm:px-6 relative\">\r\n          {/* Back + Premium */}\r\n          <div className=\"mb-4 flex items-center justify-between gap-4\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              onClick={() => router.back()}\r\n              className=\"text-sm flex items-center gap-2 px-0\"\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4\" />\r\n              {t('auth.backToHome')}\r\n            </Button>\r\n\r\n            {hasAnyActivePlan && !isAdmin && (\r\n              <Badge\r\n                variant=\"outline\"\r\n                className=\"border-emerald-500/60 text-emerald-400 text-xs flex items-center gap-1\"\r\n              >\r\n                <Crown className=\"h-3 w-3\" />\r\n                {t('plans.currentlyPremium') || 'Premium aktive'}\r\n              </Badge>\r\n            )}\r\n          </div>\r\n\r\n          {/* Payment status */}\r\n          {paymentStatus && (\r\n            <div className=\"mb-3 text-xs\" role=\"status\" aria-live=\"polite\">\r\n              {paymentStatus === 'success' && (\r\n                <div className=\"rounded-xl border border-emerald-500/50 bg-emerald-500/10 px-3 py-2 text-emerald-100\">\r\n                  {isSq\r\n                    ? 'Pagesa u konfirmua. Qasja juaj tani duhet të jetë aktive.'\r\n                    : 'Payment confirmed. Your access should now be active.'}\r\n                </div>\r\n              )}\r\n              {paymentStatus === 'cancel' && (\r\n                <div className=\"rounded-xl border border-amber-500/50 bg-amber-500/10 px-3 py-2 text-amber-100\">\r\n                  {isSq\r\n                    ? 'Pagesa u anulua. Mund të provoni përsëri më poshtë.'\r\n                    : 'Payment was canceled. You can try again below.'}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Header / hero copy */}\r\n          <section className=\"mb-8 md:mb-10 text-center\">\r\n            <div className=\"inline-flex items-center gap-2 rounded-full border border-border/60 bg-black/60 px-3 py-1 text-[11px] uppercase tracking-[0.18em] text-muted-foreground\">\r\n              <span className=\"h-1.5 w-8 rounded-full bg-gradient-to-r from-orange-500 to-orange-300\" />\r\n              {isSq ? 'Çmimet DriveWise' : 'DriveWise Pricing'}\r\n            </div>\r\n\r\n            <h1 className=\"mt-4 text-3xl md:text-4xl lg:text-5xl font-semibold tracking-tight\">\r\n              {isSq ? 'Zgjidh periudhën e ushtrimit' : 'Choose your exam window'}\r\n              <span className=\"block text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-orange-300 to-white\">\r\n                {isSq ? ' dhe çliro qasjen e plotë.' : ' and unlock full access.'}\r\n              </span>\r\n            </h1>\r\n\r\n            <p className=\"mt-3 text-sm md:text-base text-muted-foreground max-w-2xl mx-auto\">\r\n              {isSq\r\n                ? 'Çdo plan hap 1 kategori (A, B, C ose D) me teste të pakufizuara, Decision Trainer, Materiale Studimi dhe rishikim të plotë. Pa abonim automatik.'\r\n                : 'Each plan unlocks 1 category (A, B, C or D) with unlimited mock tests, Decision Trainer, Study Material and full review. No auto-renew, no contracts.'}\r\n            </p>\r\n\r\n            <p className=\"mt-2 text-[11px] md:text-xs text-muted-foreground/80\">\r\n              {isSq\r\n                ? 'Mund të filloni falas me disa teste dhe të kaloni në plan të paguar vetëm kur të jeni gati.'\r\n                : 'You can start for free with a few tests, then upgrade when you want unlimited practice.'}\r\n            </p>\r\n          </section>\r\n\r\n          {/* Stepper */}\r\n          <div className=\"mb-8 grid gap-3 rounded-2xl border border-border/70 bg-black/75 p-3 text-xs md:grid-cols-3\">\r\n            {[\r\n              { step: 1, label: stepLabelCategory },\r\n              { step: 2, label: stepLabelPlan },\r\n              { step: 3, label: stepLabelPay },\r\n            ].map(({ step, label }) => {\r\n              const isCompleted =\r\n                (step === 1 && !!selectedCategory) ||\r\n                (step === 2 && !!selectedPlan && !!selectedCategory) ||\r\n                (step === 3 && !!selectedPlan && !!selectedCategory);\r\n              const isCurrent =\r\n                (step === 1 && !selectedCategory) ||\r\n                (step === 2 && selectedCategory && !selectedPlan) ||\r\n                (step === 3 && selectedCategory && selectedPlan);\r\n\r\n              return (\r\n                <div\r\n                  key={step}\r\n                  className={`flex items-center gap-3 rounded-xl border px-3 py-2 transition-colors ${\r\n                    isCurrent\r\n                      ? 'border-orange-400/70 bg-orange-500/10 text-foreground'\r\n                      : isCompleted\r\n                      ? 'border-emerald-500/50 bg-emerald-500/10 text-emerald-100'\r\n                      : 'border-border/60 bg-black/60 text-muted-foreground'\r\n                  }`}\r\n                >\r\n                  <div\r\n                    className={`flex h-7 w-7 items-center justify-center rounded-full text-xs font-bold ${\r\n                      isCompleted\r\n                        ? 'bg-emerald-500 text-black'\r\n                        : isCurrent\r\n                        ? 'bg-orange-500 text-black'\r\n                        : 'bg-muted text-muted-foreground'\r\n                    }`}\r\n                  >\r\n                    {isCompleted ? <Check className=\"h-3 w-3\" /> : step}\r\n                  </div>\r\n                  <span className=\"text-[11px] md:text-xs\">{label}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Main layout: left (category + free vs paid), right (plans + summary) */}\r\n          <div className=\"grid items-start gap-6 lg:grid-cols-[1.1fr,1.4fr]\">\r\n            {/* LEFT */}\r\n            <GlassCard className=\"border border-border/80 bg-black/85 p-5 md:p-6 space-y-6\">\r\n              {/* Category chooser */}\r\n              <div>\r\n                <div className=\"mb-2 flex items-center justify-between gap-2\">\r\n                  <h2 className=\"text-sm font-semibold\">{stepLabelCategory}</h2>\r\n                  <span className=\"text-[11px] text-muted-foreground\">\r\n                    {isSq ? 'Zakonisht 1 minutë' : 'Takes about 1 minute'}\r\n                  </span>\r\n                </div>\r\n                <p className=\"mb-3 text-xs text-muted-foreground\">\r\n                  {isSq\r\n                    ? 'Zgjidh kategorinë e patentë shoferit për të cilën po përgatitesh. Mund të blesh plane veç e veç për çdo kategori.'\r\n                    : 'Pick the license category you’re preparing for. You can buy separate plans for each category.'}\r\n                </p>\r\n\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {LICENSE_CATEGORIES.map((cat) => {\r\n                    const info = CATEGORY_INFO[cat];\r\n                    const isActive = cat === selectedCategory;\r\n                    const planForThisCat = existingPlans?.find((p) => p.category === cat);\r\n                    const isPlanActive =\r\n                      planForThisCat &&\r\n                      planForThisCat.status === 'active' &&\r\n                      isPlanCurrentlyActive({\r\n                        startDate: planForThisCat.start_date,\r\n                        endDate: planForThisCat.end_date,\r\n                      });\r\n\r\n                    return (\r\n                      <button\r\n                        key={cat}\r\n                        type=\"button\"\r\n                        onClick={() => handleSelectCategory(cat)}\r\n                        className={`relative flex min-w-[120px] items-center justify-between gap-2 rounded-xl border px-4 py-3 text-sm transition-all ${\r\n                          isActive\r\n                            ? 'border-orange-400 bg-orange-500/10 text-foreground shadow-[0_0_20px_rgba(249,115,22,0.3)]'\r\n                            : 'border-border/70 bg-black/60 text-muted-foreground hover:border-orange-400/70 hover:bg-orange-500/5 hover:text-foreground'\r\n                        }`}\r\n                        aria-pressed={isActive}\r\n                      >\r\n                        <div className=\"flex flex-col text-left\">\r\n                          <span className=\"text-xs font-semibold uppercase tracking-wide\">\r\n                            {info.name}\r\n                          </span>\r\n                          <span className=\"text-[11px] text-muted-foreground\">\r\n                            {isSq ? 'Kategori licence' : 'License category'}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          {isPlanActive && (\r\n                            <span className=\"rounded-full border border-emerald-500/40 bg-emerald-500/20 px-2 py-[2px] text-[10px] text-emerald-300\">\r\n                              {isSq ? 'Aktive' : 'Active'}\r\n                            </span>\r\n                          )}\r\n                          {isActive && (\r\n                            <span className=\"flex h-3 w-3\">\r\n                              <span className=\"absolute inline-flex h-3 w-3 animate-ping rounded-full bg-orange-400 opacity-70\" />\r\n                              <span className=\"relative inline-flex h-3 w-3 rounded-full bg-orange-400\" />\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n\r\n                {currentCategoryPlan && currentCategoryPlanActive && selectedCategory && (\r\n                  <p className=\"mt-2 text-[11px] text-emerald-300\">\r\n                    {t('pricing.currentPlanFor')}{' '}\r\n                    {CATEGORY_INFO[selectedCategory].name}:{' '}\r\n                    <span className=\"font-semibold\">{currentCategoryPlan.plan_tier}</span>\r\n                    {currentCategoryPlan.end_date && (\r\n                      <>\r\n                        {' '}\r\n                        {t('pricing.until')}{' '}\r\n                        {new Date(currentCategoryPlan.end_date).toLocaleDateString()}\r\n                      </>\r\n                    )}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Free vs Paid comparison */}\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center gap-2 text-xs font-medium text-foreground\">\r\n                  <Sparkles className=\"h-4 w-4 text-orange-400\" />\r\n                  <span>\r\n                    {isSq ? 'Çfarë merr falas dhe me Premium' : 'What you get free vs Premium'}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"grid gap-3 md:grid-cols-2\">\r\n                  <Card className=\"border border-border/70 bg-black/70\">\r\n                    <CardHeader className=\"px-3 pb-2 pt-3\">\r\n                      <CardTitle className=\"flex items-center justify-between text-sm\">\r\n                        <span>{isSq ? 'Falas' : 'Free'}</span>\r\n                        <span className=\"text-xs text-muted-foreground\">0 €</span>\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-1 px-3 pb-3\">\r\n                      {featureListFree.map((f) => (\r\n                        <p key={f} className=\"flex items-start gap-2 text-xs text-muted-foreground\">\r\n                          <span className=\"mt-[3px] text-muted-foreground/70\">•</span>\r\n                          <span>{f}</span>\r\n                        </p>\r\n                      ))}\r\n                    </CardContent>\r\n                  </Card>\r\n\r\n                  <Card className=\"relative overflow-hidden border border-orange-400/70 bg-orange-500/5\">\r\n                    <CardHeader className=\"relative px-3 pb-2 pt-3\">\r\n                      <CardTitle className=\"flex items-center justify-between text-sm\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Crown className=\"h-4 w-4 text-orange-300\" />\r\n                          <span>Premium</span>\r\n                        </div>\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"relative space-y-1 px-3 pb-3\">\r\n                      {featureListPaid.map((f) => (\r\n                        <p key={f} className=\"flex items-start gap-2 text-xs text-muted-foreground\">\r\n                          <Check className=\"mt-[2px] h-3 w-3 text-orange-400\" />\r\n                          <span>{f}</span>\r\n                        </p>\r\n                      ))}\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n\r\n                {!user && (\r\n                  <div className=\"mt-1 flex items-start gap-2 rounded-xl border border-border/70 bg-black/70 p-3 text-[11px] text-muted-foreground\">\r\n                    <Info className=\"mt-[2px] h-4 w-4 shrink-0\" />\r\n                    <p>\r\n                      {isSq\r\n                        ? 'Krijo llogari që të ruhen historia e testeve dhe progresi juaj.'\r\n                        : 'Create an account so your test history and progress are saved.'}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </GlassCard>\r\n\r\n            {/* RIGHT: Plans + summary */}\r\n            <div className=\"space-y-4\">\r\n              {/* Plans row */}\r\n              <section aria-label={stepLabelPlan} className=\"space-y-4\">\r\n                <div className=\"flex flex-col gap-0.5\">\r\n                  <h2 className=\"text-base md:text-lg font-semibold tracking-tight text-foreground\">\r\n                    {stepLabelPlan}\r\n                  </h2>\r\n                  <p className=\"text-xs md:text-sm text-muted-foreground\">\r\n                    {isSq\r\n                      ? 'Zgjidh sa gjatë dëshiron qasje të plotë.'\r\n                      : 'Choose how long you want full access.'}\r\n                  </p>\r\n                </div>\r\n\r\n                <div\r\n                  className={`grid gap-5 md:grid-cols-3 transition-all duration-300 ${\r\n                    !selectedCategory ? 'pointer-events-none opacity-45 grayscale' : 'opacity-100'\r\n                  }`}\r\n                >\r\n                  {Object.values(BILLING_CONFIG.plans).map((plan) => {\r\n                    const isBestValue = plan.id === BILLING_CONFIG.bestValuePlan;\r\n                    const isSelected = plan.id === selectedPlan;\r\n                    const isCurrentActivePlan =\r\n                      !!currentCategoryPlan &&\r\n                      currentCategoryPlan.plan_tier === plan.id &&\r\n                      currentCategoryPlanActive;\r\n\r\n                    // Dynamic CTA text based on plan duration\r\n                    let ctaText = isSq ? 'Zgjidh këtë plan' : 'Choose this exam window';\r\n                    if (plan.id === 'PLAN_A') ctaText = isSq ? 'Merr 1 muaj qasje' : 'Get 1 month access';\r\n                    if (plan.id === 'PLAN_B') ctaText = isSq ? 'Merr 2 muaj qasje' : 'Get 2 months access';\r\n                    if (plan.id === 'PLAN_C') ctaText = isSq ? 'Merr 3 muaj qasje' : 'Get 3 months access';\r\n\r\n                    return (\r\n                      <Card\r\n                        key={plan.id}\r\n                        className={`relative flex h-full cursor-pointer flex-col justify-between border transition-all duration-300 !overflow-visible rounded-3xl before:rounded-3xl ${\r\n                          isSelected\r\n                            ? 'border-orange-500 ring-1 ring-orange-500 bg-black shadow-[0_0_50px_rgba(249,115,22,0.4)] scale-[1.03] z-10'\r\n                            : isBestValue\r\n                            ? 'border-orange-500/40 bg-zinc-950 hover:border-orange-500/70 hover:bg-black scale-[1.01] z-0'\r\n                            : 'border-border/70 bg-zinc-950 hover:border-orange-400/40 hover:bg-black'\r\n                        }`}\r\n                        onClick={() => {\r\n                          if (!isCurrentActivePlan && !isProcessing && !isAdmin) {\r\n                            setSelectedPlan(plan.id);\r\n                          }\r\n                        }}\r\n                        aria-pressed={isSelected}\r\n                        aria-disabled={isCurrentActivePlan || isAdmin}\r\n                      >\r\n                        {isBestValue && (\r\n                          <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 z-20 w-max max-w-[90%]\">\r\n                            <div className=\"relative rounded-full border border-orange-400/80 bg-gradient-to-r from-orange-600 to-amber-500 px-3 py-1 text-[10px] font-bold uppercase tracking-[0.15em] text-white shadow-[0_4px_12px_rgba(249,115,22,0.5)]\">\r\n                              {isSq ? 'Më i vlefshmi' : 'Best value'}\r\n                              {/* Little shine effect */}\r\n                              <div className=\"absolute inset-0 rounded-full bg-white/10\" />\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {isSelected && (\r\n                          <div className=\"absolute right-3 top-3 rounded-full bg-orange-500/20 p-1 text-orange-400\">\r\n                            <Check className=\"h-3.5 w-3.5\" />\r\n                          </div>\r\n                        )}\r\n\r\n                        <CardHeader className={`pt-8 pb-4 ${isBestValue ? 'bg-gradient-to-b from-orange-500/10 to-transparent rounded-t-3xl' : ''}`}>\r\n                          <CardTitle className=\"flex flex-col gap-1.5 text-sm font-semibold\">\r\n                            <div className=\"flex items-center justify-between gap-2\">\r\n                              <span className={isBestValue ? 'text-orange-100' : 'text-foreground'}>\r\n                                {plan.label}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex items-baseline gap-1\">\r\n                              <span className={`text-3xl font-bold ${isBestValue ? 'text-white' : 'text-foreground'}`}>\r\n                                {plan.priceEur}\r\n                              </span>\r\n                              <span className=\"text-sm text-muted-foreground\">€</span>\r\n                            </div>\r\n                          </CardTitle>\r\n                        </CardHeader>\r\n\r\n                        <CardContent className=\"space-y-3 pb-4 text-xs text-muted-foreground\">\r\n                          <div>\r\n                            <p className=\"font-medium text-foreground/90 mb-0.5\">\r\n                              {isSq ? 'Vetëm' : 'Just'} {plan.pricePerMonthEur.toFixed(2)} € /{' '}\r\n                              {isSq ? 'muaj' : 'mo'}\r\n                            </p>\r\n                            <p className=\"text-[11px] opacity-70\">\r\n                              {isSq\r\n                                ? 'Pa abonim automatik.'\r\n                                : 'No auto-renew.'}\r\n                            </p>\r\n                          </div>\r\n\r\n                          {isCurrentActivePlan && (\r\n                            <p className=\"mt-1 rounded bg-emerald-500/10 p-2 text-center text-[11px] font-medium text-emerald-400 border border-emerald-500/20\">\r\n                              {isSq\r\n                                ? 'Ky plan është tashmë aktiv.'\r\n                                : 'Plan currently active.'}\r\n                          </p>\r\n                          )}\r\n                        </CardContent>\r\n\r\n                        <CardFooter className=\"pt-2 pb-5\">\r\n                          <div\r\n                            className={`w-full rounded-xl border py-2.5 text-center text-xs font-semibold transition-all duration-200 ${\r\n                              isSelected\r\n                                ? 'border-orange-500 bg-orange-500 text-white shadow-[0_4px_14px_rgba(249,115,22,0.4)]'\r\n                                : isBestValue\r\n                                ? 'border-orange-500/30 bg-orange-500/10 text-orange-200 group-hover:bg-orange-500/20 group-hover:border-orange-500/50'\r\n                                : 'border-white/10 bg-white/5 text-muted-foreground group-hover:bg-white/10 group-hover:text-foreground'\r\n                            }`}\r\n                          >\r\n                            {isSelected\r\n                              ? (isSq ? 'Opsioni i zgjedhur' : 'Selected option')\r\n                              : ctaText}\r\n                          </div>\r\n                        </CardFooter>\r\n                      </Card>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </section>\r\n\r\n              {/* Summary + CTA */}\r\n              <section aria-label={stepLabelPay}>\r\n                <GlassCard\r\n                  className={`flex flex-col gap-5 border border-border/80 bg-gradient-to-r from-black via-zinc-950 to-black px-6 py-6 md:flex-row md:items-center md:justify-between transition-all duration-500 ${\r\n                    selectedCategory && selectedPlan ? 'translate-y-0 opacity-100' : 'translate-y-2 opacity-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"space-y-2 text-xs md:text-sm\">\r\n                    <div className=\"flex flex-wrap items-center gap-2\">\r\n                      <span className=\"inline-flex items-center gap-1.5 rounded-full border border-orange-500/40 bg-orange-500/10 px-2.5 py-1 text-[11px] font-medium text-orange-300 shadow-[0_0_10px_rgba(249,115,22,0.15)]\">\r\n                        <Sparkles className=\"h-3 w-3\" />\r\n                        {isSq ? 'Përmbledhja' : 'Summary'}\r\n                      </span>\r\n                      {selectedCategory && selectedPlanData && (\r\n                        <span className=\"text-foreground font-medium tracking-tight\">\r\n                          {CATEGORY_INFO[selectedCategory].name}{' '}\r\n                          <span className=\"text-muted-foreground/60 mx-1\">/</span> {selectedPlanData.label}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n\r\n                    {selectedCategory && selectedPlanData ? (\r\n                      <>\r\n                        <p className=\"text-sm text-muted-foreground pl-1\">\r\n                          {isSq ? 'Total:' : 'Total:'}{' '}\r\n                          <span className=\"text-xl font-bold text-white ml-1\">{selectedPlanData.priceEur} €</span>{' '}\r\n                          <span className=\"text-xs text-muted-foreground/80 ml-1\">\r\n                            {isSq\r\n                              ? '(paguhet një herë)'\r\n                              : '(one-time payment)'}\r\n                          </span>\r\n                        </p>\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-xs italic text-muted-foreground pl-1\">\r\n                        {isSq\r\n                          ? 'Zgjidhni kategorinë dhe planin për të vazhduar.'\r\n                          : 'Select a category and plan to continue.'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex flex-col items-stretch gap-3 md:items-end\">\r\n                    <Button\r\n                      type=\"button\"\r\n                      onClick={handlePurchase}\r\n                      disabled={\r\n                        !selectedCategory ||\r\n                        !selectedPlan ||\r\n                        isProcessing ||\r\n                        isAdmin ||\r\n                        currentCategoryPlanActive\r\n                      }\r\n                      size=\"lg\"\r\n                      className=\"min-w-[260px] h-12 rounded-xl bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-400 hover:to-red-400 text-white font-semibold shadow-[0_0_25px_rgba(249,115,22,0.4)] border-none transition-all hover:scale-[1.02] hover:shadow-[0_0_35px_rgba(249,115,22,0.5)]\"\r\n                    >\r\n                      {isAdmin\r\n                        ? isSq\r\n                          ? 'Pamje si admin'\r\n                          : 'Admin preview'\r\n                        : isProcessing\r\n                        ? isSq\r\n                          ? 'Duke u përpunuar...'\r\n                          : 'Processing...'\r\n                        : currentCategoryPlanActive\r\n                        ? isSq\r\n                          ? 'Plani tashmë është aktiv'\r\n                          : 'Plan already active'\r\n                        : !selectedCategory || !selectedPlan\r\n                        ? isSq\r\n                          ? 'Zgjidh opsionet...'\r\n                          : 'Select options...'\r\n                        : isSq\r\n                        ? 'Hap qasjen e plotë'\r\n                        : 'Unlock full exam access'}\r\n                    </Button>\r\n\r\n                    {!user && (\r\n                      <p className=\"text-[10px] text-muted-foreground/70 text-center md:text-right\">\r\n                        {isSq\r\n                          ? 'Krijo llogari që të ruhet historia e testeve.'\r\n                          : 'Create an account to save your progress.'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </GlassCard>\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n];\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('info', __iconNode);\n\nexport default Info;\n"],"names":[],"mappings":"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","ignoreList":[1]}