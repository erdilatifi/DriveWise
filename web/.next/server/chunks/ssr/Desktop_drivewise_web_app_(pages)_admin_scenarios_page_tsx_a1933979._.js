module.exports=[49449,a=>{"use strict";var b=a.i(681),c=a.i(84813),d=a.i(53365),e=a.i(22309),f=a.i(78330),g=a.i(663),h=a.i(14505),i=a.i(42185),j=a.i(98507),k=a.i(92347),l=a.i(93639),m=a.i(98065),n=a.i(63875),o=a.i(40591),p=a.i(91710),q=a.i(14884),r=a.i(10226),s=a.i(28248),t=a.i(26464),u=a.i(70805),v=a.i(93962),w=a.i(39232),x=a.i(1004),y=a.i(25761),z=a.i(61334),A=a.i(78060),B=a.i(87454);function C(){let{user:a,loading:C}=(0,e.useAuth)(),D=(0,d.useRouter)(),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(0),[I,J]=(0,c.useState)(!0),[K,L]=(0,c.useState)(1),[M]=(0,c.useState)(20),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)("all"),[R,S]=(0,c.useState)("all"),[T,U]=(0,c.useState)("all"),[V,W]=(0,c.useState)("all"),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(null),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(null),[aj,ak]=(0,c.useState)({category:"traffic-lights",level:1,question:"",image_url:"",options:[{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""}],correct_explanation:"",real_world_tip:"",xp:25,chapter_id:1,is_published:!0}),al=()=>{$(null),aa(null),ac(""),ak({category:"traffic-lights",level:1,question:"",image_url:"",options:[{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""},{text:"",isCorrect:!1,explanation:""}],correct_explanation:"",real_world_tip:"",xp:25,chapter_id:1,is_published:!0})},am=()=>{Y(!1),al()},an=Math.ceil(G/M),ao=K<an,ap=K>1;(0,c.useEffect)(()=>{if(!_)return;let a=URL.createObjectURL(_);return ac(a),()=>URL.revokeObjectURL(a)},[_]);let aq=(0,c.useCallback)(async(a=1,b=!1)=>{try{b&&J(!0);let c=(0,y.createClient)().from("decision_trainer_scenarios").select("*",{count:"exact"});N.trim()&&(c=c.or(`question.ilike.%${N}%,correct_explanation.ilike.%${N}%,real_world_tip.ilike.%${N}%`)),"all"!==P&&(c=c.eq("category",P)),"all"!==R&&(c=c.eq("level",parseInt(R))),"all"!==T&&(c=c.eq("is_active","active"===T)),"all"!==V&&(c=c.eq("is_published","published"===V));let d=(a-1)*M,e=d+M-1,{data:f,error:g,count:h}=await c.order("created_at",{ascending:!1}).range(d,e);if(g)throw g;F(f||[]),H(h||0),L(a)}catch(b){let a=b.message||"Failed to load scenarios";a.includes("42P01")?z.toast.error("Decision trainer table not found. Please run the database migration."):a.includes("42501")?z.toast.error("Permission denied. Please check your admin privileges."):z.toast.error(a)}finally{J(!1)}},[N,P,R,T,V,M]);(0,c.useEffect)(()=>{let b=setTimeout(()=>{a&&(L(1),aq(1,!0))},300);return()=>clearTimeout(b)},[N,aq,a]),(0,c.useEffect)(()=>{a&&(L(1),aq(1,!0))},[P,R,T,V,aq,a]),(0,c.useEffect)(()=>{C||a?a&&aq(1,!0):D.push("/login")},[a,C,D,aq]);let ar=(a,b)=>{ak(c=>({...c,[a]:b}))},as=(a,b,c)=>{ak(d=>{let e=[...d.options];return e[a]={...e[a],[b]:c},{...d,options:e}})},at=async a=>{if(a.preventDefault(),!ad)try{let a=aj.question.trim();if(!a)return void z.toast.error("Question is required");let b=aj.options.map(a=>({...a,text:a.text.trim(),explanation:a.explanation?.trim()||""})).filter(a=>a.text.length>0);if(b.length<2)return void z.toast.error("Please provide at least two answer options");if(!b.some(a=>a.isCorrect))return void z.toast.error("Please mark at least one option as correct");let c=aj.correct_explanation.trim();if(!c)return void z.toast.error("Correct explanation is required");let d=aj.real_world_tip.trim();if(!d)return void z.toast.error("Real-world tip is required");if(!aj.xp||aj.xp<=0)return void z.toast.error("XP must be greater than 0");ae(!0);let e=(0,y.createClient)(),f=aj.image_url||"";if(_){let a=_.name.split(".").pop(),b=`${Date.now()}-${Math.random().toString(36).slice(2,8)}.${a}`,c=`scenario-images/${b}`,{error:d}=await e.storage.from("decision-trainer").upload(c,_);if(d){z.toast.error("Failed to upload image"),ae(!1);return}let{data:g}=e.storage.from("decision-trainer").getPublicUrl(c);f=g.publicUrl}if(Z){let{error:g}=await e.from("decision_trainer_scenarios").update({category:aj.category,level:aj.level,question:a,image_url:f||null,options:b,correct_explanation:c,real_world_tip:d,xp:aj.xp,chapter_id:aj.chapter_id||null}).eq("id",Z.id);if(g){z.toast.error("Failed to update scenario"),ae(!1);return}z.toast.success("Scenario updated successfully")}else{let g=`scn-${Date.now()}`,{error:h}=await e.from("decision_trainer_scenarios").insert({id:g,category:aj.category,level:aj.level,question:a,image_url:f||null,options:b,correct_explanation:c,real_world_tip:d,xp:aj.xp,is_active:!0,chapter_id:aj.chapter_id||null});if(h){z.toast.error("Failed to create scenario"),ae(!1);return}z.toast.success("Scenario created successfully")}am(),aq(K,!0)}catch(a){z.toast.error("Failed to save scenario")}finally{ae(!1)}},au=()=>(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:M}).map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,b.jsx)(k.Skeleton,{className:"h-4 w-3/4 mb-2"}),(0,b.jsx)(k.Skeleton,{className:"h-3 w-1/2 mb-4"}),(0,b.jsx)(k.Skeleton,{className:"h-20 w-full mb-2"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(k.Skeleton,{className:"h-8 w-16"}),(0,b.jsx)(k.Skeleton,{className:"h-8 w-16"})]})]},c))});return C||I?(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(f.Navbar,{}),(0,b.jsxs)("div",{className:"container mx-auto px-6 py-8 max-w-7xl pt-28",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Skeleton,{className:"h-8 w-48 mb-2"}),(0,b.jsx)(k.Skeleton,{className:"h-4 w-32"})]}),(0,b.jsx)(k.Skeleton,{className:"h-10 w-32"})]}),(0,b.jsx)(au,{})]})]}):a?(0,b.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,b.jsx)(f.Navbar,{}),(0,b.jsxs)("div",{className:"container mx-auto px-6 py-8 max-w-7xl pt-28",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex items-center gap-4 mb-2",children:(0,b.jsx)(g.Button,{variant:"ghost",asChild:!0,children:(0,b.jsxs)(x.default,{href:"/admin",children:[(0,b.jsx)(o.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Admin"]})})}),(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Decision Trainer Scenarios"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Manage interactive driving scenarios (",G," total)"]})]}),(0,b.jsxs)(g.Button,{onClick:()=>{al(),Y(!0)},children:[(0,b.jsx)(p.Plus,{className:"w-4 h-4 mr-2"}),"Add Scenario"]})]}),(0,b.jsx)(l.GlassCard,{className:"p-6 mb-6 border border-border/80 bg-black/80",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(u.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,b.jsx)(h.Input,{placeholder:"Search scenarios...",value:N,onChange:a=>O(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)(i.Select,{value:P,onValueChange:Q,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-40 min-w-[9rem]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Category"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Categories"}),Object.entries(A.CATEGORY_INFO).map(([a,c])=>(0,b.jsx)(i.SelectItem,{value:a,children:c.name},a))]})]}),(0,b.jsxs)(i.Select,{value:R,onValueChange:S,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-32 min-w-[7rem]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Level"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Levels"}),(0,b.jsx)(i.SelectItem,{value:"1",children:"Level 1"}),(0,b.jsx)(i.SelectItem,{value:"2",children:"Level 2"}),(0,b.jsx)(i.SelectItem,{value:"3",children:"Level 3"}),(0,b.jsx)(i.SelectItem,{value:"4",children:"Level 4"})]})]}),(0,b.jsxs)(i.Select,{value:T,onValueChange:U,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-32 min-w-[7rem]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)(i.Select,{value:V,onValueChange:W,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-32 min-w-[7rem]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Published"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"All Publish"}),(0,b.jsx)(i.SelectItem,{value:"published",children:"Published"}),(0,b.jsx)(i.SelectItem,{value:"draft",children:"Draft"})]})]})]})]}),(N||"all"!==P||"all"!==R||"all"!==T)&&(0,b.jsxs)(g.Button,{variant:"outline",onClick:()=>{O(""),Q("all"),S("all"),U("all"),W("all")},children:[(0,b.jsx)(t.X,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]})}),I?(0,b.jsx)(au,{}):0===E.length?(0,b.jsxs)(l.GlassCard,{className:"p-12 text-center border border-border/80 bg-black/80",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸŽ¯"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No scenarios found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:N||"all"!==P||"all"!==R||"all"!==T?"Try adjusting your filters or search query.":"Get started by creating your first scenario."}),(0,b.jsxs)(g.Button,{onClick:()=>Y(!0),children:[(0,b.jsx)(p.Plus,{className:"w-4 h-4 mr-2"}),"Add First Scenario"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:E.map(a=>(0,b.jsxs)(l.GlassCard,{className:"p-6 border border-border/80 bg-black/80 hover:border-primary/50 hover:shadow-[0_22px_60px_rgba(0,0,0,0.9)] transition-all",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Badge,{variant:"outline",children:A.CATEGORY_INFO[a.category]?.name||a.category}),(0,b.jsxs)(j.Badge,{variant:"secondary",children:["Level ",a.level]}),(0,b.jsx)(j.Badge,{variant:a.is_active?"default":"destructive",children:a.is_active?"Active":"Inactive"}),(0,b.jsx)(j.Badge,{variant:!1!==a.is_published?"outline":"destructive",children:!1!==a.is_published?"Published":"Draft"})]})}),(0,b.jsx)("h3",{className:"font-semibold mb-2 line-clamp-2",children:a.question}),a.image_url&&(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("img",{src:a.image_url,alt:"Scenario",className:"w-full h-32 object-cover rounded-md"})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:a.correct_explanation}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-primary",children:[a.xp," XP"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{size:"sm",variant:"outline",onClick:()=>{$(a),ak({category:a.category,level:a.level,question:a.question,image_url:a.image_url||"",options:a.options,correct_explanation:a.correct_explanation,real_world_tip:a.real_world_tip,xp:a.xp,chapter_id:a.chapter_id||1,is_published:!1!==a.is_published}),ac(a.image_url||""),Y(!0)},children:(0,b.jsx)(q.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{size:"sm",variant:"destructive",onClick:()=>{ai(a.id),ag(!0)},children:(0,b.jsx)(r.Trash2,{className:"w-4 h-4"})})]})]})]},a.id))}),an>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",(K-1)*M+1," to ",Math.min(K*M,G)," of ",G," scenarios"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{ap&&aq(K-1,!0)},disabled:!ap,children:[(0,b.jsx)(v.ChevronLeft,{className:"w-4 h-4"}),"Previous"]}),(0,b.jsx)("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,an)},(a,c)=>{let d;return d=an<=5||K<=3?c+1:K>=an-2?an-4+c:K-2+c,(0,b.jsx)(g.Button,{variant:d===K?"default":"outline",size:"sm",onClick:()=>{d>=1&&d<=an&&aq(d,!0)},className:"w-10",children:d},d)})}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{ao&&aq(K+1,!0)},disabled:!ao,children:["Next",(0,b.jsx)(w.ChevronRight,{className:"w-4 h-4"})]})]})]})]})]}),X&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-full max-w-4xl mx-4",children:(0,b.jsxs)(l.GlassCard,{className:"p-6 border border-border/80 bg-black/90 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold",children:Z?"Edit Scenario":"Add Scenario"}),(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",onClick:am,children:(0,b.jsx)(t.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("form",{className:"space-y-6",onSubmit:at,children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Label,{className:"mb-1 block",children:"Category"}),(0,b.jsxs)(i.Select,{value:aj.category,onValueChange:a=>ar("category",a),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select category"})}),(0,b.jsx)(i.SelectContent,{children:Object.entries(A.CATEGORY_INFO).map(([a,c])=>(0,b.jsx)(i.SelectItem,{value:a,children:c.name},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Label,{className:"mb-1 block",children:"Level"}),(0,b.jsxs)(i.Select,{value:String(aj.level),onValueChange:a=>ar("level",parseInt(a)),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select level"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"1",children:"Level 1"}),(0,b.jsx)(i.SelectItem,{value:"2",children:"Level 2"}),(0,b.jsx)(i.SelectItem,{value:"3",children:"Level 3"}),(0,b.jsx)(i.SelectItem,{value:"4",children:"Level 4"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Label,{className:"mb-1 block",children:"XP"}),(0,b.jsx)(h.Input,{type:"number",min:0,value:aj.xp,onChange:a=>ar("xp",parseInt(a.target.value||"0"))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Label,{className:"mb-1 block",children:"Chapter (optional)"}),(0,b.jsx)(h.Input,{type:"number",min:1,max:20,value:aj.chapter_id??"",onChange:a=>{let b=a.target.value;ar("chapter_id",""===b?null:parseInt(b,10)||null)},placeholder:"e.g. 5"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Label,{className:"mb-1 block",children:"Status"}),(0,b.jsxs)(i.Select,{value:aj.is_published?"published":"draft",onValueChange:a=>ak(b=>({...b,is_published:"published"===a})),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"published",children:"Published"}),(0,b.jsx)(i.SelectItem,{value:"draft",children:"Draft"})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{className:"block",children:"Question"}),(0,b.jsx)(m.Textarea,{value:aj.question,onChange:a=>ar("question",a.target.value),placeholder:"Enter the scenario question..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{className:"block",children:"Correct Explanation"}),(0,b.jsx)(m.Textarea,{value:aj.correct_explanation,onChange:a=>ar("correct_explanation",a.target.value),placeholder:"Explain why the correct answer is right..."})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{className:"block",children:"Real-world Tip"}),(0,b.jsx)(m.Textarea,{value:aj.real_world_tip,onChange:a=>ar("real_world_tip",a.target.value),placeholder:"Give a practical real-world driving tip..."})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(n.Label,{className:"block",children:"Answer Options"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"Mark all correct answers (multiple correct options supported)"})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:aj.options.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2 border rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("span",{className:"text-xs font-medium text-muted-foreground",children:["Option ",c+1]}),(0,b.jsx)(g.Button,{type:"button",size:"sm",variant:a.isCorrect?"default":"outline",onClick:()=>{ak(a=>{let b=a.options.map((a,b)=>b===c?{...a,isCorrect:!a.isCorrect}:a);return{...a,options:b}})},children:a.isCorrect?"Correct":"Mark Correct"})]}),(0,b.jsx)(h.Input,{placeholder:"Option text",value:a.text,onChange:a=>as(c,"text",a.target.value)}),(0,b.jsx)(m.Textarea,{placeholder:"Optional explanation for this option",value:a.explanation,onChange:a=>as(c,"explanation",a.target.value),className:"mt-2"})]},c))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{className:"block",children:"Image (optional)"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(g.Button,{type:"button",variant:"outline",className:"flex items-center gap-2 relative overflow-hidden",children:[(0,b.jsx)(s.Image,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Choose Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:a=>{let b=a.target.files?.[0]??null;b&&aa(b)}})]}),ab&&(0,b.jsx)("div",{className:"w-24 h-16 rounded-md overflow-hidden border",children:(0,b.jsx)("img",{src:ab,alt:"Preview",className:"w-full h-full object-cover"})})]}),aj.image_url&&!ab&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground break-all",children:["Current image: ",aj.image_url]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 pt-2",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:am,disabled:ad,className:"w-full sm:w-auto",children:"Cancel"}),(0,b.jsx)(g.Button,{type:"submit",disabled:ad,className:"w-full sm:w-auto",children:ad?"Saving...":Z?"Save Changes":"Create Scenario"})]})]})]})})}),(0,b.jsx)(B.AlertDialog,{open:af,onOpenChange:ag,children:(0,b.jsxs)(B.AlertDialogContent,{children:[(0,b.jsxs)(B.AlertDialogHeader,{children:[(0,b.jsx)(B.AlertDialogTitle,{children:"Delete Scenario"}),(0,b.jsx)(B.AlertDialogDescription,{children:"Are you sure you want to delete this scenario? This action cannot be undone."})]}),(0,b.jsxs)(B.AlertDialogFooter,{children:[(0,b.jsx)(B.AlertDialogCancel,{children:"Cancel"}),(0,b.jsx)(B.AlertDialogAction,{onClick:async()=>{if(ah)try{let a=(0,y.createClient)(),{error:b}=await a.from("decision_trainer_scenarios").delete().eq("id",ah);if(b)throw b;z.toast.success("Scenario deleted successfully"),aq(K,!0)}catch(a){z.toast.error("Failed to delete scenario")}finally{ag(!1),ai(null)}},children:"Delete"})]})]})})]}):null}a.s(["default",()=>C])}];

//# sourceMappingURL=Desktop_drivewise_web_app_%28pages%29_admin_scenarios_page_tsx_a1933979._.js.map