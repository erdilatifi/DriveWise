{"version":3,"sources":["turbopack:///[project]/Desktop/drivewise/web/app/(pages)/history/[id]/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { createClient } from '@/utils/supabase/client';\nimport { Navbar } from '@/components/navbar';\nimport { GlassCard } from '@/components/ui/glass-card';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport Link from 'next/link';\nimport { ArrowLeft, ArrowRight, CheckCircle, XCircle, CheckSquare } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useLanguage } from '@/contexts/language-context';\nimport { useAuth } from '@/contexts/auth-context';\nimport { useCategoryEntitlements } from '@/hooks/use-subscriptions';\nimport type { LicenseCategory } from '@/types/database';\n\ninterface Answer {\n  id: string;\n  selected_answer: string;\n  is_correct: boolean;\n  question: {\n    id: string;\n    question_text: string;\n    option_a: string;\n    option_b: string;\n    option_c: string;\n    correct_answer: string;\n    correct_answers?: string[];\n    image_url?: string;\n    explanation?: string | null;\n    topic?: string | null;\n  } | null;\n}\n\nexport default function ReviewPage() {\n  const params = useParams();\n  const router = useRouter();\n  const testId = params.id as string;\n  const supabase = createClient();\n  const { language, t } = useLanguage();\n  const { user, isAdmin } = useAuth();\n\n  interface TestInfo {\n    id: string;\n    category: string;\n    test_number: string;\n    score: number;\n    total_questions: number;\n    percentage: number;\n    completed_at: string;\n  }\n\n  const [answers, setAnswers] = useState<Answer[]>([]);\n  const [testInfo, setTestInfo] = useState<TestInfo | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n\n  const { data: entitlementResult, isLoading: entitlementsLoading } = useCategoryEntitlements(\n    user?.id,\n    (testInfo?.category as LicenseCategory | undefined) || undefined,\n    isAdmin,\n  );\n\n  useEffect(() => {\n    fetchTestDetails();\n  }, [testId]);\n\n  const fetchTestDetails = async () => {\n    setLoading(true);\n    try {\n      // Get test attempt info\n      const { data: test, error: testError } = await supabase\n        .from('test_attempts')\n        .select('*')\n        .eq('id', testId)\n        .single();\n\n      if (testError) {\n        console.error('Error fetching test:', testError);\n        throw testError;\n      }\n      setTestInfo(test);\n\n      // Get answers with questions - using question_id as foreign key\n      const { data: answersData, error: answersError } = await supabase\n        .from('test_attempt_answers')\n        .select('*')\n        .eq('test_attempt_id', testId)\n        .order('answered_at', { ascending: true });\n\n      if (answersError) {\n        console.error('Error fetching answers:', answersError);\n        throw answersError;\n      }\n\n      // Fetch questions separately\n      if (answersData && answersData.length > 0) {\n        const questionIds = answersData.map(a => a.question_id);\n        const { data: questionsData, error: questionsError } = await supabase\n          .from('admin_questions')\n          .select('*')\n          .in('id', questionIds);\n\n        if (questionsError) {\n          console.error('Error fetching questions:', questionsError);\n          throw questionsError;\n        }\n\n        // Map questions to answers\n        const answersWithQuestions = answersData.map(answer => {\n          const matchedQuestion = questionsData?.find(q => q.id === answer.question_id);\n          if (!matchedQuestion) {\n            console.warn(`Question not found for answer ${answer.id}, question_id: ${answer.question_id}`);\n          }\n          return {\n            ...answer,\n            question: matchedQuestion || null\n          };\n        });\n\n        setAnswers(answersWithQuestions);\n      } else {\n        setAnswers([]);\n      }\n    } catch (error) {\n      console.error('Error fetching test details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const isLoading = loading || (!!testInfo && entitlementsLoading);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background text-foreground\">\n        <Navbar />\n        <div className=\"container mx-auto px-6 py-8 max-w-7xl pt-28\">\n          {/* Header Skeleton */}\n          <div className=\"mb-6\">\n            <Skeleton className=\"w-32 h-9 mb-4\" />\n            <div className=\"flex justify-between items-start\">\n              <div className=\"space-y-2\">\n                <Skeleton className=\"w-64 h-8\" />\n                <Skeleton className=\"w-48 h-4\" />\n              </div>\n              <div className=\"space-y-2 flex flex-col items-end\">\n                <Skeleton className=\"w-20 h-8\" />\n                <Skeleton className=\"w-24 h-4\" />\n              </div>\n            </div>\n          </div>\n\n          {/* Topics Skeleton */}\n          <div className=\"mb-6 max-w-4xl mx-auto\">\n             <GlassCard className=\"p-4\">\n                <Skeleton className=\"w-full h-32\" />\n             </GlassCard>\n          </div>\n\n          {/* Question Card Skeleton */}\n          <div className=\"max-w-4xl mx-auto mb-6\">\n             <GlassCard className=\"p-6 h-[400px]\">\n                <div className=\"flex gap-4 mb-6\">\n                   <Skeleton className=\"w-10 h-10 rounded-lg\" />\n                   <div className=\"space-y-2\">\n                      <Skeleton className=\"w-40 h-6\" />\n                      <Skeleton className=\"w-24 h-4\" />\n                   </div>\n                </div>\n                <Skeleton className=\"w-full h-8 mb-6\" />\n                <div className=\"space-y-4\">\n                   <Skeleton className=\"w-full h-16 rounded-lg\" />\n                   <Skeleton className=\"w-full h-16 rounded-lg\" />\n                   <Skeleton className=\"w-full h-16 rounded-lg\" />\n                </div>\n             </GlassCard>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAdmin && entitlementResult && !entitlementResult.entitlements.canReviewTestsInDetail) {\n    const pricingCategory = ((testInfo?.category || 'B') as string).toUpperCase();\n    return (\n      <div className=\"min-h-screen bg-background text-foreground\">\n        <Navbar />\n        <div className=\"container mx-auto px-6 py-8 max-w-3xl pt-28\">\n          <GlassCard className=\"p-8 border border-border/80 bg-black/85\">\n            <h1 className=\"text-2xl font-semibold mb-3\">\n              {t('history.reviewPaywallTitle') || 'Detailed review is part of the paid plan'}\n            </h1>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              {t('history.reviewPaywallDescription') ||\n                'On the free plan you can see a simple test history, but question-by-question review with explanations is unlocked with a paid plan for this category.'}\n            </p>\n            <ul className=\"text-sm text-muted-foreground mb-4 list-disc pl-5 space-y-1\">\n              <li>\n                {t('history.reviewPaywallBenefit1') || 'See every question, your answer, and the correct answer.'}\n              </li>\n              <li>\n                {t('history.reviewPaywallBenefit2') || 'Read explanations so you remember why answers are correct.'}\n              </li>\n              <li>\n                {t('history.reviewPaywallBenefit3') || 'Spot patterns in your mistakes and fix them faster.'}\n              </li>\n            </ul>\n            <div className=\"flex flex-col sm:flex-row gap-3\">\n              <Button asChild className=\"flex-1\">\n                <Link href={`/pricing?category=${pricingCategory}`}>\n                  {t('history.reviewPaywallUpgradeCta') || 'See plans & upgrade'}\n                </Link>\n              </Button>\n              <Button asChild variant=\"outline\" className=\"flex-1\">\n                <Link href=\"/history\">\n                  {t('history.backToHistory')}\n                </Link>\n              </Button>\n            </div>\n          </GlassCard>\n        </div>\n      </div>\n    );\n  }\n\n  if (!testInfo || answers.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-background text-foreground\">\n        <Navbar />\n        <div className=\"container mx-auto px-6 py-8 max-w-7xl pt-28\">\n          <GlassCard className=\"p-12 text-center border border-border/80 bg-black/80\">\n            <p className=\"text-muted-foreground mb-4\">{t('history.notFoundTitle')}</p>\n            <Button asChild>\n              <Link href=\"/history\">{t('history.backToHistory')}</Link>\n            </Button>\n          </GlassCard>\n        </div>\n      </div>\n    );\n  }\n\n  // Build per-topic statistics across all answers in this test\n  const topicStatsMap: Record<string, { total: number; correct: number }> = {};\n\n  answers.forEach((ans) => {\n    const q = ans.question;\n    const topic = q?.topic;\n    if (!q || !topic) return;\n\n    if (!topicStatsMap[topic]) {\n      topicStatsMap[topic] = { total: 0, correct: 0 };\n    }\n    topicStatsMap[topic].total += 1;\n    if (ans.is_correct) {\n      topicStatsMap[topic].correct += 1;\n    }\n  });\n\n  const topicStats = Object.entries(topicStatsMap).map(([topic, stats]) => {\n    const accuracy = stats.total > 0 ? stats.correct / stats.total : 0;\n    return {\n      topic,\n      total: stats.total,\n      correct: stats.correct,\n      accuracy,\n    };\n  }).sort((a, b) => a.accuracy - b.accuracy);\n\n  const weakTopics = topicStats.filter((t) => t.total >= 2 && t.accuracy < 0.8).slice(0, 3);\n\n  const answer = answers[currentQuestion];\n  const question = answer?.question;\n  const totalQuestions = answers.length;\n  const passed = testInfo.percentage >= 80;\n  const isMixedTest = testInfo.test_number === 'mixed';\n  const isPersonalizedTest = testInfo.test_number === 'personalized';\n\n  // Handle missing question data\n  if (!question) {\n    return (\n      <div className=\"min-h-screen bg-background text-foreground\">\n        <Navbar />\n        <div className=\"container mx-auto px-6 py-8 max-w-7xl pt-28\">\n          <GlassCard className=\"p-12 text-center border border-border/80 bg-black/80\">\n            <p className=\"text-muted-foreground mb-4\">{t('history.missingQuestionTitle')}</p>\n            <Button asChild>\n              <Link href=\"/history\">{t('history.backToHistory')}</Link>\n            </Button>\n          </GlassCard>\n        </div>\n      </div>\n    );\n  }\n\n  // Parse selected answers (could be \"A\" or \"A,B\")\n  const selectedAnswers = answer.selected_answer ? answer.selected_answer.split(',') : [];\n  const correctAnswers = question.correct_answers && question.correct_answers.length > 0\n    ? question.correct_answers\n    : [question.correct_answer];\n\n  const localizedQuestionText = question.question_text;\n\n  const explanationText = question.explanation || '';\n\n  const topicQuery = question.topic ? encodeURIComponent(question.topic) : '';\n\n  return (\n    <div className=\"relative min-h-screen bg-background text-foreground overflow-hidden\">\n      {/* Background grid */}\n      <div\n        aria-hidden\n        className=\"pointer-events-none absolute inset-0 -z-10 [mask-image:radial-gradient(60%_60%_at_50%_20%,#000_20%,transparent_70%)]\"\n      >\n        <svg className=\"h-full w-full opacity-[0.06]\" xmlns=\"http://www.w3.org/2000/svg\">\n          <defs>\n            <pattern id=\"review-grid\" width=\"32\" height=\"32\" patternUnits=\"userSpaceOnUse\">\n              <path d=\"M32 0H0V32\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"0.4\" />\n            </pattern>\n          </defs>\n          <rect width=\"100%\" height=\"100%\" fill=\"url(#review-grid)\" />\n        </svg>\n      </div>\n\n      {/* Warm glows & rails */}\n      <div className=\"pointer-events-none absolute inset-x-0 top-0 h-72 bg-gradient-to-b from-orange-500/25 via-transparent to-transparent blur-3xl\" />\n      <div aria-hidden className=\"pointer-events-none absolute inset-0\">\n        <div className=\"hidden lg:block absolute top-24 bottom-24 left-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent\" />\n        <div className=\"hidden lg:block absolute top-24 bottom-24 right-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent\" />\n      </div>\n\n      <Navbar />\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"container mx-auto px-6 py-8 max-w-7xl pt-28\"\n      >\n        {/* Header */}\n        <div className=\"mb-6\">\n          <Button variant=\"ghost\" asChild className=\"mb-4\">\n            <Link href=\"/history\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              {t('history.backToHistory')}\n            </Link>\n          </Button>\n          \n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold mb-1\">\n                {t('category.licenseCategory')} {testInfo.category} - {\n                  testInfo.test_number === 'mixed' ? t('test.mixedName') :\n                  testInfo.test_number === 'personalized' ? t('test.personalizedName') :\n                  `${t('test.test')} #${testInfo.test_number}`\n                }\n              </h1>\n              <p className=\"text-muted-foreground\">\n                {t('history.reviewSubtitle')}\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <p className={`text-3xl font-bold ${passed ? 'text-green-500' : 'text-red-500'}`}>\n                {testInfo.percentage}%\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                {testInfo.score}/{testInfo.total_questions} correct\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Topic analytics / weakness insights */}\n        {topicStats.length > 0 && (\n          <div className=\"mb-6 max-w-4xl mx-auto\">\n            <GlassCard className=\"p-4 border border-border/80 bg-black/80\">\n              <div className=\"flex flex-col gap-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-semibold\">{t('history.topicsTitle')}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {t('history.topicsSubtitle')}\n                    </p>\n                  </div>\n                  {weakTopics.length > 0 && (\n                    <p className=\"text-xs font-medium text-amber-500\">\n                      {t('history.weakTopicsPrefix')}{' '}\n                      {weakTopics.map((t, idx) => (\n                        <span key={t.topic}>\n                          {idx > 0 && ', '}\n                          {t.topic}\n                        </span>\n                      ))}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  {topicStats.slice(0, 4).map((t) => {\n                    const percentage = Math.round(t.accuracy * 100);\n                    const isWeak = weakTopics.some((w) => w.topic === t.topic);\n                    return (\n                      <div key={t.topic} className=\"text-xs\">\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <span className=\"font-medium truncate mr-2\">{t.topic}</span>\n                          <span className={`font-semibold ${\n                            isWeak ? 'text-red-500' : percentage >= 90 ? 'text-green-500' : 'text-amber-500'\n                          }`}>\n                            {t.correct}/{t.total} ({percentage}%)\n                          </span>\n                        </div>\n                        <div className=\"w-full bg-secondary rounded-full h-2 overflow-hidden\">\n                          <div\n                            className={`h-2 rounded-full transition-all ${\n                              isWeak\n                                ? 'bg-red-500/80'\n                                : percentage >= 90\n                                ? 'bg-green-500/80'\n                                : 'bg-amber-500/80'\n                            }`}\n                            style={{ width: `${Math.max(8, percentage)}%` }}\n                          />\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </GlassCard>\n          </div>\n        )}\n\n        {/* Next steps and practice suggestions */}\n        <div className=\"mb-6 max-w-4xl mx-auto\">\n          <GlassCard className=\"p-4 border border-border/80 bg-black/80\">\n            <div className=\"space-y-3\">\n              <div>\n                <p className=\"text-sm font-semibold\">{t('test.nextStepsTitle')}</p>\n                <p className=\"text-sm text-muted-foreground\">\n                  {passed ? (\n                    isMixedTest || isPersonalizedTest\n                      ? t('test.nextStepsPassedMixedOrPersonalized')\n                      : t('test.nextStepsPassedStandard')\n                  ) : (\n                    isPersonalizedTest\n                      ? t('test.nextStepsFailedPersonalized')\n                      : t('test.nextStepsFailedStandard')\n                  )}\n                </p>\n              </div>\n\n              <div className=\"flex flex-col sm:flex-row gap-3\">\n                <Button variant=\"outline\" className=\"flex-1\" asChild>\n                  <Link href={`/category/${testInfo.category.toLowerCase()}`}>\n                    {t('test.backToTests')}\n                  </Link>\n                </Button>\n\n                {!isPersonalizedTest && (\n                  <Button variant=\"outline\" className=\"flex-1\" asChild>\n                    <Link href={`/test/${testInfo.category.toLowerCase()}/personalized`}>\n                      {t('test.practiceWeakPointsCta')}\n                    </Link>\n                  </Button>\n                )}\n\n                {!isMixedTest && (\n                  <Button variant=\"outline\" className=\"flex-1\" asChild>\n                    <Link href={`/test/${testInfo.category.toLowerCase()}/mixed`}>\n                      {t('test.mixedTestCta')}\n                    </Link>\n                  </Button>\n                )}\n\n                <Button variant=\"outline\" className=\"flex-1\" asChild>\n                  <Link href=\"/decision-trainer\">\n                    {t('test.decisionTrainerCta')}\n                  </Link>\n                </Button>\n              </div>\n            </div>\n          </GlassCard>\n        </div>\n\n        {/* Question Card */}\n        <Card className={`${question.image_url ? 'max-w-6xl' : 'max-w-4xl'} mx-auto mb-6 border border-border/80 bg-black/80`}>\n          <CardContent className=\"p-6\">\n            {/* Question Header */}\n            <div className=\"flex items-center gap-3 mb-6\">\n              <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${\n                answer.is_correct ? 'bg-green-500/20' : 'bg-red-500/20'\n              }`}>\n                {answer.is_correct ? (\n                  <CheckCircle className=\"w-6 h-6 text-green-500\" />\n                ) : (\n                  <XCircle className=\"w-6 h-6 text-red-500\" />\n                )}\n              </div>\n              <div>\n                <h2 className=\"text-xl font-semibold\">Question {currentQuestion + 1} of {totalQuestions}</h2>\n                <p className={`text-sm ${answer.is_correct ? 'text-green-500' : 'text-red-500'}`}>\n                  {answer.is_correct ? t('test.correctTitle') : t('test.incorrectTitle')}\n                </p>\n              </div>\n            </div>\n\n            {/* Side-by-side layout when image exists */}\n            <div className={question.image_url ? \"grid grid-cols-1 lg:grid-cols-2 gap-6\" : \"\"}>\n              {/* Image Section */}\n              {question.image_url && (\n                <div className=\"flex flex-col\">\n                  <div className=\"relative rounded-xl overflow-hidden border-2 border-border shadow-lg\">\n                    <img\n                      src={question.image_url}\n                      alt=\"Question illustration\"\n                      className=\"w-full h-auto object-contain bg-muted/30\"\n                      style={{ maxHeight: '400px' }}\n                    />\n                  </div>\n                </div>\n              )}\n\n              {/* Question and Options */}\n              <div>\n                <p className=\"text-lg font-medium mb-6\">{localizedQuestionText}</p>\n\n                <div className=\"space-y-3\">\n                  {(['A', 'B', 'C'] as const).map((option) => {\n                    const isCorrect = correctAnswers.includes(option);\n                    const isSelected = selectedAnswers.includes(option);\n                    const optionKey = `option_${option.toLowerCase()}` as 'option_a' | 'option_b' | 'option_c';\n                    const optionText = question[optionKey];\n\n                    return (\n                      <div\n                        key={option}\n                        className={`p-4 rounded-lg border-2 ${\n                          isCorrect\n                            ? 'bg-green-500/10 border-green-500/50'\n                            : isSelected && !isCorrect\n                            ? 'bg-red-500/10 border-red-500/50'\n                            : 'bg-muted/30 border-border'\n                        }`}\n                      >\n                        <div className=\"flex items-start gap-3\">\n                          {/* Checkbox/Radio indicator */}\n                          <div className={`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 ${\n                            isSelected\n                              ? isCorrect\n                                ? 'border-green-500 bg-green-500'\n                                : 'border-red-500 bg-red-500'\n                              : isCorrect\n                              ? 'border-green-500 bg-green-500'\n                              : 'border-border'\n                          }`}>\n                            {(isSelected || isCorrect) && (\n                              <CheckSquare className=\"w-4 h-4 text-white\" />\n                            )}\n                          </div>\n\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-start justify-between gap-2\">\n                              <p className=\"font-medium\">\n                                <span className=\"font-bold mr-2\">{option}.</span>\n                                {optionText}\n                              </p>\n                              <div className=\"flex flex-col gap-1\">\n                                {isCorrect && (\n                                  <span className=\"text-green-500 text-xs font-semibold whitespace-nowrap\">\n                                    ✓ Correct\n                                  </span>\n                                )}\n                                {isSelected && !isCorrect && (\n                                  <span className=\"text-red-500 text-xs font-semibold whitespace-nowrap\">\n                                    ✗ Your answer\n                                  </span>\n                                )}\n                                {isSelected && isCorrect && (\n                                  <span className=\"text-green-500 text-xs font-semibold whitespace-nowrap\">\n                                    ✓ Your answer\n                                  </span>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n\n                {explanationText && (\n                  <div className=\"mt-6 p-4 rounded-lg bg-muted/40 border border-border\">\n                    <p className=\"text-sm font-semibold mb-1\">{t('history.explanationTitle')}</p>\n                    <p className=\"text-sm text-muted-foreground whitespace-pre-line\">{explanationText}</p>\n                  </div>\n                )}\n\n                {question.topic && topicQuery && (\n                  <div className=\"mt-4\">\n                    <Button variant=\"outline\" size=\"sm\" asChild>\n                      <Link href={`/materials?search=${topicQuery}`}>\n                        {t('materials.title')}\n                      </Link>\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Navigation */}\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setCurrentQuestion(Math.max(0, currentQuestion - 1))}\n              disabled={currentQuestion === 0}\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              {t('test.previous')}\n            </Button>\n\n            <div className=\"text-sm text-muted-foreground\">\n              {t('test.question')} {currentQuestion + 1} {t('test.of')} {totalQuestions}\n            </div>\n\n            <Button\n              variant=\"outline\"\n              onClick={() => setCurrentQuestion(Math.min(totalQuestions - 1, currentQuestion + 1))}\n              disabled={currentQuestion === totalQuestions - 1}\n            >\n              {t('test.next')}\n              <ArrowRight className=\"w-4 h-4 ml-2\" />\n            </Button>\n          </div>\n\n          {/* Smart Question Navigator */}\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setCurrentQuestion(Math.max(0, currentQuestion - 5))}\n              disabled={currentQuestion === 0}\n              className=\"p-1 rounded hover:bg-secondary disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ArrowLeft className=\"w-3 h-3\" />\n            </button>\n\n            <div className=\"flex-1 overflow-x-auto scrollbar-hide\">\n              <div className=\"flex gap-1\">\n                {answers.map((ans, idx) => {\n                  const distance = Math.abs(idx - currentQuestion);\n                  if (distance > 4 && idx !== 0 && idx !== totalQuestions - 1) return null;\n\n                  if (distance === 5) {\n                    return (\n                      <span key={`ellipsis-${idx}`} className=\"px-1 text-xs text-muted-foreground\">\n                        ...\n                      </span>\n                    );\n                  }\n\n                  return (\n                    <button\n                      key={ans.id}\n                      onClick={() => setCurrentQuestion(idx)}\n                      className={`min-w-[32px] h-8 px-2 rounded text-xs font-medium transition-colors ${\n                        idx === currentQuestion\n                          ? 'bg-primary text-primary-foreground'\n                          : ans.is_correct\n                          ? 'bg-green-500/20 text-green-500 hover:bg-green-500/30'\n                          : 'bg-red-500/20 text-red-500 hover:bg-red-500/30'\n                      }`}\n                    >\n                      {idx + 1}\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            <button\n              onClick={() => setCurrentQuestion(Math.min(totalQuestions - 1, currentQuestion + 5))}\n              disabled={currentQuestion === totalQuestions - 1}\n              className=\"p-1 rounded hover:bg-secondary disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ArrowRight className=\"w-3 h-3\" />\n            </button>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}