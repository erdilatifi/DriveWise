(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58676,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},38807,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=e.r(95329);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},31842,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return l}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});function n(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,i(e));else t.set(r,i(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},68162,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(89117)._(e.r(31842)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",s=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(n.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||i.test(a))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),s=s.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${s}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},23090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return j},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return p},ST:function(){return x},WEB_VITALS:function(){return n},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return f},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return _}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let p="undefined"!=typeof performance,x=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function _(e){return JSON.stringify({message:e.message,stack:e.stack})}},25380,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let a=e.r(23090),s=e.r(61833);function n(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},24297,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},33212,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return g},useLinkStatus:function(){return y}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(89117),i=e.r(13105),l=n._(e.r(95329)),o=e.r(68162),c=e.r(74489),d=e.r(38807),u=e.r(23090),f=e.r(94197);e.r(58676);let m=e.r(28373),h=e.r(25380),p=e.r(81259);function x(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let a,s,n,[o,g]=(0,l.useOptimistic)(m.IDLE_LINK_STATUS),y=(0,l.useRef)(null),{href:j,as:v,children:_,prefetch:w=null,passHref:N,replace:C,shallow:T,scroll:P,onClick:k,onMouseEnter:E,onTouchStart:S,legacyBehavior:L=!1,onNavigate:A,ref:O,unstable_dynamicOnHover:$,...R}=t;a=_,L&&("string"==typeof a||"number"==typeof a)&&(a=(0,i.jsx)("a",{children:a}));let D=l.default.useContext(c.AppRouterContext),I=!1!==w,M=!1!==w?null===(r=w)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:B,as:q}=l.default.useMemo(()=>{let e=x(j);return{href:e,as:v?x(v):e}},[j,v]);if(L){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=l.default.Children.only(a)}let U=L?s&&"object"==typeof s&&s.ref:O,F=l.default.useCallback(e=>(null!==D&&(y.current=(0,m.mountLinkInstance)(e,B,D,M,I,g)),()=>{y.current&&((0,m.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,m.unmountPrefetchableInstance)(e)}),[I,B,D,M,g]),z={ref:(0,d.useMergedRef)(F,U),onClick(t){L||"function"!=typeof k||k(t),L&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!D||t.defaultPrevented||function(t,r,a,s,n,i,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(63424);l.default.startTransition(()=>{u(a||r,n?"replace":"push",i??!0,s.current)})}}(t,B,q,y,C,P,A)},onMouseEnter(e){L||"function"!=typeof E||E(e),L&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),D&&I&&(0,m.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){L||"function"!=typeof S||S(e),L&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),D&&I&&(0,m.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,u.isAbsoluteUrl)(q)?z.href=q:L&&!N&&("a"!==s.type||"href"in s.props)||(z.href=(0,f.addBasePath)(q)),n=L?l.default.cloneElement(s,z):(0,i.jsx)("a",{...R,...z,children:a}),(0,i.jsx)(b.Provider,{value:o,children:n})}e.r(24297);let b=(0,l.createContext)(m.IDLE_LINK_STATUS),y=()=>(0,l.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},42830,e=>{"use strict";var t=e.i(13105),r=e.i(20696);function a({children:e,className:a,hover:s=!1,...n}){return(0,t.jsx)("div",{className:(0,r.cn)("relative overflow-hidden rounded-2xl border border-border/70 bg-card/70 backdrop-blur-2xl","shadow-[0_22px_70px_rgba(0,0,0,0.9)]","before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.12),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.06),transparent_55%)] before:opacity-70",s&&"transition-all duration-300 hover:shadow-[0_28px_90px_rgba(0,0,0,1)]",a),...n,children:e})}e.s(["GlassCard",()=>a])},45951,e=>{"use strict";let t=(0,e.i(39898).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],45951)},94312,e=>{"use strict";var t=e.i(13105),r=e.i(20696);function a({className:e,...a}){return(0,t.jsx)("div",{className:(0,r.cn)("relative overflow-hidden rounded-xl bg-gradient-to-r from-muted/60 via-muted/35 to-muted/60","before:absolute before:inset-0 before:-translate-x-full before:bg-gradient-to-r before:from-transparent before:via-primary/18 before:to-transparent before:animate-[shimmer_1.4s_infinite]",e),...a})}e.s(["Skeleton",()=>a])},89679,e=>{"use strict";var t=e.i(50351);let r={freeTestLimitPerCategory:Number(t.default.env.NEXT_PUBLIC_FREE_TEST_LIMIT_PER_CATEGORY??"3"),paidTestLimitPerCategory:Number(t.default.env.NEXT_PUBLIC_PAID_TEST_LIMIT_PER_CATEGORY??"9999"),billingCycleDays:Number(t.default.env.NEXT_PUBLIC_BILLING_CYCLE_DAYS??"30"),bestValuePlan:t.default.env.NEXT_PUBLIC_PAYMENT_BEST_VALUE_PLAN??"PLAN_C",plans:[{id:"PLAN_A",label:"1 month",months:1,priceEur:3},{id:"PLAN_B",label:"2 months",months:2,priceEur:6},{id:"PLAN_C",label:"3 months",months:3,priceEur:8,badge:"BEST_VALUE",emphasize:!0}].reduce((e,t)=>{let r=t.priceEur/t.months;return e[t.id]={...t,pricePerMonthEur:r},e},{})};function a(e,t=new Date){if(!e)return!1;let r=new Date(e.startDate).getTime(),s=new Date(e.endDate).getTime(),n=t.getTime();return n>=r&&n<=s}function s(e){let{isAdmin:t,testsTakenThisCycle:s,activePlan:n,now:i}=e;if(t)return{canAccessTests:!0,canStartNewTest:!0,remainingFreeTests:void 0,canAccessDecisionTrainer:!0,canAccessStudyMaterial:!0,canReviewTestsInDetail:!0};if(n&&a({startDate:n.startDate,endDate:n.endDate},i))return{canAccessTests:!0,canStartNewTest:s<r.paidTestLimitPerCategory,remainingFreeTests:Math.max(0,r.paidTestLimitPerCategory-s),canAccessDecisionTrainer:!0,canAccessStudyMaterial:!0,canReviewTestsInDetail:!0};let l=Math.max(0,r.freeTestLimitPerCategory-s);return{canAccessTests:!0,canStartNewTest:l>0,remainingFreeTests:l,canAccessDecisionTrainer:!1,canAccessStudyMaterial:!1,canReviewTestsInDetail:!1}}function n(e){let{attempts:t,category:a,now:s}=e,n=s??new Date,i=new Date(n);i.setDate(i.getDate()-r.billingCycleDays+1);let l=i.getTime(),o=n.getTime();return t.filter(e=>{if(e.category!==a)return!1;let t=new Date(e.completed_at).getTime();return t>=l&&t<=o}).length}e.s(["BILLING_CONFIG",0,r,"computeEntitlements",()=>s,"countTestsInCurrentCycle",()=>n,"isPlanCurrentlyActive",()=>a])},5642,e=>{"use strict";var t=e.i(55650),r=e.i(90582),a=e.i(89679);function s(e){return(0,t.useQuery)({queryKey:["user-plans",e],queryFn:async()=>{let t=(0,r.createClient)(),{data:a,error:s}=await t.from("user_plans").select("*").eq("user_id",e);if(s)throw s;return a||[]},enabled:!!e,staleTime:0,refetchOnMount:"always"})}function n(e,t){let r=s(e),n=new Date,i=!!t||(r.data||[]).some(e=>"active"===e.status&&(0,a.isPlanCurrentlyActive)({startDate:e.start_date,endDate:e.end_date},n));return{...r,hasAnyActivePlan:i}}function i(e,s,n){return(0,t.useQuery)({queryKey:["category-entitlements",e,s,n],queryFn:async()=>{let t=(0,r.createClient)(),[i,l]=await Promise.all([t.from("user_plans").select("*").eq("user_id",e).eq("category",s).order("end_date",{ascending:!1}).limit(1),t.from("test_attempts").select("category, completed_at").eq("user_id",e)]);if(i.error)throw i.error;if(l.error)throw l.error;let o=(i.data||[])[0],c=new Date,d=(0,a.countTestsInCurrentCycle)({attempts:(l.data||[]).map(e=>({category:e.category,completed_at:e.completed_at})),category:s,now:c}),u=o?{id:o.id,userId:o.user_id,category:o.category,planTier:o.plan_tier,startDate:o.start_date,endDate:o.end_date,isActive:"active"===o.status,createdAt:o.created_at}:null;return{entitlements:(0,a.computeEntitlements)({isAdmin:n,testsTakenThisCycle:d,activePlan:u?{planTier:u.planTier,startDate:u.startDate,endDate:u.endDate,isActive:u.isActive}:null,now:c}),plan:u,testsTakenThisCycle:d}},enabled:!!e&&!!s,staleTime:3e5})}e.s(["useCategoryEntitlements",()=>i,"useGlobalPremium",()=>n,"useUserPlans",()=>s])},49329,e=>{"use strict";let t=(0,e.i(39898).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],49329)},4108,e=>{"use strict";let t=(0,e.i(39898).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],4108)},6231,e=>{"use strict";e.s(["CATEGORY_INFO",0,{A:{name:"Kategoria A",description:"Motoçikleta"},B:{name:"Kategoria B",description:"Vetura"},C:{name:"Kategoria C",description:"Kamionë"},D:{name:"Kategoria D",description:"Autobusë"}}])},51699,e=>{"use strict";let t=(0,e.i(39898).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],51699)},99310,e=>{"use strict";let t=(0,e.i(39898).default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckSquare",()=>t],99310)},34893,e=>{"use strict";var t=e.i(13105),r=e.i(95329),a=e.i(20696);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("label",{ref:s,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));s.displayName="Label",e.s(["Label",()=>s])},71778,e=>{"use strict";var t=e.i(13105),r=e.i(95329),a=e.i(20696);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("relative overflow-hidden rounded-2xl border border-border/70 bg-card/80 text-card-foreground backdrop-blur-2xl shadow-[0_18px_60px_rgba(0,0,0,0.85)]","before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.06),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.04),transparent_55%)] before:opacity-70",e),...r}));s.displayName="Card";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent";let c=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>n,"CardTitle",()=>i])},81617,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let a=e.r(45176);function s({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new a.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},71257,(e,t,r)=>{"use strict";function a(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return a}})},99333,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return l}});let a=e.r(13105),s=e.r(19164),n=e.r(47266),i=e.r(71257);function l({moduleIds:e}){if("undefined"!=typeof window)return null;let t=n.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let a=t.reactLoadableManifest;for(let t of e){if(!a[t])continue;let e=a[t].files;r.push(...e)}}return 0===r.length?null:(0,a.jsx)(a.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},51269,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let a=e.r(13105),s=e.r(95329),n=e.r(81617),i=e.r(99333);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},r=(0,s.lazy)(()=>t.loader().then(l)),c=t.loading;function d(e){let l=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?s.Suspense:s.Fragment,u=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(d,{...o?{fallback:l}:{},children:u})}return d.displayName="LoadableComponent",d}},28722,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let a=e.r(70137)._(e.r(51269));function s(e,t){let r={};"function"==typeof e&&(r.loader=e);let s={...r,...t};return(0,a.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},5327,e=>{"use strict";var t=e.i(13105),r=e.i(95329),a=e.i(28722),s=e.i(71778),n=e.i(42830),i=e.i(89473),l=e.i(34893),o=e.i(94312),c=e.i(6231),d=e.i(33212),u=e.i(45951),f=e.i(51699),m=e.i(49329),h=e.i(99310),p=e.i(4108),x=e.i(55744),g=e.i(90582),b=e.i(94494),y=e.i(77886),j=e.i(18797),v=e.i(96755),_=e.i(5642);let w=(0,a.default)(()=>e.A(76749).then(e=>e.RatingModal),{loadableGenerated:{modules:[30918]},ssr:!1}),N=(0,g.createClient)();function C(){var e,a;let g,C=(0,x.useParams)(),T=(0,x.useRouter)(),P=(0,b.useQueryClient)(),{t:k,language:E}=(0,j.useLanguage)(),A=C.category.toUpperCase(),O=C.testNumber,$="mixed"===O,R="personalized"===O,[D,I]=(0,r.useState)(0),[M,B]=(0,r.useState)({}),[q,U]=(0,r.useState)(!1),[F,z]=(0,r.useState)([]),[K,G]=(0,r.useState)(!0),[Q,H]=(0,r.useState)(null),[V,Y]=(0,r.useState)(Date.now()),[X,W]=(0,r.useState)(!1),[J,Z]=(0,r.useState)(null),{user:ee,isAdmin:et,loading:er}=(0,v.useAuth)(),{data:ea}=(0,_.useCategoryEntitlements)(ee?.id,A,et);(0,r.useEffect)(()=>{er||(ee?(async()=>{try{H(ee.id),Y(Date.now());let e=`test_progress_${ee.id}_${A}_${O}`,t=localStorage.getItem(e);if(t)try{let e=JSON.parse(t);if(Date.now()-e.timestamp<864e5){z(e.questions),B(e.answers),I(e.currentQuestion),Y(e.startTime||Date.now()),G(!1);return}}catch(t){localStorage.removeItem(e)}let r=await S({supabase:N,userId:ee.id,category:A,testNumber:O});z(r)}catch(e){y.toast.error(k("test.loadError"))}finally{G(!1)}})():T.push("/login"))},[er,ee,A,O,T]),(0,r.useEffect)(()=>{if(!Q||0===F.length||q)return;let e=`test_progress_${Q}_${A}_${O}`,t={questions:F,answers:M,currentQuestion:D,startTime:V,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(t))},[Q,A,O,F,M,D,V,q]);let es=c.CATEGORY_INFO[A],en=F.length,ei=en>0?(D+1)/en*100:0,el=F.reduce((e,t)=>{let r=M[t.id];return r&&r.length>0?e+1:e},0),eo=en>0&&el===en,ec=async e=>{if(e.preventDefault(),Q)try{let e=L(F,M),t=Math.floor((Date.now()-V)/1e3),{data:r,error:a}=await N.from("user_profiles").select("id").eq("id",Q).maybeSingle();if(!r)if(ee){let{error:e}=await N.from("user_profiles").insert({id:ee.id,email:ee.email||"",full_name:ee.user_metadata?.full_name||ee.email?.split("@")[0]||"User"}).select().single();if(e){y.toast.error(k("test.createProfileError")),U(!0);return}}else{y.toast.error(k("auth.loginAgain")),T.push("/login");return}let{data:s,error:n}=await N.from("test_attempts").insert({user_id:Q,category:A,test_number:O,score:e.correct,total_questions:e.total,percentage:e.percentage,time_taken_seconds:t,completed_at:new Date().toISOString()}).select().single();if(n){y.toast.error(k("test.saveError")),U(!0);return}Z(s.id),P.invalidateQueries({queryKey:["user-test-stats",Q]}),P.invalidateQueries({queryKey:["dashboard-stats",Q]});let{count:i}=await N.from("test_attempts").select("*",{count:"exact",head:!0}).eq("user_id",Q),{data:l}=await N.from("user_profiles").select("app_rating").eq("id",Q).single(),o=1===i&&!l?.app_rating;if(s){let e=F.map(e=>{let t=M[e.id]||[],r=e.correct_answers&&e.correct_answers.length>0?e.correct_answers:[e.correct_answer],a=t.length===r.length&&t.every(e=>r.includes(e)),n=t.length>0?t.join(","):null;return{test_attempt_id:s.id,question_id:e.id,selected_answer:n,is_correct:a}}),{error:t}=await N.from("test_attempt_answers").insert(e).select();t&&y.toast.error(k("test.saveDetailsError"))}let c=`test_progress_${Q}_${A}_${O}`;localStorage.removeItem(c),U(!0),o&&setTimeout(()=>{W(!0)},1500)}catch(e){y.toast.error(k("test.unexpectedError")),U(!0)}},ed=L(F,M),eu=q?(e=F,a=M,g={},e.forEach(e=>{let t=e.topic;if(!t)return;g[t]||(g[t]={total:0,correct:0});let r=a[e.id]||[],s=e.correct_answers&&e.correct_answers.length>0?e.correct_answers:[e.correct_answer],n=r.length===s.length&&r.every(e=>s.includes(e));g[t].total+=1,n&&(g[t].correct+=1)}),Object.entries(g).map(([e,t])=>{let r=t.total>0?t.correct/t.total:0;return{topic:e,total:t.total,correct:t.correct,accuracy:r}}).sort((e,t)=>e.accuracy-t.accuracy).filter(e=>e.total>=2&&e.accuracy<.8).slice(0,3)):[];if(er||!ee)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:(0,t.jsxs)(s.Card,{className:"max-w-md w-full border border-border/80 bg-card/95 backdrop-blur-xl",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Loading"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:er?"Authenticating...":"Redirecting..."})]})})]})});if(K)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:(0,t.jsxs)(s.Card,{className:"max-w-3xl w-full mx-auto border-primary/20 bg-card/95 backdrop-blur-xl shadow-xl shadow-primary/5",children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(o.Skeleton,{className:"h-4 w-32 mb-3"}),(0,t.jsx)(o.Skeleton,{className:"h-8 w-3/4"})]}),(0,t.jsxs)(s.CardContent,{className:"space-y-6",children:[(0,t.jsx)(o.Skeleton,{className:"h-48 w-full rounded-xl"}),(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Skeleton,{className:"h-5 w-5 rounded-md"}),(0,t.jsx)(o.Skeleton,{className:"h-4 flex-1"})]},r))}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(o.Skeleton,{className:"h-10 flex-1"}),(0,t.jsx)(o.Skeleton,{className:"h-10 flex-1"})]})]})]})});if(0===F.length)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)(s.Card,{className:"max-w-md",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:k("test.noQuestionsTitle")})}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:k("test.noQuestionsDescription")}),(0,t.jsx)(i.Button,{asChild:!0,children:(0,t.jsx)(d.default,{href:`/category/${A.toLowerCase()}`,children:k("test.backToTests")})})]})]})});if(!et&&ea&&!ea.entitlements.canStartNewTest&&!q){let e=ea.testsTakenThisCycle,r=ea.entitlements.remainingFreeTests??0;return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-72 bg-gradient-to-b from-orange-500/20 via-transparent to-transparent blur-3xl"}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,t.jsxs)(n.GlassCard,{className:"w-full max-w-2xl p-8 md:p-10 border border-orange-500/30 bg-black/85 text-center relative overflow-hidden",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute -top-24 -right-24 w-64 h-64 bg-orange-500/10 rounded-full blur-3xl"}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-orange-500/10 flex items-center justify-center mb-6 border border-orange-500/20",children:(0,t.jsx)(p.Lock,{className:"w-8 h-8 text-orange-400"})}),(0,t.jsx)("h1",{className:"text-3xl font-semibold mb-3 tracking-tight",children:k("test.limitReachedTitle")||"Free test limit reached"}),(0,t.jsx)("p",{className:"text-base text-muted-foreground mb-8 max-w-lg mx-auto leading-relaxed",children:k("test.limitReachedDescription")||`You have used ${e}/${e+r} free tests for ${c.CATEGORY_INFO[A].name} this cycle.`}),(0,t.jsx)("div",{className:"grid gap-4 text-left max-w-md mx-auto mb-8 w-full",children:[k("test.unlimitedTestsBenefit"),k("test.fullReviewBenefit"),k("test.trainerUnlockedBenefit")].map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/5 border border-white/10",children:[(0,t.jsx)("div",{className:"mt-0.5 w-5 h-5 rounded-full bg-orange-500/20 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-400"})}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e})]},r))}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-sm",children:[(0,t.jsx)(i.Button,{asChild:!0,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-black font-medium h-11",children:(0,t.jsx)(d.default,{href:`/pricing?category=${A}`,children:k("test.upgradeCta")||"See plans"})}),(0,t.jsx)(i.Button,{asChild:!0,variant:"outline",className:"flex-1 h-11 border-white/10 hover:bg-white/5",children:(0,t.jsx)(d.default,{href:`/category/${A.toLowerCase()}`,children:k("test.backToTests")})})]})]})]})})]})}if(q){let e=ed.percentage>=80;return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b border-border/40 bg-card/50 backdrop-blur-sm",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsx)(i.Button,{variant:"ghost",asChild:!0,children:(0,t.jsxs)(d.default,{href:`/category/${A.toLowerCase()}`,children:[(0,t.jsx)(u.ArrowLeft,{className:"w-4 h-4 mr-2"}),k("test.backToTests")]})})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,t.jsxs)(s.Card,{className:"max-w-2xl mx-auto border border-border/80 bg-black/80 backdrop-blur-xl shadow-[0_30px_100px_rgba(0,0,0,0.9)]",children:[(0,t.jsxs)(s.CardHeader,{className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"relative mx-auto w-24 h-24",children:[(0,t.jsx)("div",{className:`absolute inset-0 blur-2xl rounded-full ${e?"bg-primary/30":"bg-destructive/30"}`}),(0,t.jsx)("div",{className:`relative w-24 h-24 rounded-2xl flex items-center justify-center ${e?"bg-gradient-to-br from-primary/20 to-primary/10 border-2 border-primary/30":"bg-gradient-to-br from-destructive/20 to-destructive/10 border-2 border-destructive/30"}`,children:(0,t.jsx)(m.CheckCircle,{className:`w-14 h-14 ${e?"text-primary":"text-destructive"}`})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.CardTitle,{className:"text-4xl font-bold mb-2",children:e?k("test.congratulations"):k("test.keepPracticing")}),(0,t.jsxs)("p",{className:"text-muted-foreground text-lg",children:[es.name," -"," ","mixed"===O?k("test.mixedName"):"personalized"===O?k("test.personalizedName"):`${k("test.test")} ${O}`]})]})]}),(0,t.jsxs)(s.CardContent,{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:`text-7xl font-bold mb-3 ${e?"text-primary":"text-destructive"}`,children:[ed.percentage,"%"]}),(0,t.jsxs)("p",{className:"text-muted-foreground text-lg",children:[ed.correct," ",k("test.of")," ",ed.total," ",k("test.correctAnswers")]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,t.jsxs)("span",{children:[k("test.passingScore"),": 80%"]}),(0,t.jsx)("span",{className:e?"text-primary":"text-destructive",children:e?`✓ ${k("test.passed")}`:`✗ ${k("test.failed")}`})]}),(0,t.jsx)("div",{className:"w-full bg-secondary rounded-full h-3 overflow-hidden",children:(0,t.jsx)("div",{className:`h-3 rounded-full transition-all ${e?"bg-gradient-to-r from-primary to-primary/80":"bg-gradient-to-r from-destructive to-destructive/80"}`,style:{width:`${ed.percentage}%`}})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-muted/40",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold mb-1",children:k("test.nextStepsTitle")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e?$||R?k("test.nextStepsPassedMixedOrPersonalized"):k("test.nextStepsPassedStandard"):R?k("test.nextStepsFailedPersonalized"):k("test.nextStepsFailedStandard")}),eu.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-xs text-amber-500 mt-2",children:[k("test.weakTopicsInThisTest"),": ",eu.map((e,r)=>(0,t.jsxs)("span",{children:[r>0&&", ",e.topic]},e.topic))]}),(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:eu.map(e=>{let r=encodeURIComponent(e.topic);return(0,t.jsx)(i.Button,{size:"sm",variant:"outline",className:"text-xs px-3 py-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/materials?search=${r}`,children:k("materials.title")})},e.topic)})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)(i.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/category/${A.toLowerCase()}`,children:k("test.backToTests")})}),J&&(0,t.jsx)(i.Button,{className:"flex-1",variant:"secondary",asChild:!0,children:(0,t.jsx)(d.default,{href:`/history/${J}`,children:k("test.reviewTest")})}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:async()=>{if(Q)try{G(!0),U(!1),B({}),I(0),Z(null),W(!1),Y(Date.now());let e=await S({supabase:N,userId:Q,category:A,testNumber:O});z(e)}catch(e){y.toast.error("Could not restart test. Please try again.")}finally{G(!1)}},children:k("test.retakeTest")})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[!R&&(0,t.jsx)(i.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/test/${A.toLowerCase()}/personalized`,children:k("test.practiceWeakPointsCta")})}),!$&&(0,t.jsx)(i.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/test/${A.toLowerCase()}/mixed`,children:k("test.mixedTestCta")})}),(0,t.jsx)(i.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:"/decision-trainer",children:k("test.decisionTrainerCta")})})]})]})]})]})}),Q&&(0,t.jsx)(w,{open:X,onClose:()=>W(!1),userId:Q})]})}let ef=F[D];if(!ef)return(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:(0,t.jsxs)(s.Card,{className:"max-w-md w-full border border-border/80 bg-card/95 backdrop-blur-xl",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:k("test.noQuestionsTitle")})}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:k("test.noQuestionsDescription")}),(0,t.jsx)(i.Button,{asChild:!0,children:(0,t.jsx)(d.default,{href:`/category/${A.toLowerCase()}`,children:k("test.backToTests")})})]})]})});let em=ef.question_text,eh=M[ef.id]||[],ep=ef.topic?encodeURIComponent(ef.topic):"",ex=[{id:"A",text:ef.option_a},{id:"B",text:ef.option_b},{id:"C",text:ef.option_c}];return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b border-border/40 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)(i.Button,{variant:"ghost",asChild:!0,size:"sm",children:(0,t.jsxs)(d.default,{href:`/category/${A.toLowerCase()}`,children:[(0,t.jsx)(u.ArrowLeft,{className:"w-4 h-4 mr-2"}),k("test.exitTest")]})}),(0,t.jsxs)("div",{className:"text-sm font-semibold px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary",children:[k("test.question")," ",D+1," ",k("test.of")," ",en]})]}),(0,t.jsx)("div",{className:"w-full bg-secondary rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-primary to-primary/80 h-2 rounded-full transition-all duration-300",style:{width:`${ei}%`}})})]})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)(s.Card,{className:`${ef.image_url?"max-w-6xl":"max-w-3xl"} mx-auto border border-border/80 bg-black/80 backdrop-blur-xl shadow-[0_24px_80px_rgba(0,0,0,0.85)]`,children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsxs)("div",{className:"text-sm text-primary font-medium mb-3",children:[es.name," -"," ","mixed"===O?k("test.mixedName"):"personalized"===O?k("test.personalizedName"):`${k("test.test")} ${O}`]}),(0,t.jsx)(s.CardTitle,{className:"text-2xl md:text-3xl",children:em}),ef.topic&&ep&&(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:ef.topic}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",className:"h-7 px-2 text-[11px]",asChild:!0,children:(0,t.jsx)(d.default,{href:`/materials?search=${ep}`,children:k("materials.title")})})]})]}),(0,t.jsxs)(s.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:ef.image_url?"grid grid-cols-1 lg:grid-cols-2 gap-6":"",children:[ef.image_url&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"relative rounded-xl overflow-hidden border-2 border-border shadow-lg",children:(0,t.jsx)("img",{src:ef.image_url,alt:k("test.questionIllustration"),className:"w-full h-auto object-contain bg-muted/30",style:{maxHeight:"400px"}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-2",children:k("test.questionImage")})]}),(0,t.jsx)("div",{className:"flex flex-col justify-center",children:(0,t.jsx)("div",{className:"space-y-3",children:ex.map(e=>{let r=eh.includes(e.id);return(0,t.jsxs)("div",{className:`flex items-center gap-3 p-4 md:p-5 rounded-xl border transition-colors cursor-pointer ${r?"border-primary/70 bg-primary/10 shadow-[0_18px_50px_rgba(0,0,0,0.9)]":"border-border/70 bg-black/60 hover:border-primary/50 hover:bg-black/80"}`,onClick:()=>(e=>{if(0===F.length)return;let t=F[D],r=M[t.id]||[],a=r.includes(e)?r.filter(t=>t!==e):[...r,e];B({...M,[t.id]:a})})(e.id),children:[(0,t.jsx)("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center ${r?"border-primary bg-primary text-primary-foreground":"border-border bg-black/60"}`,children:r&&(0,t.jsx)(h.CheckSquare,{className:"w-3.5 h-3.5"})}),(0,t.jsxs)(l.Label,{className:"cursor-pointer flex-1 font-medium",children:[(0,t.jsxs)("span",{className:"font-semibold mr-2",children:[e.id,"."]}),e.text]})]},e.id)})})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(i.Button,{variant:"outline",onClick:()=>{D>0&&I(e=>e-1)},disabled:0===D,className:"flex-1",children:[(0,t.jsx)(u.ArrowLeft,{className:"w-4 h-4 mr-2"}),k("test.previous")]}),D===en-1?(0,t.jsxs)(i.Button,{onClick:ec,disabled:!eo,className:"flex-1",children:[k("test.submitTest"),(0,t.jsx)(m.CheckCircle,{className:"w-4 h-4 ml-2"})]}):(0,t.jsxs)(i.Button,{onClick:()=>{D<en-1&&I(e=>e+1)},disabled:0===eh.length,className:"flex-1",children:[k("test.next"),(0,t.jsx)(f.ArrowRight,{className:"w-4 h-4 ml-2"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[k("test.question")," ",D+1," ",k("test.of")," ",en]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${eh.length>0?"bg-primary":"bg-secondary"}`}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[el,"/",en," ",k("test.answeredLabel")]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>I(Math.max(0,D-5)),disabled:0===D,className:"p-1 rounded hover:bg-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(u.ArrowLeft,{className:"w-3 h-3"})}),(0,t.jsx)("div",{className:"flex-1 overflow-x-auto scrollbar-hide",children:(0,t.jsx)("div",{className:"flex gap-1",children:F.map((e,r)=>{let a=Math.abs(r-D);if(a>4&&0!==r&&r!==en-1)return null;if(5===a)return(0,t.jsx)("span",{className:"px-1 text-xs text-muted-foreground",children:"..."},`ellipsis-${r}`);let s=M[e.id]&&M[e.id].length>0;return(0,t.jsx)("button",{onClick:()=>I(r),className:`min-w-[28px] h-7 px-2 rounded text-xs font-medium transition-colors whitespace-nowrap ${r===D?"bg-primary text-primary-foreground":s?"bg-primary/20 text-primary":"bg-secondary hover:bg-secondary/80"}`,children:r+1},e.id)})})}),(0,t.jsx)("button",{onClick:()=>I(Math.min(en-1,D+5)),disabled:D===en-1,className:"p-1 rounded hover:bg-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(f.ArrowRight,{className:"w-3 h-3"})})]})]})]})]})})]})}function T(e){return[...e].sort(()=>.5-Math.random())}async function P({supabase:e,userId:t,category:r}){let{data:a,error:s}=await e.from("test_attempts").select("id").eq("user_id",t).eq("category",r);if(s)throw Error(`Error fetching test attempts: ${s.message}`);let n=a?.map(e=>e.id)||[];if(0===n.length)return[];let{data:i,error:l}=await e.from("test_attempt_answers").select("question_id").eq("is_correct",!1).in("test_attempt_id",n);if(l)throw Error(`Error fetching wrong answers: ${l.message}`);let o=[...new Set(i?.map(e=>e.question_id)||[])];if(0===o.length)return[];let{data:c,error:d}=await e.from("admin_questions").select("*").in("id",o).eq("category",r);if(d)throw Error(`Error fetching questions: ${d.message}`);let u=c||[];if(u.length<10){let{data:t}=await e.from("admin_questions").select("*").eq("category",r);if(t&&t.length>0){let e=new Set(u.map(e=>e.id)),r=T(t.filter(t=>!e.has(t.id))),a=10-u.length;u=[...u,...r.slice(0,Math.max(0,a))]}}return T(u).slice(0,10)}async function k({supabase:e,category:t}){let{data:r,error:a}=await e.from("admin_questions").select("*").eq("category",t);if(a)throw Error(`Error fetching mixed questions: ${a.message}`);if(!r||0===r.length)return[];let s=T(r);return s.slice(0,Math.min(10,s.length))}async function E({supabase:e,category:t,testNumber:r}){let a=parseInt(r,10);if(Number.isNaN(a))throw Error("Invalid test number");let{data:s,error:n}=await e.from("admin_questions").select("*").eq("category",t).eq("test_number",a);if(n)throw Error(`Error fetching fixed test questions: ${n.message}`);return s&&0!==s.length?s:[]}async function S({supabase:e,userId:t,category:r,testNumber:a}){if("personalized"===a){let a=await P({supabase:e,userId:t,category:r});return a.length>0?a:k({supabase:e,category:r})}return"mixed"===a?k({supabase:e,category:r}):E({supabase:e,category:r,testNumber:a})}function L(e,t){let r=e.length,a=0;return e.forEach(e=>{let r=t[e.id]||[],s=e.correct_answers&&e.correct_answers.length>0?e.correct_answers:[e.correct_answer];r.length===s.length&&r.every(e=>s.includes(e))&&(a+=1)}),{correct:a,total:r,percentage:r>0?Math.round(a/r*100):0}}e.s(["default",()=>C])},76749,e=>{e.v(t=>Promise.all(["static/chunks/fbf22200100deaa4.js","static/chunks/29c2d12c21c252c9.js"].map(t=>e.l(t))).then(()=>t(30918)))}]);