(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87370,e=>{"use strict";let t=(0,e.i(39898).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},45951,e=>{"use strict";let t=(0,e.i(39898).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],45951)},3604,e=>{"use strict";var t=e.i(95329),r=e.i(33133),n=e.i(50863),s=e.i(8181),i=e.i(921),o=class extends s.Subscribable{#e;#t=void 0;#r;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(e,t){return this.#n=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){let e=this.#r?.state??(0,r.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){n.notifyManager.batch(()=>{if(this.#n&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,t,r,n),this.#n.onSettled?.(e.data,null,t,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,r,n),this.#n.onSettled?.(void 0,e.error,t,r,n))}this.listeners.forEach(e=>{e(this.#t)})})}},a=e.i(94494);function l(e,r){let s=(0,a.useQueryClient)(r),[l]=t.useState(()=>new o(s,e));t.useEffect(()=>{l.setOptions(e)},[l,e]);let u=t.useSyncExternalStore(t.useCallback(e=>l.subscribe(n.notifyManager.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),c=t.useCallback((e,t)=>{l.mutate(e,t).catch(i.noop)},[l]);if(u.error&&(0,i.shouldThrowError)(l.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:c,mutateAsync:u.mutate}}e.s(["useMutation",()=>l],3604)},67358,e=>{"use strict";var t=e.i(13105),r=e.i(95329),n=e.i(20696);let s=r.forwardRef(({className:e,type:r,...s},i)=>(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-xl border border-input/70 bg-background/60 px-3.5 py-2 text-sm text-foreground shadow-[0_8px_24px_rgba(0,0,0,0.7)] backdrop-blur-xl","transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground/80","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...s}));s.displayName="Input",e.s(["Input",()=>s])},34893,e=>{"use strict";var t=e.i(13105),r=e.i(95329),n=e.i(20696);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("label",{ref:s,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r}));s.displayName="Label",e.s(["Label",()=>s])},23563,e=>{"use strict";var t=e.i(13105),r=e.i(95329),n=e.i(20696);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-xl border border-input/70 bg-background/60 px-3.5 py-2.5 text-sm text-foreground shadow-[0_8px_24px_rgba(0,0,0,0.7)] backdrop-blur-xl","transition-all duration-200 placeholder:text-muted-foreground/80","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));s.displayName="Textarea",e.s(["Textarea",()=>s])},75308,e=>{"use strict";let t=(0,e.i(39898).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],75308)},18982,e=>{"use strict";var t=e.i(55650),r=e.i(3604),n=e.i(94494),s=e.i(90582);function i({category:e,search:r,status:n="all",page:i,pageSize:o}){let a=(0,s.createClient)();return(0,t.useQuery)({queryKey:["questions",e,r,n,i,o],queryFn:async()=>{let t=(i-1)*o,s=a.from("admin_questions").select("*",{count:"exact"}).order("category",{ascending:!0}).order("test_number",{ascending:!0});if(e&&(s=s.eq("category",e)),"published"===n?s=s.eq("is_published",!0):"draft"===n&&(s=s.eq("is_published",!1)),r&&r.trim()){let e=r.trim();s=s.or(`question_text.ilike.%${e}%,category.ilike.%${e}%`)}let{data:l,error:u,count:c}=await s.range(t,t+o-1);if(u)throw u;return{questions:l||[],total:c||0}}})}function o(e){let r=(0,s.createClient)();return(0,t.useQuery)({queryKey:["question",e],queryFn:async()=>{let{data:t,error:n}=await r.from("admin_questions").select("*").eq("id",e).single();if(n)throw n;return t},enabled:!!e})}function a(){let e=(0,n.useQueryClient)(),t=(0,s.createClient)();return(0,r.useMutation)({mutationFn:async e=>{let{data:r,error:n}=await t.from("admin_questions").insert([e]).select().single();if(n)throw Error(n.message||n.details||"Failed to create question");if(!r)throw Error("No data returned from insert operation");return r},onSuccess:()=>{e.invalidateQueries({queryKey:["questions"]})},onError:e=>{}})}function l(){let e=(0,n.useQueryClient)(),t=(0,s.createClient)();return(0,r.useMutation)({mutationFn:async({id:e,...r})=>{let{data:n,error:s}=await t.from("admin_questions").update(r).eq("id",e).select().single();if(s)throw Error(s.message||s.details||"Failed to update question");if(!n)throw Error("No data returned from update operation");return n},onSuccess:t=>{e.invalidateQueries({queryKey:["questions"]}),e.invalidateQueries({queryKey:["question",t.id]})},onError:e=>{}})}function u(){let e=(0,n.useQueryClient)(),t=(0,s.createClient)();return(0,r.useMutation)({mutationFn:async e=>{let{error:r}=await t.from("admin_questions").delete().eq("id",e);if(r)throw Error(r.message||"Failed to delete question");return e},onSuccess:()=>{e.invalidateQueries({queryKey:["questions"]})}})}e.s(["useCreateQuestion",()=>a,"useDeleteQuestion",()=>u,"useQuestion",()=>o,"useQuestions",()=>i,"useUpdateQuestion",()=>l])},54822,e=>{"use strict";var t=e.i(95329),r=e.i(45725),n=e.i(28578),s=e=>{var s;let o,a,{present:l,children:u}=e,c=function(e){var r,s;let[o,a]=t.useState(),l=t.useRef(null),u=t.useRef(e),c=t.useRef("none"),[d,p]=(r=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>s[e][t]??e,r));return t.useEffect(()=>{let e=i(l.current);c.current="mounted"===d?e:"none"},[d]),(0,n.useLayoutEffect)(()=>{let t=l.current,r=u.current;if(r!==e){let n=c.current,s=i(t);e?p("MOUNT"):"none"===s||t?.display==="none"?p("UNMOUNT"):r&&n!==s?p("ANIMATION_OUT"):p("UNMOUNT"),u.current=e}},[e,p]),(0,n.useLayoutEffect)(()=>{if(o){let e,t=o.ownerDocument.defaultView??window,r=r=>{let n=i(l.current).includes(CSS.escape(r.animationName));if(r.target===o&&n&&(p("ANIMATION_END"),!u.current)){let r=o.style.animationFillMode;o.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===o.style.animationFillMode&&(o.style.animationFillMode=r)})}},n=e=>{e.target===o&&(c.current=i(l.current))};return o.addEventListener("animationstart",n),o.addEventListener("animationcancel",r),o.addEventListener("animationend",r),()=>{t.clearTimeout(e),o.removeEventListener("animationstart",n),o.removeEventListener("animationcancel",r),o.removeEventListener("animationend",r)}}p("ANIMATION_END")},[o,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:t.useCallback(e=>{l.current=e?getComputedStyle(e):null,a(e)},[])}}(l),d="function"==typeof u?u({present:c.isPresent}):t.Children.only(u),p=(0,r.useComposedRefs)(c.ref,(s=d,(a=(o=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in o&&o.isReactWarning)?s.ref:(a=(o=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in o&&o.isReactWarning)?s.props.ref:s.props.ref||s.ref));return"function"==typeof u||c.isPresent?t.cloneElement(d,{ref:p}):null};function i(e){return e?.animationName||"none"}s.displayName="Presence",e.s(["Presence",()=>s])},22672,65664,e=>{"use strict";var t=e.i(95329),r=e.i(57102),n=e.i(24668),s=e.i(45725),i=e.i(13105),o=e.i(20281);e.i(19164);var a=Symbol("radix.slottable");function l(e){return t.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var n,o;let a,u,c,d=(o=n=`Primitive.${r}`,(a=t.forwardRef((e,r)=>{let{children:n,...i}=e;if(t.isValidElement(n)){var o;let e,a,l=(o=n,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),u=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==t.Fragment&&(u.ref=r?(0,s.composeRefs)(r,l):l),t.cloneElement(n,u)}return t.Children.count(n)>1?t.Children.only(null):null})).displayName=`${o}.SlotClone`,u=a,(c=t.forwardRef((e,r)=>{let{children:n,...s}=e,o=t.Children.toArray(n),a=o.find(l);if(a){let e=a.props.children,n=o.map(r=>r!==a?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,i.jsx)(u,{...s,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,n):null})}return(0,i.jsx)(u,{...s,ref:r,children:n})})).displayName=`${n}.Slot`,c),p=t.forwardRef((e,t)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(n?d:r,{...s,ref:t})});return p.displayName=`Primitive.${r}`,{...e,[r]:p}},{}),c=e.i(4452),d=e.i(23913),p=e.i(57861),m="rovingFocusGroup.onEntryFocus",f={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[b,x,g]=(0,n.createCollection)(h),[v,y]=function(e,r=[]){let n=[],s=()=>{let r=n.map(e=>t.createContext(e));return function(n){let s=n?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return s.scopeName=e,[function(r,s){let o=t.createContext(s),a=n.length;n=[...n,s];let l=r=>{let{scope:n,children:s,...l}=r,u=n?.[e]?.[a]||o,c=t.useMemo(()=>l,Object.values(l));return(0,i.jsx)(u.Provider,{value:c,children:s})};return l.displayName=r+"Provider",[l,function(n,i){let l=i?.[e]?.[a]||o,u=t.useContext(l);if(u)return u;if(void 0!==s)return s;throw Error(`\`${n}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return n.scopeName=r.scopeName,n}(s,...r)]}(h,[g]),[w,j]=v(h),_=t.forwardRef((e,t)=>(0,i.jsx)(b.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(b.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(N,{...e,ref:t})})}));_.displayName=h;var N=t.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:o,orientation:a,loop:l=!1,dir:b,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:y,onEntryFocus:j,preventScrollOnEntryFocus:_=!1,...N}=e,C=t.useRef(null),R=(0,s.useComposedRefs)(n,C),E=(0,p.useDirection)(b),[O,q]=(0,d.useControllableState)({prop:g,defaultProp:v??null,onChange:y,caller:h}),[I,M]=t.useState(!1),k=(0,c.useCallbackRef)(j),A=x(o),F=t.useRef(!1),[L,T]=t.useState(0);return t.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(m,k),()=>e.removeEventListener(m,k)},[k]),(0,i.jsx)(w,{scope:o,orientation:a,dir:E,loop:l,currentTabStopId:O,onItemFocus:t.useCallback(e=>q(e),[q]),onItemShiftTab:t.useCallback(()=>M(!0),[]),onFocusableItemAdd:t.useCallback(()=>T(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>T(e=>e-1),[]),children:(0,i.jsx)(u.div,{tabIndex:I||0===L?-1:0,"data-orientation":a,...N,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(m,f);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===O),...e].filter(Boolean).map(e=>e.ref.current),_)}}F.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>M(!1))})})}),C="RovingFocusGroupItem",R=t.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,focusable:a=!0,active:l=!1,tabStopId:c,children:d,...p}=e,m=(0,o.useId)(),f=c||m,h=j(C,s),g=h.currentTabStopId===f,v=x(s),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:_}=h;return t.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),(0,i.jsx)(b.ItemSlot,{scope:s,id:f,focusable:a,active:l,children:(0,i.jsx)(u.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...p,ref:n,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{a?h.onItemFocus(f):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let s=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return E[s]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=h.loop?(r=s,n=i+1,r.map((e,t)=>r[(n+t)%r.length])):s.slice(i+1)}setTimeout(()=>S(s))}}),children:"function"==typeof d?d({isCurrentTabStop:g,hasTabStop:null!=_}):d})})});R.displayName=C;var E={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>R,"Root",()=>_,"createRovingFocusGroupScope",()=>y],22672);let O=(0,e.i(39898).default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>O],65664)},49128,e=>{"use strict";var t=e.i(13105),r=e.i(95329),n=e.i(57102),s=e.i(45725);function i(e,n=[]){let s=[],o=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return o.scopeName=e,[function(n,i){let o=r.createContext(i),a=s.length;s=[...s,i];let l=n=>{let{scope:s,children:i,...l}=n,u=s?.[e]?.[a]||o,c=r.useMemo(()=>l,Object.values(l));return(0,t.jsx)(u.Provider,{value:c,children:i})};return l.displayName=n+"Provider",[l,function(t,s){let l=s?.[e]?.[a]||o,u=r.useContext(l);if(u)return u;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(o,...n)]}e.i(19164);var o=Symbol("radix.slottable");function a(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}var l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{var i,o;let l,u,c,d=(o=i=`Primitive.${n}`,(l=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){var o;let e,a,l=(o=n,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),u=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==r.Fragment&&(u.ref=t?(0,s.composeRefs)(t,l):l),r.cloneElement(n,u)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${o}.SlotClone`,u=l,(c=r.forwardRef((e,n)=>{let{children:s,...i}=e,o=r.Children.toArray(s),l=o.find(a);if(l){let e=l.props.children,s=o.map(t=>t!==l?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(u,{...i,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(u,{...i,ref:n,children:s})})).displayName=`${i}.Slot`,c),p=r.forwardRef((e,r)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?d:n,{...i,ref:r})});return p.displayName=`Primitive.${n}`,{...e,[n]:p}},{}),u=e.i(22672),c=e.i(23913),d=e.i(57861),p=e.i(51350),m=e.i(86416),f=e.i(54822),h="Radio",[b,x]=i(h),[g,v]=b(h),y=r.forwardRef((e,i)=>{let{__scopeRadio:o,name:a,checked:u=!1,required:c,disabled:d,value:p="on",onCheck:m,form:f,...h}=e,[b,x]=r.useState(null),v=(0,s.useComposedRefs)(i,e=>x(e)),y=r.useRef(!1),w=!b||f||!!b.closest("form");return(0,t.jsxs)(g,{scope:o,checked:u,disabled:d,children:[(0,t.jsx)(l.button,{type:"button",role:"radio","aria-checked":u,"data-state":N(u),"data-disabled":d?"":void 0,disabled:d,value:p,...h,ref:v,onClick:(0,n.composeEventHandlers)(e.onClick,e=>{u||m?.(),w&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),w&&(0,t.jsx)(_,{control:b,bubbles:!y.current,name:a,value:p,checked:u,required:c,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});y.displayName=h;var w="RadioIndicator",j=r.forwardRef((e,r)=>{let{__scopeRadio:n,forceMount:s,...i}=e,o=v(w,n);return(0,t.jsx)(f.Presence,{present:s||o.checked,children:(0,t.jsx)(l.span,{"data-state":N(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r})})});j.displayName=w;var _=r.forwardRef(({__scopeRadio:e,control:n,checked:i,bubbles:o=!0,...a},u)=>{let c=r.useRef(null),d=(0,s.useComposedRefs)(c,u),f=(0,m.usePrevious)(i),h=(0,p.useSize)(n);return r.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==i&&t){let r=new Event("click",{bubbles:o});t.call(e,i),e.dispatchEvent(r)}},[f,i,o]),(0,t.jsx)(l.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...a,tabIndex:-1,ref:d,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}_.displayName="RadioBubbleInput";var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R="RadioGroup",[E,S]=i(R,[u.createRovingFocusGroupScope,x]),O=(0,u.createRovingFocusGroupScope)(),q=x(),[I,M]=E(R),k=r.forwardRef((e,r)=>{let{__scopeRadioGroup:n,name:s,defaultValue:i,value:o,required:a=!1,disabled:p=!1,orientation:m,dir:f,loop:h=!0,onValueChange:b,...x}=e,g=O(n),v=(0,d.useDirection)(f),[y,w]=(0,c.useControllableState)({prop:o,defaultProp:i??null,onChange:b,caller:R});return(0,t.jsx)(I,{scope:n,name:s,required:a,disabled:p,value:y,onValueChange:w,children:(0,t.jsx)(u.Root,{asChild:!0,...g,orientation:m,dir:v,loop:h,children:(0,t.jsx)(l.div,{role:"radiogroup","aria-required":a,"aria-orientation":m,"data-disabled":p?"":void 0,dir:v,...x,ref:r})})})});k.displayName=R;var A="RadioGroupItem",F=r.forwardRef((e,i)=>{let{__scopeRadioGroup:o,disabled:a,...l}=e,c=M(A,o),d=c.disabled||a,p=O(o),m=q(o),f=r.useRef(null),h=(0,s.useComposedRefs)(i,f),b=c.value===l.value,x=r.useRef(!1);return r.useEffect(()=>{let e=e=>{C.includes(e.key)&&(x.current=!0)},t=()=>x.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(u.Item,{asChild:!0,...p,focusable:!d,active:b,children:(0,t.jsx)(y,{disabled:d,required:c.required,checked:b,...m,...l,name:c.name,ref:h,onCheck:()=>c.onValueChange(l.value),onKeyDown:(0,n.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,n.composeEventHandlers)(l.onFocus,()=>{x.current&&f.current?.click()})})})});F.displayName=A;var L=r.forwardRef((e,r)=>{let{__scopeRadioGroup:n,...s}=e,i=q(n);return(0,t.jsx)(j,{...i,...s,ref:r})});L.displayName="RadioGroupIndicator";var T=e.i(65664),T=T,P=e.i(20696);function D({className:e,...r}){return(0,t.jsx)(k,{"data-slot":"radio-group",className:(0,P.cn)("grid gap-3",e),...r})}function U({className:e,...r}){return(0,t.jsx)(F,{"data-slot":"radio-group-item",className:(0,P.cn)("border-input/70 text-primary aspect-square size-4 shrink-0 rounded-full border bg-background/70 shadow-[0_6px_20px_rgba(0,0,0,0.8)]","transition-all duration-150 outline-none focus-visible:ring-2 focus-visible:ring-ring/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(L,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(T.default,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}e.s(["RadioGroup",()=>D,"RadioGroupItem",()=>U],49128)},85425,e=>{"use strict";var t=e.i(13105),r=e.i(95329),n=e.i(55744),s=e.i(96755),i=e.i(20401),o=e.i(42830),a=e.i(89473),l=e.i(67358),u=e.i(34893),c=e.i(23563),d=e.i(4063),p=e.i(49128),m=e.i(41561),f=e.i(18982),h=e.i(77886),b=e.i(45951),x=e.i(75308),g=e.i(33212);function v({params:e}){let{id:v}=(0,r.use)(e),{user:y,isAdmin:w,loading:j}=(0,s.useAuth)(),_=(0,n.useRouter)(),{data:N,isLoading:C}=(0,f.useQuestion)(v),R=(0,f.useUpdateQuestion)(),[E,S]=(0,r.useState)({category:"B",test_number:1,question_text:"",option_a:"",option_b:"",option_c:"",correct_answer:"A",image_url:"",is_published:!0});(0,r.useEffect)(()=>{j||y&&w||_.push("/")},[y,w,j,_]),(0,r.useEffect)(()=>{N&&S({category:N.category,test_number:N.test_number,question_text:N.question_text,option_a:N.option_a,option_b:N.option_b,option_c:N.option_c,correct_answer:N.correct_answer,image_url:N.image_url||"",is_published:N.is_published})},[N]);let O=async e=>{e.preventDefault();let t=[];if(E.question_text||t.push("Question text is required"),E.option_a||t.push("Option A is required"),E.option_b||t.push("Option B is required"),E.option_c||t.push("Option C is required"),E.correct_answer||t.push("Please select the correct answer"),["A","B","C"].includes(E.correct_answer)||t.push("Correct answer must be A, B, or C"),E.category||t.push("Category is required"),(!E.test_number||E.test_number<1||E.test_number>10)&&t.push("Test number must be between 1 and 10"),t.length>0)return void h.toast.error(t[0]);try{await R.mutateAsync({id:v,category:E.category,test_number:E.test_number,question_text:E.question_text,option_a:E.option_a,option_b:E.option_b,option_c:E.option_c,correct_answer:E.correct_answer,image_url:E.image_url,is_published:E.is_published}),h.toast.success("Question updated successfully!"),setTimeout(()=>{_.push("/admin/questions")},500)}catch(t){let e=t instanceof Error?t.message:"Unknown error occurred";h.toast.error(`Failed to update question: ${e}`)}};return j||C?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):y&&w&&N?(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)(i.Navbar,{}),(0,t.jsxs)(m.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto px-6 py-8 max-w-4xl pt-28",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,t.jsx)(a.Button,{variant:"ghost",asChild:!0,children:(0,t.jsxs)(g.default,{href:"/admin",children:[(0,t.jsx)(b.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Admin Dashboard"]})}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,t.jsx)(a.Button,{variant:"ghost",asChild:!0,children:(0,t.jsx)(g.default,{href:"/admin/questions",children:"Questions"})})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Question"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Update question details"})]}),(0,t.jsx)("form",{onSubmit:O,children:(0,t.jsxs)(o.GlassCard,{className:"p-6 space-y-6 border border-border/80 bg-black/80",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"category",children:"Category *"}),(0,t.jsxs)(d.Select,{value:E.category,onValueChange:e=>S({...E,category:e}),children:[(0,t.jsx)(d.SelectTrigger,{id:"category",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"A",children:"Category A"}),(0,t.jsx)(d.SelectItem,{value:"B",children:"Category B"}),(0,t.jsx)(d.SelectItem,{value:"C",children:"Category C"}),(0,t.jsx)(d.SelectItem,{value:"D",children:"Category D"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"test_number",children:"Test Number *"}),(0,t.jsx)(l.Input,{id:"test_number",type:"number",min:"1",max:"10",value:E.test_number,onChange:e=>S({...E,test_number:parseInt(e.target.value)}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(d.Select,{value:E.is_published?"published":"draft",onValueChange:e=>S({...E,is_published:"published"===e}),children:[(0,t.jsx)(d.SelectTrigger,{id:"status",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"published",children:"Published"}),(0,t.jsx)(d.SelectItem,{value:"draft",children:"Draft"})]})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"question_text",children:"Question Text *"}),(0,t.jsx)(c.Textarea,{id:"question_text",rows:4,value:E.question_text,onChange:e=>S({...E,question_text:e.target.value}),placeholder:"Enter the question text..."})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(u.Label,{children:"Answer Options *"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"option_a",className:"text-sm text-muted-foreground",children:"Option A"}),(0,t.jsx)(l.Input,{id:"option_a",value:E.option_a,onChange:e=>S({...E,option_a:e.target.value}),placeholder:"Enter option A..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"option_b",className:"text-sm text-muted-foreground",children:"Option B"}),(0,t.jsx)(l.Input,{id:"option_b",value:E.option_b,onChange:e=>S({...E,option_b:e.target.value}),placeholder:"Enter option B..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"option_c",className:"text-sm text-muted-foreground",children:"Option C"}),(0,t.jsx)(l.Input,{id:"option_c",value:E.option_c,onChange:e=>S({...E,option_c:e.target.value}),placeholder:"Enter option C..."})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(u.Label,{className:"text-base font-semibold",children:"Correct Answer *"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select which option is the correct answer"}),(0,t.jsxs)(p.RadioGroup,{value:E.correct_answer,onValueChange:e=>{S({...E,correct_answer:e})},className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[(0,t.jsx)(p.RadioGroupItem,{value:"A",id:"correct_a"}),(0,t.jsxs)(u.Label,{htmlFor:"correct_a",className:"cursor-pointer flex-1 font-medium",children:["Option A ","A"===E.correct_answer&&(0,t.jsx)("span",{className:"text-primary ml-2",children:"✓ Selected"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[(0,t.jsx)(p.RadioGroupItem,{value:"B",id:"correct_b"}),(0,t.jsxs)(u.Label,{htmlFor:"correct_b",className:"cursor-pointer flex-1 font-medium",children:["Option B ","B"===E.correct_answer&&(0,t.jsx)("span",{className:"text-primary ml-2",children:"✓ Selected"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:border-primary/50 transition-colors",children:[(0,t.jsx)(p.RadioGroupItem,{value:"C",id:"correct_c"}),(0,t.jsxs)(u.Label,{htmlFor:"correct_c",className:"cursor-pointer flex-1 font-medium",children:["Option C ","C"===E.correct_answer&&(0,t.jsx)("span",{className:"text-primary ml-2",children:"✓ Selected"})]})]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Currently selected: ",(0,t.jsxs)("span",{className:"font-semibold text-primary",children:["Option ",E.correct_answer]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"image_url",children:"Image URL (Optional)"}),(0,t.jsx)(l.Input,{id:"image_url",type:"url",value:E.image_url,onChange:e=>S({...E,image_url:e.target.value}),placeholder:"https://example.com/image.jpg"})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)(a.Button,{type:"submit",disabled:R.isPending,className:"flex-1 shadow-lg shadow-primary/20",children:R.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Save,{className:"w-4 h-4 mr-2"}),"Update Question"]})}),(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>_.push("/admin/questions"),disabled:R.isPending,children:"Cancel"})]})]})})]})]}):null}e.s(["default",()=>v])}]);