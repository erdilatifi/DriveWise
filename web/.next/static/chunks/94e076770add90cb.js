(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45951,e=>{"use strict";let t=(0,e.i(39898).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],45951)},94312,e=>{"use strict";var t=e.i(13105),s=e.i(20696);function r({className:e,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("relative overflow-hidden rounded-xl bg-gradient-to-r from-muted/60 via-muted/35 to-muted/60","before:absolute before:inset-0 before:-translate-x-full before:bg-gradient-to-r before:from-transparent before:via-primary/18 before:to-transparent before:animate-[shimmer_1.4s_infinite]",e),...r})}e.s(["Skeleton",()=>r])},71778,e=>{"use strict";var t=e.i(13105),s=e.i(95329),r=e.i(20696);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("relative overflow-hidden rounded-2xl border border-border/70 bg-card/80 text-card-foreground backdrop-blur-2xl shadow-[0_18px_60px_rgba(0,0,0,0.85)]","before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.06),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.04),transparent_55%)] before:opacity-70",e),...s}));a.displayName="Card";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let c=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let d=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s}));d.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>c,"CardDescription",()=>n,"CardFooter",()=>d,"CardHeader",()=>i,"CardTitle",()=>l])},89679,e=>{"use strict";var t=e.i(50351);let s={freeTestLimitPerCategory:Number(t.default.env.NEXT_PUBLIC_FREE_TEST_LIMIT_PER_CATEGORY??"3"),paidTestLimitPerCategory:Number(t.default.env.NEXT_PUBLIC_PAID_TEST_LIMIT_PER_CATEGORY??"9999"),billingCycleDays:Number(t.default.env.NEXT_PUBLIC_BILLING_CYCLE_DAYS??"30"),bestValuePlan:t.default.env.NEXT_PUBLIC_PAYMENT_BEST_VALUE_PLAN??"PLAN_C",plans:[{id:"PLAN_A",label:"1 month",months:1,priceEur:3},{id:"PLAN_B",label:"2 months",months:2,priceEur:6},{id:"PLAN_C",label:"3 months",months:3,priceEur:8,badge:"BEST_VALUE",emphasize:!0}].reduce((e,t)=>{let s=t.priceEur/t.months;return e[t.id]={...t,pricePerMonthEur:s},e},{})};function r(e,t=new Date){if(!e)return!1;let s=new Date(e.startDate).getTime(),a=new Date(e.endDate).getTime(),i=t.getTime();return i>=s&&i<=a}function a(e){let{isAdmin:t,testsTakenThisCycle:a,activePlan:i,now:l}=e;if(t)return{canAccessTests:!0,canStartNewTest:!0,remainingFreeTests:void 0,canAccessDecisionTrainer:!0,canAccessStudyMaterial:!0,canReviewTestsInDetail:!0};if(i&&r({startDate:i.startDate,endDate:i.endDate},l))return{canAccessTests:!0,canStartNewTest:a<s.paidTestLimitPerCategory,remainingFreeTests:Math.max(0,s.paidTestLimitPerCategory-a),canAccessDecisionTrainer:!0,canAccessStudyMaterial:!0,canReviewTestsInDetail:!0};let n=Math.max(0,s.freeTestLimitPerCategory-a);return{canAccessTests:!0,canStartNewTest:n>0,remainingFreeTests:n,canAccessDecisionTrainer:!1,canAccessStudyMaterial:!1,canReviewTestsInDetail:!1}}function i(e){let{attempts:t,category:r,now:a}=e,i=a??new Date,l=new Date(i);l.setDate(l.getDate()-s.billingCycleDays+1);let n=l.getTime(),c=i.getTime();return t.filter(e=>{if(e.category!==r)return!1;let t=new Date(e.completed_at).getTime();return t>=n&&t<=c}).length}e.s(["BILLING_CONFIG",0,s,"computeEntitlements",()=>a,"countTestsInCurrentCycle",()=>i,"isPlanCurrentlyActive",()=>r])},5642,e=>{"use strict";var t=e.i(55650),s=e.i(90582),r=e.i(89679);function a(e){return(0,t.useQuery)({queryKey:["user-plans",e],queryFn:async()=>{let t=(0,s.createClient)(),{data:r,error:a}=await t.from("user_plans").select("*").eq("user_id",e);if(a)throw a;return r||[]},enabled:!!e,staleTime:0,refetchOnMount:"always"})}function i(e,t){let s=a(e),i=new Date,l=!!t||(s.data||[]).some(e=>"active"===e.status&&(0,r.isPlanCurrentlyActive)({startDate:e.start_date,endDate:e.end_date},i));return{...s,hasAnyActivePlan:l}}function l(e,a,i){return(0,t.useQuery)({queryKey:["category-entitlements",e,a,i],queryFn:async()=>{let t=(0,s.createClient)(),[l,n]=await Promise.all([t.from("user_plans").select("*").eq("user_id",e).eq("category",a).order("end_date",{ascending:!1}).limit(1),t.from("test_attempts").select("category, completed_at").eq("user_id",e)]);if(l.error)throw l.error;if(n.error)throw n.error;let c=(l.data||[])[0],d=new Date,o=(0,r.countTestsInCurrentCycle)({attempts:(n.data||[]).map(e=>({category:e.category,completed_at:e.completed_at})),category:a,now:d}),m=c?{id:c.id,userId:c.user_id,category:c.category,planTier:c.plan_tier,startDate:c.start_date,endDate:c.end_date,isActive:"active"===c.status,createdAt:c.created_at}:null;return{entitlements:(0,r.computeEntitlements)({isAdmin:i,testsTakenThisCycle:o,activePlan:m?{planTier:m.planTier,startDate:m.startDate,endDate:m.endDate,isActive:m.isActive}:null,now:d}),plan:m,testsTakenThisCycle:o}},enabled:!!e&&!!a,staleTime:3e5})}e.s(["useCategoryEntitlements",()=>l,"useGlobalPremium",()=>i,"useUserPlans",()=>a])},51699,e=>{"use strict";let t=(0,e.i(39898).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],51699)},99310,e=>{"use strict";let t=(0,e.i(39898).default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckSquare",()=>t],99310)},49329,e=>{"use strict";let t=(0,e.i(39898).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],49329)},62062,e=>{"use strict";let t=(0,e.i(39898).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],62062)},93239,e=>{"use strict";var t=e.i(13105),s=e.i(95329),r=e.i(90582),a=e.i(20401),i=e.i(42830),l=e.i(89473),n=e.i(71778),c=e.i(94312),d=e.i(33212),o=e.i(45951),m=e.i(51699),x=e.i(49329),h=e.i(62062),u=e.i(99310),p=e.i(41561),f=e.i(55744),b=e.i(18797),g=e.i(96755),j=e.i(5642);function N(){let e=(0,f.useParams)();(0,f.useRouter)();let N=e.id,y=(0,r.createClient)(),{language:w,t:v}=(0,b.useLanguage)(),{user:_,isAdmin:C}=(0,g.useAuth)(),[T,k]=(0,s.useState)([]),[S,A]=(0,s.useState)(null),[P,D]=(0,s.useState)(!0),[L,B]=(0,s.useState)(0),{data:E,isLoading:q}=(0,j.useCategoryEntitlements)(_?.id,S?.category||void 0,C);(0,s.useEffect)(()=>{R()},[N]);let R=async()=>{D(!0);try{let{data:e,error:t}=await y.from("test_attempts").select("*").eq("id",N).single();if(t)throw t;A(e);let{data:s,error:r}=await y.from("test_attempt_answers").select("*").eq("test_attempt_id",N).order("answered_at",{ascending:!0});if(r)throw r;if(s&&s.length>0){let e=s.map(e=>e.question_id),{data:t,error:r}=await y.from("admin_questions").select("*").in("id",e);if(r)throw r;let a=s.map(e=>{let s=t?.find(t=>t.id===e.question_id);return{...e,question:s||null}});k(a)}else k([])}catch(e){}finally{D(!1)}};if(P||S&&q)return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)(a.Navbar,{}),(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8 max-w-7xl pt-28",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(c.Skeleton,{className:"w-32 h-9 mb-4"}),(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Skeleton,{className:"w-64 h-8"}),(0,t.jsx)(c.Skeleton,{className:"w-48 h-4"})]}),(0,t.jsxs)("div",{className:"space-y-2 flex flex-col items-end",children:[(0,t.jsx)(c.Skeleton,{className:"w-20 h-8"}),(0,t.jsx)(c.Skeleton,{className:"w-24 h-4"})]})]})]}),(0,t.jsx)("div",{className:"mb-6 max-w-4xl mx-auto",children:(0,t.jsx)(i.GlassCard,{className:"p-4",children:(0,t.jsx)(c.Skeleton,{className:"w-full h-32"})})}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto mb-6",children:(0,t.jsxs)(i.GlassCard,{className:"p-6 h-[400px]",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsx)(c.Skeleton,{className:"w-10 h-10 rounded-lg"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Skeleton,{className:"w-40 h-6"}),(0,t.jsx)(c.Skeleton,{className:"w-24 h-4"})]})]}),(0,t.jsx)(c.Skeleton,{className:"w-full h-8 mb-6"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(c.Skeleton,{className:"w-full h-16 rounded-lg"}),(0,t.jsx)(c.Skeleton,{className:"w-full h-16 rounded-lg"}),(0,t.jsx)(c.Skeleton,{className:"w-full h-16 rounded-lg"})]})]})})]})]});if(!C&&E&&!E.entitlements.canReviewTestsInDetail){let e=(S?.category||"B").toUpperCase();return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)(a.Navbar,{}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8 max-w-3xl pt-28",children:(0,t.jsxs)(i.GlassCard,{className:"p-8 border border-border/80 bg-black/85",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold mb-3",children:v("history.reviewPaywallTitle")||"Detailed review is part of the paid plan"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:v("history.reviewPaywallDescription")||"On the free plan you can see a simple test history, but question-by-question review with explanations is unlocked with a paid plan for this category."}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground mb-4 list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:v("history.reviewPaywallBenefit1")||"See every question, your answer, and the correct answer."}),(0,t.jsx)("li",{children:v("history.reviewPaywallBenefit2")||"Read explanations so you remember why answers are correct."}),(0,t.jsx)("li",{children:v("history.reviewPaywallBenefit3")||"Spot patterns in your mistakes and fix them faster."})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)(l.Button,{asChild:!0,className:"flex-1",children:(0,t.jsx)(d.default,{href:`/pricing?category=${e}`,children:v("history.reviewPaywallUpgradeCta")||"See plans & upgrade"})}),(0,t.jsx)(l.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,t.jsx)(d.default,{href:"/history",children:v("history.backToHistory")})})]})]})})]})}if(!S||0===T.length)return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)(a.Navbar,{}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8 max-w-7xl pt-28",children:(0,t.jsxs)(i.GlassCard,{className:"p-12 text-center border border-border/80 bg-black/80",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:v("history.notFoundTitle")}),(0,t.jsx)(l.Button,{asChild:!0,children:(0,t.jsx)(d.default,{href:"/history",children:v("history.backToHistory")})})]})})]});let I={};T.forEach(e=>{let t=e.question,s=t?.topic;t&&s&&(I[s]||(I[s]={total:0,correct:0}),I[s].total+=1,e.is_correct&&(I[s].correct+=1))});let M=Object.entries(I).map(([e,t])=>{let s=t.total>0?t.correct/t.total:0;return{topic:e,total:t.total,correct:t.correct,accuracy:s}}).sort((e,t)=>e.accuracy-t.accuracy),$=M.filter(e=>e.total>=2&&e.accuracy<.8).slice(0,3),z=T[L],U=z?.question,G=T.length,F=S.percentage>=80,H="mixed"===S.test_number,O="personalized"===S.test_number;if(!U)return(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)(a.Navbar,{}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8 max-w-7xl pt-28",children:(0,t.jsxs)(i.GlassCard,{className:"p-12 text-center border border-border/80 bg-black/80",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:v("history.missingQuestionTitle")}),(0,t.jsx)(l.Button,{asChild:!0,children:(0,t.jsx)(d.default,{href:"/history",children:v("history.backToHistory")})})]})})]});let Y=z.selected_answer?z.selected_answer.split(","):[],V=U.correct_answers&&U.correct_answers.length>0?U.correct_answers:[U.correct_answer],X=U.question_text,Q=U.explanation||"",K=U.topic?encodeURIComponent(U.topic):"";return(0,t.jsxs)("div",{className:"relative min-h-screen bg-background text-foreground overflow-hidden",children:[(0,t.jsx)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 [mask-image:radial-gradient(60%_60%_at_50%_20%,#000_20%,transparent_70%)]",children:(0,t.jsxs)("svg",{className:"h-full w-full opacity-[0.06]",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("pattern",{id:"review-grid",width:"32",height:"32",patternUnits:"userSpaceOnUse",children:(0,t.jsx)("path",{d:"M32 0H0V32",fill:"none",stroke:"currentColor",strokeWidth:"0.4"})})}),(0,t.jsx)("rect",{width:"100%",height:"100%",fill:"url(#review-grid)"})]})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-72 bg-gradient-to-b from-orange-500/25 via-transparent to-transparent blur-3xl"}),(0,t.jsxs)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",children:[(0,t.jsx)("div",{className:"hidden lg:block absolute top-24 bottom-24 left-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent"}),(0,t.jsx)("div",{className:"hidden lg:block absolute top-24 bottom-24 right-[10%] w-px bg-gradient-to-b from-transparent via-orange-500/25 to-transparent"})]}),(0,t.jsx)(a.Navbar,{}),(0,t.jsxs)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container mx-auto px-6 py-8 max-w-7xl pt-28",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(l.Button,{variant:"ghost",asChild:!0,className:"mb-4",children:(0,t.jsxs)(d.default,{href:"/history",children:[(0,t.jsx)(o.ArrowLeft,{className:"w-4 h-4 mr-2"}),v("history.backToHistory")]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold mb-1",children:[v("category.licenseCategory")," ",S.category," - ","mixed"===S.test_number?v("test.mixedName"):"personalized"===S.test_number?v("test.personalizedName"):`${v("test.test")} #${S.test_number}`]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:v("history.reviewSubtitle")})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:`text-3xl font-bold ${F?"text-green-500":"text-red-500"}`,children:[S.percentage,"%"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[S.score,"/",S.total_questions," correct"]})]})]})]}),M.length>0&&(0,t.jsx)("div",{className:"mb-6 max-w-4xl mx-auto",children:(0,t.jsx)(i.GlassCard,{className:"p-4 border border-border/80 bg-black/80",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:v("history.topicsTitle")}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:v("history.topicsSubtitle")})]}),$.length>0&&(0,t.jsxs)("p",{className:"text-xs font-medium text-amber-500",children:[v("history.weakTopicsPrefix")," ",$.map((e,s)=>(0,t.jsxs)("span",{children:[s>0&&", ",e.topic]},e.topic))]})]}),(0,t.jsx)("div",{className:"space-y-2",children:M.slice(0,4).map(e=>{let s=Math.round(100*e.accuracy),r=$.some(t=>t.topic===e.topic);return(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"font-medium truncate mr-2",children:e.topic}),(0,t.jsxs)("span",{className:`font-semibold ${r?"text-red-500":s>=90?"text-green-500":"text-amber-500"}`,children:[e.correct,"/",e.total," (",s,"%)"]})]}),(0,t.jsx)("div",{className:"w-full bg-secondary rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:`h-2 rounded-full transition-all ${r?"bg-red-500/80":s>=90?"bg-green-500/80":"bg-amber-500/80"}`,style:{width:`${Math.max(8,s)}%`}})})]},e.topic)})})]})})}),(0,t.jsx)("div",{className:"mb-6 max-w-4xl mx-auto",children:(0,t.jsx)(i.GlassCard,{className:"p-4 border border-border/80 bg-black/80",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold",children:v("test.nextStepsTitle")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:v(F?H||O?"test.nextStepsPassedMixedOrPersonalized":"test.nextStepsPassedStandard":O?"test.nextStepsFailedPersonalized":"test.nextStepsFailedStandard")})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)(l.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/category/${S.category.toLowerCase()}`,children:v("test.backToTests")})}),!O&&(0,t.jsx)(l.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/test/${S.category.toLowerCase()}/personalized`,children:v("test.practiceWeakPointsCta")})}),!H&&(0,t.jsx)(l.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:`/test/${S.category.toLowerCase()}/mixed`,children:v("test.mixedTestCta")})}),(0,t.jsx)(l.Button,{variant:"outline",className:"flex-1",asChild:!0,children:(0,t.jsx)(d.default,{href:"/decision-trainer",children:v("test.decisionTrainerCta")})})]})]})})}),(0,t.jsx)(n.Card,{className:`${U.image_url?"max-w-6xl":"max-w-4xl"} mx-auto mb-6 border border-border/80 bg-black/80`,children:(0,t.jsxs)(n.CardContent,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${z.is_correct?"bg-green-500/20":"bg-red-500/20"}`,children:z.is_correct?(0,t.jsx)(x.CheckCircle,{className:"w-6 h-6 text-green-500"}):(0,t.jsx)(h.XCircle,{className:"w-6 h-6 text-red-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold",children:["Question ",L+1," of ",G]}),(0,t.jsx)("p",{className:`text-sm ${z.is_correct?"text-green-500":"text-red-500"}`,children:v(z.is_correct?"test.correctTitle":"test.incorrectTitle")})]})]}),(0,t.jsxs)("div",{className:U.image_url?"grid grid-cols-1 lg:grid-cols-2 gap-6":"",children:[U.image_url&&(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsx)("div",{className:"relative rounded-xl overflow-hidden border-2 border-border shadow-lg",children:(0,t.jsx)("img",{src:U.image_url,alt:"Question illustration",className:"w-full h-auto object-contain bg-muted/30",style:{maxHeight:"400px"}})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-medium mb-6",children:X}),(0,t.jsx)("div",{className:"space-y-3",children:["A","B","C"].map(e=>{let s=V.includes(e),r=Y.includes(e),a=U[`option_${e.toLowerCase()}`];return(0,t.jsx)("div",{className:`p-4 rounded-lg border-2 ${s?"bg-green-500/10 border-green-500/50":r&&!s?"bg-red-500/10 border-red-500/50":"bg-muted/30 border-border"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 ${r?s?"border-green-500 bg-green-500":"border-red-500 bg-red-500":s?"border-green-500 bg-green-500":"border-border"}`,children:(r||s)&&(0,t.jsx)(u.CheckSquare,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("p",{className:"font-medium",children:[(0,t.jsxs)("span",{className:"font-bold mr-2",children:[e,"."]}),a]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[s&&(0,t.jsx)("span",{className:"text-green-500 text-xs font-semibold whitespace-nowrap",children:"✓ Correct"}),r&&!s&&(0,t.jsx)("span",{className:"text-red-500 text-xs font-semibold whitespace-nowrap",children:"✗ Your answer"}),r&&s&&(0,t.jsx)("span",{className:"text-green-500 text-xs font-semibold whitespace-nowrap",children:"✓ Your answer"})]})]})})]})},e)})}),Q&&(0,t.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-muted/40 border border-border",children:[(0,t.jsx)("p",{className:"text-sm font-semibold mb-1",children:v("history.explanationTitle")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:Q})]}),U.topic&&K&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(l.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsx)(d.default,{href:`/materials?search=${K}`,children:v("materials.title")})})})]})]})]})}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)(l.Button,{variant:"outline",onClick:()=>B(Math.max(0,L-1)),disabled:0===L,children:[(0,t.jsx)(o.ArrowLeft,{className:"w-4 h-4 mr-2"}),v("test.previous")]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[v("test.question")," ",L+1," ",v("test.of")," ",G]}),(0,t.jsxs)(l.Button,{variant:"outline",onClick:()=>B(Math.min(G-1,L+1)),disabled:L===G-1,children:[v("test.next"),(0,t.jsx)(m.ArrowRight,{className:"w-4 h-4 ml-2"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>B(Math.max(0,L-5)),disabled:0===L,className:"p-1 rounded hover:bg-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(o.ArrowLeft,{className:"w-3 h-3"})}),(0,t.jsx)("div",{className:"flex-1 overflow-x-auto scrollbar-hide",children:(0,t.jsx)("div",{className:"flex gap-1",children:T.map((e,s)=>{let r=Math.abs(s-L);return r>4&&0!==s&&s!==G-1?null:5===r?(0,t.jsx)("span",{className:"px-1 text-xs text-muted-foreground",children:"..."},`ellipsis-${s}`):(0,t.jsx)("button",{onClick:()=>B(s),className:`min-w-[32px] h-8 px-2 rounded text-xs font-medium transition-colors ${s===L?"bg-primary text-primary-foreground":e.is_correct?"bg-green-500/20 text-green-500 hover:bg-green-500/30":"bg-red-500/20 text-red-500 hover:bg-red-500/30"}`,children:s+1},e.id)})})}),(0,t.jsx)("button",{onClick:()=>B(Math.min(G-1,L+5)),disabled:L===G-1,className:"p-1 rounded hover:bg-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(m.ArrowRight,{className:"w-3 h-3"})})]})]})]})]})}e.s(["default",()=>N])}]);