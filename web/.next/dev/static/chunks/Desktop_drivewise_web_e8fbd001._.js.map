{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/navbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { LogOut, Menu, X, Globe, Check } from 'lucide-react';\r\nimport { useLanguage } from '@/contexts/language-context';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport { toast } from 'sonner';\r\n\r\nexport function Navbar() {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [languageMenuOpen, setLanguageMenuOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const { language, setLanguage, t } = useLanguage();\r\n  const { user, signOut, isAdmin, userProfile, loading: authLoading } = useAuth();\r\n  const pathname = usePathname();\r\n\r\n  // Get display name from userProfile or fallback to email\r\n  const displayName = userProfile?.full_name || user?.user_metadata?.full_name || user?.email?.split('@')[0] || t('admin.user');\r\n\r\n  // Handle scroll behavior\r\n  useEffect(() => {\r\n    let rafId: number;\r\n    const handleScroll = () => {\r\n      rafId = requestAnimationFrame(() => {\r\n        setScrolled(window.scrollY > 10);\r\n      });\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      cancelAnimationFrame(rafId);\r\n    };\r\n  }, []);\r\n\r\n  const handleLanguageChange = (lang: 'sq' | 'en') => {\r\n    setLanguage(lang);\r\n    setLanguageMenuOpen(false);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      setMobileMenuOpen(false);\r\n      await signOut();\r\n      toast.success(t('auth.logoutSuccess'));\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      toast.error(t('auth.logoutError'));\r\n    }\r\n  };\r\n\r\n  const isActive = (path: string) => pathname === path;\r\n\r\n  const desktopLinkBase =\r\n    'text-sm font-semibold transition-all duration-200 relative group/nav-link';\r\n  const desktopLinkActive = 'text-primary';\r\n  const desktopLinkInactive = 'text-foreground/80 hover:text-foreground';\r\n\r\n  const renderDesktopLink = (href: string, label: string, active: boolean) => (\r\n    <Link\r\n      href={href}\r\n      className={`${desktopLinkBase} ${active ? desktopLinkActive : desktopLinkInactive}`}\r\n    >\r\n      {label}\r\n      <span\r\n        className={`absolute -bottom-1 left-0 h-0.5 bg-gradient-to-r from-primary to-primary/50 rounded-full transition-all duration-200 ${\r\n          active ? 'w-full' : 'w-0 group-hover/nav-link:w-full'\r\n        }`}\r\n      />\r\n    </Link>\r\n  );\r\n\r\n  return (\r\n    <nav className={`fixed left-1/2 -translate-x-1/2 z-50 transition-all duration-300 ${\r\n      scrolled ? 'top-0 w-full' : 'top-4 w-[90%]'\r\n    }`}>\r\n      <div className={`bg-card/95 backdrop-blur-xl border border-border/40 shadow-lg shadow-black/20 transition-all duration-300 ${\r\n        scrolled ? 'rounded-none border-t-0 border-x-0' : 'rounded-2xl'\r\n      }`}>\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex h-20 items-center justify-between\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 bg-primary/30 blur-2xl rounded-full group-hover:bg-primary/40 transition-all duration-300\"></div>\r\n              <div className=\"relative w-12 h-12 rounded-2xl overflow-hidden shadow-xl shadow-primary/20 group-hover:shadow-primary/30 transition-all duration-300 group-hover:scale-105 border-2 border-primary/30 group-hover:border-primary/50\">\r\n                <Image \r\n                  src=\"/logo-white.png\" \r\n                  alt=\"DriveWise Logo\" \r\n                  width={48} \r\n                  height={48}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-2xl font-bold text-white tracking-tight\">\r\n                DriveWise\r\n              </span>\r\n              <span className=\"text-xs text-primary font-medium -mt-1\">{t('nav.subtitle')}</span>\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden md:flex items-center gap-8\">\r\n            {/* Home */}\r\n            {renderDesktopLink('/', t('nav.home'), isActive('/'))}\r\n\r\n            {/* Pricing page */}\r\n            {renderDesktopLink('/pricing', t('nav.pricing'), isActive('/pricing'))}\r\n\r\n            {/* Materials */}\r\n            {renderDesktopLink('/materials', t('nav.materials'), isActive('/materials'))}\r\n\r\n            {/* Decision Trainer (logged-in users) */}\r\n            {user &&\r\n              renderDesktopLink(\r\n                '/decision-trainer',\r\n                t('nav.decisionTrainer'),\r\n                pathname.startsWith('/decision-trainer'),\r\n              )}\r\n\r\n            {/* Tests (category index page) */}\r\n            {renderDesktopLink('/category', t('nav.tests'), pathname.startsWith('/category'))}\r\n\r\n            {/* Dashboard */}\r\n            {renderDesktopLink('/dashboard', t('nav.dashboard'), isActive('/dashboard'))}\r\n\r\n            {/* Account (logged-in users) */}\r\n            {user && renderDesktopLink('/profile', t('nav.account'), isActive('/profile'))}\r\n\r\n            {/* Admin (admins only) */}\r\n            {user &&\r\n              isAdmin &&\r\n              renderDesktopLink(\r\n                '/admin',\r\n                t('nav.admin'),\r\n                isActive('/admin') || pathname.startsWith('/admin'),\r\n              )}\r\n          </div>\r\n\r\n          {/* Desktop Auth Buttons */}\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            {/* Language Switcher */}\r\n            <div className=\"relative\">\r\n              <button\r\n                onClick={() => setLanguageMenuOpen(!languageMenuOpen)}\r\n                className=\"flex items-center gap-2 px-3 py-2 rounded-lg border border-border/50 hover:border-primary/50 hover:bg-primary/10 transition-all duration-200 group\"\r\n              >\r\n                <Globe className=\"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors\" />\r\n                <span className=\"text-sm font-medium text-foreground group-hover:text-primary transition-colors\">\r\n                  {language === 'en' ? 'EN' : 'SQ'}\r\n                </span>\r\n              </button>\r\n              \r\n              {/* Language Dropdown */}\r\n              {languageMenuOpen && (\r\n                <div className=\"absolute top-full mt-2 right-0 w-48 bg-card border border-border/50 rounded-xl shadow-xl shadow-black/20 overflow-hidden z-50\">\r\n                  <button\r\n                    onClick={() => handleLanguageChange('en')}\r\n                    className={`w-full flex items-center justify-between px-4 py-3 hover:bg-primary/10 transition-colors ${\r\n                      language === 'en' ? 'bg-primary/10 text-primary' : 'text-foreground'\r\n                    }`}\r\n                  >\r\n                    <span className=\"font-medium\">English</span>\r\n                    {language === 'en' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleLanguageChange('sq')}\r\n                    className={`w-full flex items-center justify-between px-4 py-3 hover:bg-primary/10 transition-colors ${\r\n                      language === 'sq' ? 'bg-primary/10 text-primary' : 'text-foreground'\r\n                    }`}\r\n                  >\r\n                    <span className=\"font-medium\">Shqip</span>\r\n                    {language === 'sq' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {authLoading ? (\r\n              <div className=\"flex items-center gap-3 px-4 py-2 rounded-full bg-primary/5 border border-primary/10\">\r\n                <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                <span className=\"text-sm text-muted-foreground\">Loading...</span>\r\n              </div>\r\n            ) : user ? (\r\n              <>\r\n                <div className=\"flex items-center gap-3 px-4 py-2 rounded-full bg-primary/10 border border-primary/20\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm font-medium text-primary\">{displayName}</span>\r\n                </div>\r\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} className=\"border-border/50 hover:border-primary/50\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  {t('nav.logout')}\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Button variant=\"ghost\" size=\"sm\" asChild className=\"hover:bg-primary/10 hover:text-primary\">\r\n                  <Link href=\"/login\">{t('nav.login')}</Link>\r\n                </Button>\r\n                <Button size=\"sm\" asChild className=\"shadow-lg shadow-primary/30 hover:shadow-primary/40 transition-all duration-300 font-semibold\">\r\n                  <Link href=\"/register\">{t('nav.getStarted')}</Link>\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            className=\"md:hidden p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-border/50 hover:border-primary/30\"\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n          >\r\n            {mobileMenuOpen ? (\r\n              <X className=\"w-5 h-5 text-primary\" />\r\n            ) : (\r\n              <Menu className=\"w-5 h-5 text-foreground\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"md:hidden py-6 border-t border-border/40 bg-card/50 backdrop-blur-xl animate-in slide-in-from-top-2\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              {user && (\r\n                <div className=\"flex items-center gap-3 px-4 py-3 mb-2 rounded-xl bg-primary/10 border border-primary/20\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm font-medium text-primary\">{displayName}</span>\r\n                </div>\r\n              )}\r\n              {/* Home */}\r\n              <Link\r\n                href=\"/\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.home')}\r\n              </Link>\r\n\r\n              {/* Pricing */}\r\n              <Link\r\n                href=\"/pricing\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/pricing')\r\n                    ? 'bg-primary/10 text-primary border border-primary/20'\r\n                    : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.pricing')}\r\n              </Link>\r\n\r\n              {/* Materials */}\r\n              <Link\r\n                href=\"/materials\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/materials') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.materials')}\r\n              </Link>\r\n\r\n              {/* Decision Trainer (logged-in users) */}\r\n              {user && (\r\n                <Link\r\n                  href=\"/decision-trainer\"\r\n                  className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                    pathname.startsWith('/decision-trainer')\r\n                      ? 'bg-primary/10 text-primary border border-primary/20'\r\n                      : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  {t('nav.decisionTrainer')}\r\n                </Link>\r\n              )}\r\n\r\n              {/* Tests (category index page) */}\r\n              <Link\r\n                href=\"/category\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  pathname.startsWith('/category')\r\n                    ? 'bg-primary/10 text-primary border border-primary/20'\r\n                    : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.tests')}\r\n              </Link>\r\n\r\n              {/* Dashboard */}\r\n              <Link\r\n                href=\"/dashboard\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/dashboard') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.dashboard')}\r\n              </Link>\r\n\r\n              {/* Account (logged-in users) */}\r\n              {user && (\r\n                <Link\r\n                  href=\"/profile\"\r\n                  className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                    isActive('/profile')\r\n                      ? 'bg-primary/10 text-primary border border-primary/20'\r\n                      : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  {t('nav.account')}\r\n                </Link>\r\n              )}\r\n\r\n              {/* Admin (admins only) */}\r\n              {user &&\r\n                isAdmin && (\r\n                  <Link\r\n                    href=\"/admin\"\r\n                    className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                      isActive('/admin') || pathname.startsWith('/admin')\r\n                        ? 'bg-primary/10 text-primary border border-primary/20'\r\n                        : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                    }`}\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    {t('nav.admin')}\r\n                  </Link>\r\n                )}\r\n              \r\n              {/* Mobile Language Switcher */}\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground\">\r\n                  <Globe className=\"w-4 h-4\" />\r\n                  <span className=\"font-medium\">{t('nav.language')}</span>\r\n                </div>\r\n                <button\r\n                  onClick={() => handleLanguageChange('en')}\r\n                  className={`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 ${\r\n                    language === 'en' ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                >\r\n                  <span className=\"font-semibold\">English</span>\r\n                  {language === 'en' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                </button>\r\n                <button\r\n                  onClick={() => handleLanguageChange('sq')}\r\n                  className={`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 ${\r\n                    language === 'sq' ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                >\r\n                  <span className=\"font-semibold\">Shqip</span>\r\n                  {language === 'sq' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"h-px bg-border/40 my-3\"></div>\r\n              {authLoading ? (\r\n                <div className=\"flex items-center gap-3 px-4 py-3 rounded-xl bg-primary/5 border border-primary/10\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm text-muted-foreground\">Loading...</span>\r\n                </div>\r\n              ) : user ? (\r\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} className=\"w-full justify-start border-border/50 hover:border-primary/50\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  {t('nav.logout')}\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Button variant=\"ghost\" size=\"sm\" asChild className=\"w-full justify-start hover:bg-primary/10 hover:text-primary\">\r\n                    <Link href=\"/login\" onClick={() => setMobileMenuOpen(false)}>\r\n                      {t('nav.login')}\r\n                    </Link>\r\n                  </Button>\r\n                  <Button size=\"sm\" asChild className=\"w-full justify-start shadow-lg shadow-primary/30\">\r\n                    <Link href=\"/register\" onClick={() => setMobileMenuOpen(false)}>\r\n                      {t('nav.getStarted')}\r\n                    </Link>\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 763, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/glass-card.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode\r\n  hover?: boolean\r\n}\r\n\r\nexport function GlassCard({ children, className, hover = false, ...props }: GlassCardProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"relative overflow-hidden rounded-2xl border border-border/70 bg-card/70 backdrop-blur-2xl\",\r\n        \"shadow-[0_22px_70px_rgba(0,0,0,0.9)]\",\r\n        \"before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.12),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.06),transparent_55%)] before:opacity-70\",\r\n        hover && \"transition-all duration-300 hover:shadow-[0_28px_90px_rgba(0,0,0,1)]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,KAAK,EAAE,GAAG,OAAuB;IACxF,qBACE,qNAAC;QACC,WAAW,IAAA,oJAAE,EACX,6FACA,wCACA,6OACA,SAAS,wEACT;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;KAfgB","debugId":null}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-xl border border-input/70 bg-background/60 px-3.5 py-2 text-sm text-foreground shadow-[0_8px_24px_rgba(0,0,0,0.7)] backdrop-blur-xl\",\n          \"transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground/80\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIA,MAAM,sBAAQ,mMAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,qNAAC;QACC,MAAM;QACN,WAAW,IAAA,oJAAE,EACX,gKACA,oIACA,+IACA,mDACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport type LabelProps = React.ComponentPropsWithoutRef<\"label\">\n\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(\n  ({ className, ...props }, ref) => (\n    <label\n      ref={ref}\n      className={cn(\n        \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nLabel.displayName = \"Label\"\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIA,MAAM,sBAAQ,mMAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,qNAAC;QACC,KAAK;QACL,WAAW,IAAA,oJAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAIf,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-xl border border-input/70 bg-background/60 px-3.5 py-2.5 text-sm text-foreground shadow-[0_8px_24px_rgba(0,0,0,0.7)] backdrop-blur-xl\",\n          \"transition-all duration-200 placeholder:text-muted-foreground/80\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAIA,MAAM,yBAAW,mMAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,qNAAC;QACC,WAAW,IAAA,oJAAE,EACX,0KACA,oEACA,+IACA,mDACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 893, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/select.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = \"default\",\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: \"sm\" | \"default\"\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"flex w-fit items-center justify-between gap-2 rounded-xl border border-input/70 bg-background/60 px-3.5 py-2 text-sm whitespace-nowrap text-foreground shadow-[0_8px_26px_rgba(0,0,0,0.8)] backdrop-blur-xl\",\r\n        \"data-[placeholder]:text-muted-foreground/80 [&_svg:not([class*='text-'])]:text-muted-foreground/80\",\r\n        \"transition-all duration-200 outline-none focus-visible:ring-2 focus-visible:ring-ring/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\r\n        \"disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8\",\r\n        \"*:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = \"popper\",\r\n  align = \"center\",\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          \"relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-2xl border border-border/70 bg-popover/95 text-popover-foreground backdrop-blur-2xl shadow-[0_20px_60px_rgba(0,0,0,0.9)]\",\r\n          \"before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.06),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.04),transparent_55%)] before:opacity-80\",\r\n          \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n          position === \"popper\" &&\r\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\r\n          className\r\n        )}\r\n        position={position}\r\n        align={align}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            \"p-1\",\r\n            position === \"popper\" &&\r\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"relative flex w-full cursor-default select-none items-center gap-2 rounded-lg py-1.5 pr-8 pl-2 text-sm outline-hidden text-foreground/90\",\r\n        \"data-[disabled]:pointer-events-none data-[disabled]:opacity-40\",\r\n        \"hover:bg-primary/10 focus:bg-primary/15 focus:text-primary\",\r\n        \"[&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        \"flex cursor-default items-center justify-center py-1\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,qNAAC,qMAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,qNAAC,sMAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,qNAAC,sMAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,qNAAC,wMAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,oJAAE,EACX,+MACA,sGACA,6JACA,8FACA,sOACA;QAED,GAAG,KAAK;;YAER;0BACD,qNAAC,qMAAoB;gBAAC,OAAO;0BAC3B,cAAA,qNAAC,sQAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MA5BS;AA8BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,QAAQ,QAAQ,EAChB,GAAG,OACkD;IACrD,qBACE,qNAAC,uMAAsB;kBACrB,cAAA,qNAAC,wMAAuB;YACtB,aAAU;YACV,WAAW,IAAA,oJAAE,EACX,kSACA,6OACA,oVACA,aAAa,YACX,mIACF;YAEF,UAAU;YACV,OAAO;YACN,GAAG,KAAK;;8BAET,qNAAC;;;;;8BACD,qNAAC,yMAAwB;oBACvB,WAAW,IAAA,oJAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,qNAAC;;;;;;;;;;;;;;;;AAIT;MArCS;AAuCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,qNAAC,sMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,qNAAC,qMAAoB;QACnB,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,4IACA,kEACA,8DACA,2MACA;QAED,GAAG,KAAK;;0BAET,qNAAC;gBAAK,WAAU;0BACd,cAAA,qNAAC,8MAA6B;8BAC5B,cAAA,qNAAC,gPAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,qNAAC,yMAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAzBS;AA2BT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,qNAAC,0MAAyB;QACxB,aAAU;QACV,WAAW,IAAA,oJAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,qNAAC,+MAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,qNAAC,gQAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,qNAAC,iNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,oJAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,qNAAC,sQAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS","debugId":null}},
    {"offset": {"line": 1151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/hooks/use-materials.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { createClient } from '@/utils/supabase/client';\r\nimport type { LicenseCategory } from '@/types/database';\r\n\r\ntype MaterialContent = Record<string, unknown>;\r\n\r\nexport interface Material {\r\n  id: string;\r\n  chapter_id: number;\r\n  category?: LicenseCategory | null;\r\n  title_en: string;\r\n  title_sq: string;\r\n  content_en: MaterialContent;\r\n  content_sq: MaterialContent;\r\n  order_index: number;\r\n  is_published: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n  images?: MaterialImage[];\r\n}\r\n\r\nexport interface MaterialImage {\r\n  id: string;\r\n  material_id: string;\r\n  image_url: string;\r\n  caption_en?: string | null;\r\n  caption_sq?: string | null;\r\n  order_index?: number | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface MaterialInput {\r\n  chapter_id: number;\r\n  category?: LicenseCategory;\r\n  title_en: string;\r\n  title_sq: string;\r\n  content_en: MaterialContent;\r\n  content_sq: MaterialContent;\r\n  order_index: number;\r\n  is_published?: boolean;\r\n}\r\n\r\nexport interface MaterialImageInput {\r\n  material_id: string;\r\n  image_url: string;\r\n  caption_en?: string;\r\n  caption_sq?: string;\r\n  order_index?: number;\r\n}\r\n\r\nexport interface MaterialsQueryParams {\r\n  search?: string;\r\n  chapterId?: number;\r\n  category?: LicenseCategory;\r\n  page?: number;\r\n  pageSize?: number;\r\n  includeUnpublished?: boolean;\r\n  fields?: string; // New: Allow selecting specific columns\r\n}\r\n\r\nexport interface MaterialsPageResult {\r\n  materials: Material[];\r\n  total: number;\r\n}\r\n\r\n// Fetch materials with optional pagination and filters, including related images\r\nexport function useMaterials(params: MaterialsQueryParams = {}) {\r\n  const {\r\n    search,\r\n    chapterId,\r\n    category,\r\n    page = 1,\r\n    pageSize = 50,\r\n    includeUnpublished = false,\r\n    fields = '*', // Default to all for backward compatibility\r\n  } = params;\r\n  const supabase = createClient();\r\n\r\n  return useQuery<MaterialsPageResult>({\r\n    queryKey: ['materials', search, chapterId, category, page, pageSize, includeUnpublished, fields],\r\n    queryFn: async () => {\r\n      const from = (page - 1) * pageSize;\r\n      const to = from + pageSize - 1;\r\n\r\n      // Select specific fields if provided, otherwise *\r\n      let query = supabase\r\n        .from('study_materials')\r\n        .select(fields, { count: 'planned' })\r\n        .order('order_index', { ascending: true });\r\n\r\n      if (chapterId) {\r\n        query = query.eq('chapter_id', chapterId);\r\n      }\r\n\r\n      if (category) {\r\n        query = query.eq('category', category);\r\n      }\r\n\r\n      if (!includeUnpublished) {\r\n        query = query.eq('is_published', true);\r\n      }\r\n\r\n      if (search && search.trim()) {\r\n        const term = search.trim();\r\n        query = query.or(`title_en.ilike.%${term}%,title_sq.ilike.%${term}%`);\r\n      }\r\n\r\n      const { data, error, count } = await query.range(from, to);\r\n\r\n      if (error) throw error;\r\n\r\n      const materials = (data || []) as unknown as Material[];\r\n      \r\n      // Only fetch images if we are fetching full content or specifically requested\r\n      // If fields doesn't include 'id' we can't match images anyway\r\n      // Just simplify: if fields is '*', fetch images. If restricted, skip images unless logic added.\r\n      // For lightweight list, we don't need images.\r\n      if (fields !== '*') {\r\n         return {\r\n            materials,\r\n            total: count || 0,\r\n         };\r\n      }\r\n\r\n      const materialIds = materials.map((m) => m.id);\r\n\r\n      let images: MaterialImage[] = [];\r\n      if (materialIds.length > 0) {\r\n        const { data: imageData, error: imageError } = await supabase\r\n          .from('material_images')\r\n          .select('*')\r\n          .in('material_id', materialIds)\r\n          .order('order_index', { ascending: true })\r\n          .order('created_at', { ascending: true });\r\n\r\n        if (imageError) throw imageError;\r\n        images = (imageData || []) as MaterialImage[];\r\n      }\r\n\r\n      const materialsWithImages: Material[] = materials.map((material) => ({\r\n        ...material,\r\n        images: images.filter((img) => img.material_id === material.id),\r\n      }));\r\n\r\n      return {\r\n        materials: materialsWithImages,\r\n        total: count || 0,\r\n      };\r\n    },\r\n  });\r\n}\r\n\r\n// Fetch a single material by Chapter ID (Optimized for reading view)\r\nexport function useMaterialByChapterId(chapterId: number | undefined) {\r\n  const supabase = createClient();\r\n\r\n  return useQuery<Material | null>({\r\n    queryKey: ['material-by-chapter', chapterId],\r\n    queryFn: async () => {\r\n      if (chapterId === undefined) return null;\r\n\r\n      const { data, error } = await supabase\r\n        .from('study_materials')\r\n        .select('*')\r\n        .eq('chapter_id', chapterId)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      const material = data as Material;\r\n\r\n      // Fetch images for this material\r\n      const { data: imageData, error: imageError } = await supabase\r\n        .from('material_images')\r\n        .select('*')\r\n        .eq('material_id', material.id)\r\n        .order('order_index', { ascending: true })\r\n        .order('created_at', { ascending: true });\r\n\r\n      if (imageError) throw imageError;\r\n\r\n      return {\r\n        ...material,\r\n        images: (imageData || []) as MaterialImage[],\r\n      };\r\n    },\r\n    enabled: !!chapterId,\r\n    staleTime: 5 * 60 * 1000, // Cache for 5 minutes\r\n  });\r\n}\r\n\r\n// Fetch a single material with its images\r\nexport function useMaterial(id: string) {\r\n  const supabase = createClient();\r\n\r\n  return useQuery<Material | null>({\r\n    queryKey: ['material', id],\r\n    queryFn: async () => {\r\n      if (!id) return null;\r\n\r\n      const { data, error } = await supabase\r\n        .from('study_materials')\r\n        .select('*')\r\n        .eq('id', id)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      const material = data as Material;\r\n\r\n      const { data: imageData, error: imageError } = await supabase\r\n        .from('material_images')\r\n        .select('*')\r\n        .eq('material_id', id)\r\n        .order('order_index', { ascending: true })\r\n        .order('created_at', { ascending: true });\r\n\r\n      if (imageError) throw imageError;\r\n\r\n      return {\r\n        ...material,\r\n        images: (imageData || []) as MaterialImage[],\r\n      };\r\n    },\r\n    enabled: !!id,\r\n  });\r\n}\r\n\r\n// Create material (admin only via RLS)\r\nexport function useCreateMaterial() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (material: MaterialInput) => {\r\n      const { data, error } = await supabase\r\n        .from('study_materials')\r\n        .insert([material])\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        throw new Error(error.message || error.details || 'Failed to create material');\r\n      }\r\n\r\n      return data as Material;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['materials'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Update material\r\nexport function useUpdateMaterial() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ id, ...updates }: Partial<MaterialInput> & { id: string }) => {\r\n      const { data, error } = await supabase\r\n        .from('study_materials')\r\n        .update(updates)\r\n        .eq('id', id)\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        throw new Error(error.message || error.details || 'Failed to update material');\r\n      }\r\n\r\n      return data as Material;\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: ['materials'] });\r\n      queryClient.invalidateQueries({ queryKey: ['material', data.id] });\r\n    },\r\n  });\r\n}\r\n\r\n// Delete material\r\nexport function useDeleteMaterial() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const { error } = await supabase\r\n        .from('study_materials')\r\n        .delete()\r\n        .eq('id', id);\r\n\r\n      if (error) {\r\n        throw new Error(error.message || 'Failed to delete material');\r\n      }\r\n\r\n      return id;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['materials'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Create material image record (DB only - upload to storage separately)\r\nexport function useCreateMaterialImage() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (image: MaterialImageInput) => {\r\n      const { data, error } = await supabase\r\n        .from('material_images')\r\n        .insert([image])\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        throw new Error(error.message || error.details || 'Failed to create material image');\r\n      }\r\n\r\n      return data as MaterialImage;\r\n    },\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: ['material', data.material_id] });\r\n      queryClient.invalidateQueries({ queryKey: ['materials'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Delete material image\r\nexport function useDeleteMaterialImage() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const { data, error } = await supabase\r\n        .from('material_images')\r\n        .delete()\r\n        .eq('id', id)\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        throw new Error(error.message || 'Failed to delete material image');\r\n      }\r\n\r\n      return data as MaterialImage;\r\n    },\r\n    onSuccess: (data) => {\r\n      if (data?.material_id) {\r\n        queryClient.invalidateQueries({ queryKey: ['material', data.material_id] });\r\n      }\r\n      queryClient.invalidateQueries({ queryKey: ['materials'] });\r\n    },\r\n  });\r\n}\r\n\r\n// Upload a material image file to Supabase storage and return the public URL\r\nexport function useUploadMaterialImage() {\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (file: File) => {\r\n      const ext = file.name.split('.').pop() || 'jpg';\r\n      const unique = `${Date.now()}-${Math.random().toString(36).slice(2)}`;\r\n      const filePath = `materials/${unique}.${ext}`;\r\n\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('material-images')\r\n        .upload(filePath, file, {\r\n          cacheControl: '3600',\r\n          upsert: false,\r\n        });\r\n\r\n      if (uploadError) {\r\n        throw new Error(uploadError.message || 'Failed to upload material image');\r\n      }\r\n\r\n      const {\r\n        data: { publicUrl },\r\n      } = supabase.storage.from('material-images').getPublicUrl(filePath);\r\n\r\n      return publicUrl as string;\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1546, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/app/%28pages%29/admin/materials/%5Bid%5D/edit/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { use, useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { GlassCard } from '@/components/ui/glass-card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  useMaterial,\r\n  useUpdateMaterial,\r\n  useUploadMaterialImage,\r\n  useCreateMaterialImage,\r\n  useDeleteMaterialImage,\r\n} from '@/hooks/use-materials';\r\nimport type { LicenseCategory } from '@/types/database';\r\nimport { toast } from 'sonner';\r\nimport { ArrowLeft, Save, ImagePlus, Trash2 } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\ninterface EditMaterialPageProps {\r\n  params: Promise<{\r\n    id: string;\r\n  }>;\r\n}\r\n\r\ninterface MaterialFormState {\r\n  chapter_id: number;\r\n  category: LicenseCategory;\r\n  order_index: number;\r\n  title_en: string;\r\n  title_sq: string;\r\n  content_en_text: string;\r\n  content_sq_text: string;\r\n  is_published: boolean;\r\n}\r\n\r\nexport default function EditMaterialPage({ params }: EditMaterialPageProps) {\r\n  const { id } = use(params);\r\n  const { user, isAdmin, loading: authLoading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  const { data: material, isLoading: materialLoading } = useMaterial(id);\r\n  const updateMaterial = useUpdateMaterial();\r\n  const uploadImage = useUploadMaterialImage();\r\n  const createMaterialImage = useCreateMaterialImage();\r\n  const deleteMaterialImage = useDeleteMaterialImage();\r\n\r\n  const [formData, setFormData] = useState<MaterialFormState>({\r\n    chapter_id: 1,\r\n    category: 'B',\r\n    order_index: 1,\r\n    title_en: '',\r\n    title_sq: '',\r\n    content_en_text: '{\\n  \\n}',\r\n    content_sq_text: '{\\n  \\n}',\r\n    is_published: true,\r\n  });\r\n\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imageCaptionEn, setImageCaptionEn] = useState('');\r\n  const [imageCaptionSq, setImageCaptionSq] = useState('');\r\n  const [imageOrderIndex, setImageOrderIndex] = useState<number | ''>('');\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && (!user || !isAdmin)) {\r\n      router.push('/');\r\n    }\r\n  }, [user, isAdmin, authLoading, router]);\r\n\r\n  useEffect(() => {\r\n    if (material) {\r\n      setFormData({\r\n        chapter_id: material.chapter_id,\r\n        category: (material.category as LicenseCategory) || 'B',\r\n        order_index: material.order_index,\r\n        title_en: material.title_en,\r\n        title_sq: material.title_sq,\r\n        content_en_text: JSON.stringify(material.content_en || {}, null, 2),\r\n        content_sq_text: JSON.stringify(material.content_sq || {}, null, 2),\r\n        is_published: material.is_published,\r\n      });\r\n    }\r\n  }, [material]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    const errors: string[] = [];\r\n\r\n    if (!formData.title_en.trim()) {\r\n      errors.push('English title is required');\r\n    }\r\n    if (!formData.title_sq.trim()) {\r\n      errors.push('Albanian title is required');\r\n    }\r\n    if (!formData.chapter_id || formData.chapter_id < 1 || formData.chapter_id > 20) {\r\n      errors.push('Chapter must be between 1 and 20');\r\n    }\r\n    if (!formData.order_index) {\r\n      errors.push('Order index is required');\r\n    }\r\n\r\n    let contentEn: Record<string, unknown> = {};\r\n    let contentSq: Record<string, unknown> = {};\r\n\r\n    try {\r\n      contentEn = JSON.parse(formData.content_en_text || '{}');\r\n    } catch {\r\n      errors.push('English content must be valid JSON');\r\n    }\r\n\r\n    try {\r\n      contentSq = JSON.parse(formData.content_sq_text || '{}');\r\n    } catch {\r\n      errors.push('Albanian content must be valid JSON');\r\n    }\r\n\r\n    if (errors.length > 0) {\r\n      toast.error(errors[0]);\r\n      console.error('Validation errors:', errors);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await updateMaterial.mutateAsync({\r\n        id,\r\n        chapter_id: formData.chapter_id,\r\n        category: formData.category,\r\n        order_index: formData.order_index,\r\n        title_en: formData.title_en.trim(),\r\n        title_sq: formData.title_sq.trim(),\r\n        content_en: contentEn,\r\n        content_sq: contentSq,\r\n        is_published: formData.is_published,\r\n      });\r\n\r\n      toast.success('Material updated successfully!');\r\n\r\n      setTimeout(() => {\r\n        router.push('/admin/materials');\r\n      }, 500);\r\n    } catch (error: unknown) {\r\n      const message = error instanceof Error ? error.message : 'Failed to update material';\r\n      toast.error(message);\r\n      console.error('Error updating material:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddImage = async () => {\r\n    if (!material) {\r\n      toast.error('Material not loaded yet');\r\n      return;\r\n    }\r\n\r\n    if (!imageFile) {\r\n      toast.error('Please select an image file');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const order = imageOrderIndex === ''\r\n        ? ((material.images?.length || 0) + 1)\r\n        : Number(imageOrderIndex) || null;\r\n\r\n      const publicUrl = await uploadImage.mutateAsync(imageFile);\r\n\r\n      await createMaterialImage.mutateAsync({\r\n        material_id: material.id,\r\n        image_url: publicUrl,\r\n        caption_en: imageCaptionEn || undefined,\r\n        caption_sq: imageCaptionSq || undefined,\r\n        order_index: order === null ? undefined : order,\r\n      });\r\n\r\n      toast.success('Image added successfully');\r\n      setImageFile(null);\r\n      setImageCaptionEn('');\r\n      setImageCaptionSq('');\r\n      setImageOrderIndex('');\r\n    } catch (error: unknown) {\r\n      const message = error instanceof Error ? error.message : 'Failed to add image';\r\n      toast.error(message);\r\n      console.error('Error adding material image:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteImage = async (imageId: string) => {\r\n    try {\r\n      await deleteMaterialImage.mutateAsync(imageId);\r\n      toast.success('Image deleted');\r\n    } catch (error: unknown) {\r\n      const message = error instanceof Error ? error.message : 'Failed to delete image';\r\n      toast.error(message);\r\n      console.error('Error deleting material image:', error);\r\n    }\r\n  };\r\n\r\n  if (authLoading || materialLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-muted-foreground\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user || !isAdmin || !material) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background text-foreground\">\r\n      <Navbar />\r\n\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n        className=\"container mx-auto px-6 py-8 max-w-4xl pt-28\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex gap-2 mb-4\">\r\n            <Button variant=\"ghost\" asChild>\r\n              <Link href=\"/admin/materials\">\r\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                Back to Materials\r\n              </Link>\r\n            </Button>\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold\">Edit Study Material</h1>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Chapter {material.chapter_id}  {material.title_en}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit}>\r\n          <GlassCard className=\"p-6 space-y-6 border border-border/80 bg-black/80\">\r\n            {/* Chapter and Order */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"chapter_id\">Chapter *</Label>\r\n                <Select\r\n                  value={String(formData.chapter_id)}\r\n                  onValueChange={(value) => {\r\n                    const chapter = parseInt(value, 10) || 1;\r\n                    setFormData({\r\n                      ...formData,\r\n                      chapter_id: chapter,\r\n                    });\r\n                  }}\r\n                >\r\n                  <SelectTrigger id=\"chapter_id\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {Array.from({ length: 20 }).map((_, index) => {\r\n                      const chapter = index + 1;\r\n                      return (\r\n                        <SelectItem key={chapter} value={String(chapter)}>\r\n                          Chapter {chapter}\r\n                        </SelectItem>\r\n                      );\r\n                    })}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"order_index\">Order Index *</Label>\r\n                <Input\r\n                  id=\"order_index\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  value={formData.order_index}\r\n                  onChange={(e) =>\r\n                    setFormData({\r\n                      ...formData,\r\n                      order_index: parseInt(e.target.value, 10) || 1,\r\n                    })\r\n                  }\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Titles */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"title_en\">Title (English) *</Label>\r\n                <Input\r\n                  id=\"title_en\"\r\n                  value={formData.title_en}\r\n                  onChange={(e) => setFormData({ ...formData, title_en: e.target.value })}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"title_sq\">Title (Albanian) *</Label>\r\n                <Input\r\n                  id=\"title_sq\"\r\n                  value={formData.title_sq}\r\n                  onChange={(e) => setFormData({ ...formData, title_sq: e.target.value })}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content JSON */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"content_en_text\">Content (English JSON) *</Label>\r\n                <Textarea\r\n                  id=\"content_en_text\"\r\n                  rows={10}\r\n                  value={formData.content_en_text}\r\n                  onChange={(e) =>\r\n                    setFormData({\r\n                      ...formData,\r\n                      content_en_text: e.target.value,\r\n                    })\r\n                  }\r\n                  className=\"font-mono text-xs\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"content_sq_text\">Content (Albanian JSON) *</Label>\r\n                <Textarea\r\n                  id=\"content_sq_text\"\r\n                  rows={10}\r\n                  value={formData.content_sq_text}\r\n                  onChange={(e) =>\r\n                    setFormData({\r\n                      ...formData,\r\n                      content_sq_text: e.target.value,\r\n                    })\r\n                  }\r\n                  className=\"font-mono text-xs\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Published Toggle */}\r\n            <div className=\"flex items-center gap-3 pt-2\">\r\n              <input\r\n                id=\"is_published\"\r\n                type=\"checkbox\"\r\n                checked={formData.is_published}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, is_published: e.target.checked })\r\n                }\r\n              />\r\n              <Label htmlFor=\"is_published\" className=\"text-sm\">\r\n                Published (visible to users)\r\n              </Label>\r\n            </div>\r\n\r\n            {/* Material Images */}\r\n            <div className=\"space-y-4 pt-4 border-t border-border\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <ImagePlus className=\"w-4 h-4\" />\r\n                <h2 className=\"text-lg font-semibold\">Material Images</h2>\r\n              </div>\r\n\r\n              <div className=\"grid gap-6 md:grid-cols-[minmax(0,2fr),minmax(0,3fr)]\">\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"image_file\">Add Image</Label>\r\n                    <input\r\n                      id=\"image_file\"\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => setImageFile(e.target.files?.[0] || null)}\r\n                      className=\"block w-full text-sm text-muted-foreground\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"image_caption_en\">Caption (English)</Label>\r\n                      <Input\r\n                        id=\"image_caption_en\"\r\n                        value={imageCaptionEn}\r\n                        onChange={(e) => setImageCaptionEn(e.target.value)}\r\n                        placeholder=\"Optional caption in English\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"image_caption_sq\">Caption (Albanian)</Label>\r\n                      <Input\r\n                        id=\"image_caption_sq\"\r\n                        value={imageCaptionSq}\r\n                        onChange={(e) => setImageCaptionSq(e.target.value)}\r\n                        placeholder=\"Prshkrim opsional n shqip\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2 max-w-xs\">\r\n                    <Label htmlFor=\"image_order_index\">Order Index</Label>\r\n                    <Input\r\n                      id=\"image_order_index\"\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      value={imageOrderIndex === '' ? '' : imageOrderIndex}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value;\r\n                        setImageOrderIndex(value === '' ? '' : parseInt(value, 10) || '');\r\n                      }}\r\n                      placeholder=\"Leave empty to append at the end\"\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      Images are shown above the chapter content on the materials page.\r\n                    </p>\r\n                  </div>\r\n\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={handleAddImage}\r\n                    disabled={\r\n                      uploadImage.isPending ||\r\n                      createMaterialImage.isPending ||\r\n                      !material\r\n                    }\r\n                    className=\"shadow-sm\"\r\n                  >\r\n                    {uploadImage.isPending || createMaterialImage.isPending ? (\r\n                      <>\r\n                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                        Uploading...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <ImagePlus className=\"w-4 h-4 mr-2\" />\r\n                        Upload Image\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n\r\n                <div className=\"space-y-3\">\r\n                  <p className=\"text-sm font-medium\">Existing Images</p>\r\n                  {!material.images || material.images.length === 0 ? (\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      No images added for this material yet.\r\n                    </p>\r\n                  ) : (\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      {material.images.map((img) => (\r\n                        <div\r\n                          key={img.id}\r\n                          className=\"border border-border rounded-md overflow-hidden bg-muted/30 flex flex-col\"\r\n                        >\r\n                          <div className=\"aspect-video bg-muted\">\r\n                            <img\r\n                              src={img.image_url}\r\n                              alt={img.caption_en || img.caption_sq || 'Material image'}\r\n                              className=\"w-full h-full object-cover\"\r\n                              loading=\"lazy\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"p-2 space-y-1 text-xs\">\r\n                            <p className=\"font-medium truncate\">\r\n                              {img.caption_en || img.caption_sq || 'No caption'}\r\n                            </p>\r\n                            {typeof img.order_index === 'number' && (\r\n                              <p className=\"text-[10px] text-muted-foreground\">\r\n                                Order: {img.order_index}\r\n                              </p>\r\n                            )}\r\n                            <div className=\"flex justify-end pt-1\">\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"destructive\"\r\n                                size=\"icon\"\r\n                                className=\"h-7 w-7\"\r\n                                onClick={() => handleDeleteImage(img.id)}\r\n                                disabled={deleteMaterialImage.isPending}\r\n                              >\r\n                                <Trash2 className=\"w-3 h-3\" />\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Submit Buttons */}\r\n            <div className=\"flex gap-4 pt-4\">\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={updateMaterial.isPending}\r\n                className=\"flex-1 shadow-lg shadow-primary/20\"\r\n              >\r\n                {updateMaterial.isPending ? (\r\n                  <>\r\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\r\n                    Updating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Save className=\"w-4 h-4 mr-2\" />\r\n                    Update Material\r\n                  </>\r\n                )}\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => router.push('/admin/materials')}\r\n                disabled={updateMaterial.isPending}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </GlassCard>\r\n        </form>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}