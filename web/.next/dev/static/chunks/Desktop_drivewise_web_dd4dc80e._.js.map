{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/navbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { LogOut, Menu, X } from 'lucide-react';\r\nimport { useLanguage } from '@/contexts/language-context';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport { toast } from 'sonner';\r\n\r\nexport function Navbar() {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const { t } = useLanguage();\r\n  const { user, signOut, isAdmin, userProfile, loading: authLoading } = useAuth();\r\n  const pathname = usePathname();\r\n\r\n  // Get display name from userProfile or fallback to email\r\n  const displayName = userProfile?.full_name || user?.user_metadata?.full_name || user?.email?.split('@')[0] || t('admin.user');\r\n\r\n  // Handle scroll behavior\r\n  useEffect(() => {\r\n    let rafId: number;\r\n    const handleScroll = () => {\r\n      rafId = requestAnimationFrame(() => {\r\n        setScrolled(window.scrollY > 10);\r\n      });\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      cancelAnimationFrame(rafId);\r\n    };\r\n  }, []);\r\n\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      setMobileMenuOpen(false);\r\n      await signOut();\r\n      toast.success(t('auth.logoutSuccess'));\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      toast.error(t('auth.logoutError'));\r\n    }\r\n  };\r\n\r\n  const isActive = (path: string) => pathname === path;\r\n\r\n  const desktopLinkBase =\r\n    'text-sm font-semibold transition-all duration-200 relative group/nav-link';\r\n  const desktopLinkActive = 'text-primary';\r\n  const desktopLinkInactive = 'text-foreground/80 hover:text-foreground';\r\n\r\n  const renderDesktopLink = (href: string, label: string, active: boolean) => (\r\n    <Link\r\n      href={href}\r\n      className={`${desktopLinkBase} ${active ? desktopLinkActive : desktopLinkInactive}`}\r\n    >\r\n      {label}\r\n      <span\r\n        className={`absolute -bottom-1 left-0 h-0.5 bg-gradient-to-r from-primary to-primary/50 rounded-full transition-all duration-200 ${\r\n          active ? 'w-full' : 'w-0 group-hover/nav-link:w-full'\r\n        }`}\r\n      />\r\n    </Link>\r\n  );\r\n\r\n  return (\r\n    <nav className={`fixed left-1/2 -translate-x-1/2 z-50 transition-all duration-300 ${\r\n      scrolled ? 'top-0 w-full' : 'top-4 w-[90%]'\r\n    }`}>\r\n      <div className={`bg-card/95 backdrop-blur-xl border border-border/40 shadow-lg shadow-black/20 transition-all duration-300 ${\r\n        scrolled ? 'rounded-none border-t-0 border-x-0' : 'rounded-2xl'\r\n      }`}>\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex h-20 items-center justify-between\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 bg-primary/30 blur-2xl rounded-full group-hover:bg-primary/40 transition-all duration-300\"></div>\r\n              <div className=\"relative w-12 h-12 rounded-2xl overflow-hidden shadow-xl shadow-primary/20 group-hover:shadow-primary/30 transition-all duration-300 group-hover:scale-105 border-2 border-primary/30 group-hover:border-primary/50\">\r\n                <Image \r\n                  src=\"/logo-white.png\" \r\n                  alt=\"DriveWise Logo\" \r\n                  width={48} \r\n                  height={48}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-2xl font-bold text-white tracking-tight\">\r\n                DriveWise\r\n              </span>\r\n              <span className=\"text-xs text-primary font-medium -mt-1\">{t('nav.subtitle')}</span>\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden md:flex items-center gap-8\">\r\n            {/* Home */}\r\n            {renderDesktopLink('/', t('nav.home'), isActive('/'))}\r\n\r\n            {/* Pricing page */}\r\n            {renderDesktopLink('/pricing', t('nav.pricing'), isActive('/pricing'))}\r\n\r\n            {/* Materials */}\r\n            {renderDesktopLink('/materials', t('nav.materials'), isActive('/materials'))}\r\n\r\n            {/* Decision Trainer (logged-in users) */}\r\n            {user &&\r\n              renderDesktopLink(\r\n                '/decision-trainer',\r\n                t('nav.decisionTrainer'),\r\n                pathname.startsWith('/decision-trainer'),\r\n              )}\r\n\r\n            {/* Tests (category index page) */}\r\n            {renderDesktopLink('/category', t('nav.tests'), pathname.startsWith('/category'))}\r\n\r\n            {/* Dashboard */}\r\n            {renderDesktopLink('/dashboard', t('nav.dashboard'), isActive('/dashboard'))}\r\n\r\n            {/* Account (logged-in users) */}\r\n            {user && renderDesktopLink('/profile', t('nav.account'), isActive('/profile'))}\r\n\r\n            {/* Admin (admins only) */}\r\n            {user &&\r\n              isAdmin &&\r\n              renderDesktopLink(\r\n                '/admin',\r\n                t('nav.admin'),\r\n                isActive('/admin') || pathname.startsWith('/admin'),\r\n              )}\r\n          </div>\r\n\r\n          {/* Desktop Auth Buttons */}\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            {authLoading ? (\r\n              <div className=\"flex items-center gap-3 px-4 py-2 rounded-full bg-primary/5 border border-primary/10\">\r\n                <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                <span className=\"text-sm text-muted-foreground\">Loading...</span>\r\n              </div>\r\n            ) : user ? (\r\n              <>\r\n                <div className=\"flex items-center gap-3 px-4 py-2 rounded-full bg-primary/10 border border-primary/20\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm font-medium text-primary\">{displayName}</span>\r\n                </div>\r\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} className=\"border-border/50 hover:border-primary/50\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  {t('nav.logout')}\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Button variant=\"ghost\" size=\"sm\" asChild className=\"hover:bg-primary/10 hover:text-primary\">\r\n                  <Link href=\"/login\">{t('nav.login')}</Link>\r\n                </Button>\r\n                <Button size=\"sm\" asChild className=\"shadow-lg shadow-primary/30 hover:shadow-primary/40 transition-all duration-300 font-semibold\">\r\n                  <Link href=\"/register\">{t('nav.getStarted')}</Link>\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            className=\"md:hidden p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-border/50 hover:border-primary/30\"\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n          >\r\n            {mobileMenuOpen ? (\r\n              <X className=\"w-5 h-5 text-primary\" />\r\n            ) : (\r\n              <Menu className=\"w-5 h-5 text-foreground\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"md:hidden py-6 border-t border-border/40 bg-card/50 backdrop-blur-xl animate-in slide-in-from-top-2\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              {user && (\r\n                <div className=\"flex items-center gap-3 px-4 py-3 mb-2 rounded-xl bg-primary/10 border border-primary/20\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm font-medium text-primary\">{displayName}</span>\r\n                </div>\r\n              )}\r\n              {/* Home */}\r\n              <Link\r\n                href=\"/\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.home')}\r\n              </Link>\r\n\r\n              {/* Pricing */}\r\n              <Link\r\n                href=\"/pricing\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/pricing')\r\n                    ? 'bg-primary/10 text-primary border border-primary/20'\r\n                    : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.pricing')}\r\n              </Link>\r\n\r\n              {/* Materials */}\r\n              <Link\r\n                href=\"/materials\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/materials') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.materials')}\r\n              </Link>\r\n\r\n              {/* Decision Trainer (logged-in users) */}\r\n              {user && (\r\n                <Link\r\n                  href=\"/decision-trainer\"\r\n                  className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                    pathname.startsWith('/decision-trainer')\r\n                      ? 'bg-primary/10 text-primary border border-primary/20'\r\n                      : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  {t('nav.decisionTrainer')}\r\n                </Link>\r\n              )}\r\n\r\n              {/* Tests (category index page) */}\r\n              <Link\r\n                href=\"/category\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  pathname.startsWith('/category')\r\n                    ? 'bg-primary/10 text-primary border border-primary/20'\r\n                    : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.tests')}\r\n              </Link>\r\n\r\n              {/* Dashboard */}\r\n              <Link\r\n                href=\"/dashboard\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/dashboard') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.dashboard')}\r\n              </Link>\r\n\r\n              {/* Account (logged-in users) */}\r\n              {user && (\r\n                <Link\r\n                  href=\"/profile\"\r\n                  className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                    isActive('/profile')\r\n                      ? 'bg-primary/10 text-primary border border-primary/20'\r\n                      : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  {t('nav.account')}\r\n                </Link>\r\n              )}\r\n\r\n              {/* Admin (admins only) */}\r\n              {user &&\r\n                isAdmin && (\r\n                  <Link\r\n                    href=\"/admin\"\r\n                    className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                      isActive('/admin') || pathname.startsWith('/admin')\r\n                        ? 'bg-primary/10 text-primary border border-primary/20'\r\n                        : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                    }`}\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    {t('nav.admin')}\r\n                  </Link>\r\n                )}\r\n              \r\n              <div className=\"h-px bg-border/40 my-3\"></div>\r\n              {authLoading ? (\r\n                <div className=\"flex items-center gap-3 px-4 py-3 rounded-xl bg-primary/5 border border-primary/10\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm text-muted-foreground\">Loading...</span>\r\n                </div>\r\n              ) : user ? (\r\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} className=\"w-full justify-start border-border/50 hover:border-primary/50\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  {t('nav.logout')}\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Button variant=\"ghost\" size=\"sm\" asChild className=\"w-full justify-start hover:bg-primary/10 hover:text-primary\">\r\n                    <Link href=\"/login\" onClick={() => setMobileMenuOpen(false)}>\r\n                      {t('nav.login')}\r\n                    </Link>\r\n                  </Button>\r\n                  <Button size=\"sm\" asChild className=\"w-full justify-start shadow-lg shadow-primary/30\">\r\n                    <Link href=\"/register\" onClick={() => setMobileMenuOpen(false)}>\r\n                      {t('nav.getStarted')}\r\n                    </Link>\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/glass-card.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode\r\n  hover?: boolean\r\n}\r\n\r\nexport function GlassCard({ children, className, hover = false, ...props }: GlassCardProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"relative overflow-hidden rounded-2xl border border-border/70 bg-card/70 backdrop-blur-2xl\",\r\n        \"shadow-[0_22px_70px_rgba(0,0,0,0.9)]\",\r\n        \"before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.12),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.06),transparent_55%)] before:opacity-70\",\r\n        hover && \"transition-all duration-300 hover:shadow-[0_28px_90px_rgba(0,0,0,1)]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,KAAK,EAAE,GAAG,OAAuB;IACxF,qBACE,qNAAC;QACC,WAAW,IAAA,oJAAE,EACX,6FACA,wCACA,6OACA,SAAS,wEACT;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;KAfgB","debugId":null}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-[11px] font-semibold tracking-tight transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-ring/70 focus:ring-offset-2 focus:ring-offset-background\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary/90 text-primary-foreground hover:bg-primary\",\r\n        secondary:\r\n          \"border-transparent bg-secondary/80 text-secondary-foreground hover:bg-secondary\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"border-border/70 text-foreground/80 bg-background/40\",\r\n        success:\r\n          \"border-transparent bg-green-500 text-white hover:bg-green-500/80\",\r\n        warning:\r\n          \"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80\",\r\n        info:\r\n          \"border-transparent bg-blue-500 text-white hover:bg-blue-500/80\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,kMAAG,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SACE;YACF,SACE;YACF,MACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,qNAAC;QAAI,WAAW,IAAA,oJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/lib/subscriptions.ts"],"sourcesContent":["import type { LicenseCategory } from '@/types/database';\r\n\r\n// Plan identifiers\r\nexport type PlanTier = 'FREE' | 'PLAN_A' | 'PLAN_B' | 'PLAN_C';\r\n\r\nexport type PaidPlanTier = Exclude<PlanTier, 'FREE'>;\r\n\r\nexport interface PlanDefinition {\r\n  id: PaidPlanTier;\r\n  label: string;\r\n  months: number;\r\n  priceEur: number;\r\n  // derived convenience fields\r\n  pricePerMonthEur: number;\r\n  badge?: 'MOST_POPULAR' | 'BEST_VALUE';\r\n  emphasize?: boolean;\r\n}\r\n\r\nexport interface BillingConfig {\r\n  freeTestLimitPerCategory: number;\r\n  paidTestLimitPerCategory: number;\r\n  billingCycleDays: number;\r\n  bestValuePlan: PaidPlanTier;\r\n  plans: Record<PaidPlanTier, PlanDefinition>;\r\n}\r\n\r\n// Centralized billing / pricing configuration.\r\n// Values can be overridden via NEXT_PUBLIC_* env vars without changing code.\r\nconst freeLimit = Number(process.env.NEXT_PUBLIC_FREE_TEST_LIMIT_PER_CATEGORY ?? '3');\r\nconst paidLimit = Number(process.env.NEXT_PUBLIC_PAID_TEST_LIMIT_PER_CATEGORY ?? '9999');\r\nconst cycleDays = Number(process.env.NEXT_PUBLIC_BILLING_CYCLE_DAYS ?? '30');\r\nconst bestValueEnv = process.env.NEXT_PUBLIC_PAYMENT_BEST_VALUE_PLAN as PaidPlanTier | undefined;\r\n\r\nconst rawPlans: Omit<PlanDefinition, 'pricePerMonthEur'>[] = [\r\n  {\r\n    id: 'PLAN_A',\r\n    label: '1 month',\r\n    months: 1,\r\n    priceEur: 3,\r\n  },\r\n  {\r\n    id: 'PLAN_B',\r\n    label: '2 months',\r\n    months: 2,\r\n    priceEur: 6,\r\n  },\r\n  {\r\n    id: 'PLAN_C',\r\n    label: '3 months',\r\n    months: 3,\r\n    priceEur: 8,\r\n    badge: 'BEST_VALUE',\r\n    emphasize: true,\r\n  },\r\n];\r\n\r\nconst plansRecord = rawPlans.reduce<Record<PaidPlanTier, PlanDefinition>>((acc, plan) => {\r\n  const pricePerMonthEur = plan.priceEur / plan.months;\r\n  acc[plan.id] = { ...plan, pricePerMonthEur };\r\n  return acc;\r\n}, {} as Record<PaidPlanTier, PlanDefinition>);\r\n\r\nexport const BILLING_CONFIG: BillingConfig = {\r\n  freeTestLimitPerCategory: freeLimit,\r\n  paidTestLimitPerCategory: paidLimit,\r\n  billingCycleDays: cycleDays,\r\n  bestValuePlan: bestValueEnv ?? 'PLAN_C',\r\n  plans: plansRecord,\r\n};\r\n\r\nexport interface CategoryPlan {\r\n  id: string;\r\n  userId: string;\r\n  category: LicenseCategory;\r\n  planTier: PaidPlanTier;\r\n  startDate: string; // ISO\r\n  endDate: string;   // ISO\r\n  isActive: boolean;\r\n  createdAt: string; // ISO\r\n}\r\n\r\nexport interface Entitlements {\r\n  canAccessTests: boolean;\r\n  canStartNewTest: boolean;\r\n  remainingFreeTests?: number;\r\n  canAccessDecisionTrainer: boolean;\r\n  canAccessStudyMaterial: boolean;\r\n  canReviewTestsInDetail: boolean;\r\n}\r\n\r\nexport interface EntitlementInput {\r\n  isAdmin: boolean;\r\n  testsTakenThisCycle: number;\r\n  activePlan?: Pick<CategoryPlan, 'planTier' | 'startDate' | 'endDate' | 'isActive'> | null;\r\n  now?: Date;\r\n}\r\n\r\nexport function isPlanCurrentlyActive(plan?: { startDate: string; endDate: string } | null, now: Date = new Date()): boolean {\r\n  if (!plan) return false;\r\n  const start = new Date(plan.startDate).getTime();\r\n  const end = new Date(plan.endDate).getTime();\r\n  const ts = now.getTime();\r\n  return ts >= start && ts <= end;\r\n}\r\n\r\nexport function computeEntitlements(input: EntitlementInput): Entitlements {\r\n  const { isAdmin, testsTakenThisCycle, activePlan, now } = input;\r\n\r\n  if (isAdmin) {\r\n    return {\r\n      canAccessTests: true,\r\n      canStartNewTest: true,\r\n      remainingFreeTests: undefined,\r\n      canAccessDecisionTrainer: true,\r\n      canAccessStudyMaterial: true,\r\n      canReviewTestsInDetail: true,\r\n    };\r\n  }\r\n\r\n  const hasActivePaidPlan = !!activePlan && isPlanCurrentlyActive(\r\n    { startDate: activePlan.startDate, endDate: activePlan.endDate },\r\n    now,\r\n  );\r\n\r\n  if (hasActivePaidPlan) {\r\n    return {\r\n      canAccessTests: true,\r\n      canStartNewTest: testsTakenThisCycle < BILLING_CONFIG.paidTestLimitPerCategory,\r\n      remainingFreeTests: Math.max(\r\n        0,\r\n        BILLING_CONFIG.paidTestLimitPerCategory - testsTakenThisCycle,\r\n      ),\r\n      canAccessDecisionTrainer: true,\r\n      canAccessStudyMaterial: true,\r\n      canReviewTestsInDetail: true,\r\n    };\r\n  }\r\n\r\n  const remainingFree = Math.max(0, BILLING_CONFIG.freeTestLimitPerCategory - testsTakenThisCycle);\r\n\r\n  return {\r\n    canAccessTests: true,\r\n    canStartNewTest: remainingFree > 0,\r\n    remainingFreeTests: remainingFree,\r\n    canAccessDecisionTrainer: false,\r\n    canAccessStudyMaterial: false,\r\n    canReviewTestsInDetail: false,\r\n  };\r\n}\r\n\r\nexport interface CycleUsageInput {\r\n  attempts: { category: string; completed_at: string }[];\r\n  category: LicenseCategory;\r\n  now?: Date;\r\n}\r\n\r\nexport function countTestsInCurrentCycle(input: CycleUsageInput): number {\r\n  const { attempts, category, now } = input;\r\n  const current = now ?? new Date();\r\n  const cycleStart = new Date(current);\r\n  cycleStart.setDate(cycleStart.getDate() - BILLING_CONFIG.billingCycleDays + 1);\r\n  const startTs = cycleStart.getTime();\r\n  const endTs = current.getTime();\r\n\r\n  return attempts.filter((a) => {\r\n    if (a.category !== category) return false;\r\n    const ts = new Date(a.completed_at).getTime();\r\n    return ts >= startTs && ts <= endTs;\r\n  }).length;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AA4ByB;AAFzB,+CAA+C;AAC/C,6EAA6E;AAC7E,MAAM,YAAY,OAAO,mMAAO,CAAC,GAAG,CAAC,wCAAwC,IAAI;AACjF,MAAM,YAAY,OAAO,mMAAO,CAAC,GAAG,CAAC,wCAAwC,IAAI;AACjF,MAAM,YAAY,OAAO,mMAAO,CAAC,GAAG,CAAC,8BAA8B,IAAI;AACvE,MAAM,eAAe,mMAAO,CAAC,GAAG,CAAC,mCAAmC;AAEpE,MAAM,WAAuD;IAC3D;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,QAAQ;QACR,UAAU;QACV,OAAO;QACP,WAAW;IACb;CACD;AAED,MAAM,cAAc,SAAS,MAAM,CAAuC,CAAC,KAAK;IAC9E,MAAM,mBAAmB,KAAK,QAAQ,GAAG,KAAK,MAAM;IACpD,GAAG,CAAC,KAAK,EAAE,CAAC,GAAG;QAAE,GAAG,IAAI;QAAE;IAAiB;IAC3C,OAAO;AACT,GAAG,CAAC;AAEG,MAAM,iBAAgC;IAC3C,0BAA0B;IAC1B,0BAA0B;IAC1B,kBAAkB;IAClB,eAAe,gBAAgB;IAC/B,OAAO;AACT;AA6BO,SAAS,sBAAsB,IAAoD,EAAE,MAAY,IAAI,MAAM;IAChH,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,QAAQ,IAAI,KAAK,KAAK,SAAS,EAAE,OAAO;IAC9C,MAAM,MAAM,IAAI,KAAK,KAAK,OAAO,EAAE,OAAO;IAC1C,MAAM,KAAK,IAAI,OAAO;IACtB,OAAO,MAAM,SAAS,MAAM;AAC9B;AAEO,SAAS,oBAAoB,KAAuB;IACzD,MAAM,EAAE,OAAO,EAAE,mBAAmB,EAAE,UAAU,EAAE,GAAG,EAAE,GAAG;IAE1D,IAAI,SAAS;QACX,OAAO;YACL,gBAAgB;YAChB,iBAAiB;YACjB,oBAAoB;YACpB,0BAA0B;YAC1B,wBAAwB;YACxB,wBAAwB;QAC1B;IACF;IAEA,MAAM,oBAAoB,CAAC,CAAC,cAAc,sBACxC;QAAE,WAAW,WAAW,SAAS;QAAE,SAAS,WAAW,OAAO;IAAC,GAC/D;IAGF,IAAI,mBAAmB;QACrB,OAAO;YACL,gBAAgB;YAChB,iBAAiB,sBAAsB,eAAe,wBAAwB;YAC9E,oBAAoB,KAAK,GAAG,CAC1B,GACA,eAAe,wBAAwB,GAAG;YAE5C,0BAA0B;YAC1B,wBAAwB;YACxB,wBAAwB;QAC1B;IACF;IAEA,MAAM,gBAAgB,KAAK,GAAG,CAAC,GAAG,eAAe,wBAAwB,GAAG;IAE5E,OAAO;QACL,gBAAgB;QAChB,iBAAiB,gBAAgB;QACjC,oBAAoB;QACpB,0BAA0B;QAC1B,wBAAwB;QACxB,wBAAwB;IAC1B;AACF;AAQO,SAAS,yBAAyB,KAAsB;IAC7D,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,EAAE,GAAG;IACpC,MAAM,UAAU,OAAO,IAAI;IAC3B,MAAM,aAAa,IAAI,KAAK;IAC5B,WAAW,OAAO,CAAC,WAAW,OAAO,KAAK,eAAe,gBAAgB,GAAG;IAC5E,MAAM,UAAU,WAAW,OAAO;IAClC,MAAM,QAAQ,QAAQ,OAAO;IAE7B,OAAO,SAAS,MAAM,CAAC,CAAC;QACtB,IAAI,EAAE,QAAQ,KAAK,UAAU,OAAO;QACpC,MAAM,KAAK,IAAI,KAAK,EAAE,YAAY,EAAE,OAAO;QAC3C,OAAO,MAAM,WAAW,MAAM;IAChC,GAAG,MAAM;AACX","debugId":null}},
    {"offset": {"line": 775, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/app/%28pages%29/admin/subscriptions/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useMemo, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { createClient } from '@/utils/supabase/client';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { GlassCard } from '@/components/ui/glass-card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { CATEGORY_INFO, type LicenseCategory } from '@/types/database';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport {\r\n  BILLING_CONFIG,\r\n  isPlanCurrentlyActive,\r\n  type PaidPlanTier,\r\n} from '@/lib/subscriptions';\r\n// We now use a dedicated admin API route for granting plans\r\nimport { toast } from 'sonner';\r\n\r\ninterface AdminUserProfile {\r\n  id: string;\r\n  email: string | null;\r\n  full_name: string | null;\r\n  created_at: string;\r\n}\r\n\r\ninterface AdminUserPlan {\r\n  id: string;\r\n  user_id: string;\r\n  category: LicenseCategory;\r\n  plan_tier: string;\r\n  start_date: string;\r\n  end_date: string;\r\n  status: string;\r\n  created_at: string;\r\n}\r\n\r\nconst LICENSE_CATEGORIES: LicenseCategory[] = ['A', 'B', 'C', 'D'];\r\n\r\nexport default function AdminSubscriptionsPage() {\r\n  const router = useRouter();\r\n  const { user, loading: authLoading, isAdmin } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  const [selectedPlanTier, setSelectedPlanTier] = useState<PaidPlanTier>(\r\n    BILLING_CONFIG.bestValuePlan,\r\n  );\r\n\r\n  const { data, isLoading, error } = useQuery({\r\n    queryKey: ['admin-subscriptions'],\r\n    queryFn: async () => {\r\n      const [profilesRes, plansRes] = await Promise.all([\r\n        supabase\r\n          .from('user_profiles')\r\n          .select('id, email, full_name, created_at')\r\n          .order('created_at'),\r\n        supabase.from('user_plans').select('*'),\r\n      ]);\r\n\r\n      if (profilesRes.error) throw profilesRes.error;\r\n      if (plansRes.error) throw plansRes.error;\r\n\r\n      return {\r\n        profiles: (profilesRes.data || []) as AdminUserProfile[],\r\n        plans: (plansRes.data || []) as AdminUserPlan[],\r\n      };\r\n    },\r\n    enabled: !!user && isAdmin,\r\n    staleTime: 60 * 1000,\r\n  });\r\n\r\n  const grantMutation = useMutation({\r\n    mutationFn: async (params: {\r\n      userId: string;\r\n      category: LicenseCategory;\r\n      planTier: PaidPlanTier;\r\n    }) => {\r\n      const res = await fetch('/api/admin/plans/grant', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(params),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        let message = 'Failed to grant plan';\r\n        try {\r\n          const data = await res.json();\r\n          if (data?.error) message = data.error;\r\n        } catch {\r\n          // ignore JSON parse errors\r\n        }\r\n        throw new Error(message);\r\n      }\r\n    },\r\n    onSuccess: (_data, variables) => {\r\n      queryClient.invalidateQueries({ queryKey: ['admin-subscriptions'] });\r\n\r\n      const vars = variables as {\r\n        userId: string;\r\n        category: LicenseCategory;\r\n        planTier: PaidPlanTier;\r\n      };\r\n\r\n      const profile = data?.profiles?.find((p) => p.id === vars.userId);\r\n      const planDef = BILLING_CONFIG.plans[vars.planTier];\r\n\r\n      const userLabel = profile?.full_name || profile?.email || 'user';\r\n\r\n      toast.success(\r\n        `Granted ${planDef.label} plan (${vars.planTier}) for category ${vars.category} to ${userLabel}.`,\r\n      );\r\n    },\r\n    onError: (err: any) => {\r\n      console.error(err);\r\n      toast.error('Failed to grant plan. Please try again.');\r\n    },\r\n  });\r\n\r\n  const plansByUser = useMemo(() => {\r\n    const map = new Map<string, AdminUserPlan[]>();\r\n    if (!data?.plans) return map;\r\n    for (const plan of data.plans) {\r\n      const arr = map.get(plan.user_id) || [];\r\n      arr.push(plan);\r\n      map.set(plan.user_id, arr);\r\n    }\r\n    return map;\r\n  }, [data]);\r\n\r\n  // ❗ these must be BEFORE any conditional returns (no hooks below!)\r\n  const profiles = data?.profiles || [];\r\n\r\n  const totalPaidUsers = useMemo(() => {\r\n    if (!data?.plans) return 0;\r\n    const usersWithPlans = new Set<string>();\r\n    for (const plan of data.plans) {\r\n      usersWithPlans.add(plan.user_id);\r\n    }\r\n    return usersWithPlans.size;\r\n  }, [data]);\r\n\r\n  // ------------- conditional UI branches (no hooks below this) -------------\r\n\r\n  if (authLoading || !user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\r\n          <p className=\"text-muted-foreground\">Authenticating...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Navbar />\r\n        <div className=\"container mx-auto px-4 pt-28 pb-12 max-w-4xl\">\r\n          <GlassCard className=\"p-8 border border-border/80 bg-black/85 text-center space-y-4\">\r\n            <div>\r\n              <h1 className=\"text-xl font-semibold mb-1\">Admin access required</h1>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                This page is only available to admins. If you believe this is a mistake,\r\n                please contact the owner.\r\n              </p>\r\n            </div>\r\n            <Button onClick={() => router.push('/dashboard')}>Back to dashboard</Button>\r\n          </GlassCard>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Navbar />\r\n        <div className=\"container mx-auto px-4 pt-28 pb-12 max-w-5xl flex flex-col items-center justify-center gap-3\">\r\n          <div className=\"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin\" />\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Loading subscription overview…\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background\">\r\n        <Navbar />\r\n        <div className=\"container mx-auto px-4 pt-28 pb-12 max-w-5xl\">\r\n          <GlassCard className=\"p-6 border border-border/80 bg-black/85 space-y-2\">\r\n            <p className=\"text-sm font-semibold text-destructive\">\r\n              Failed to load subscriptions\r\n            </p>\r\n            <p className=\"text-xs text-muted-foreground break-words\">\r\n              Something went wrong while loading subscription data. Please try again\r\n              later.\r\n            </p>\r\n          </GlassCard>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <Navbar />\r\n      <div className=\"container mx-auto px-4 pt-28 pb-12 max-w-6xl space-y-6\">\r\n        {/* Header / summary card */}\r\n        <GlassCard className=\"p-6 md:p-7 border border-border/80 bg-black/85 flex flex-col md:flex-row items-start md:items-center justify-between gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wide\">\r\n                Admin\r\n              </p>\r\n              <Badge variant=\"outline\" className=\"border-primary/70 text-primary text-[10px]\">\r\n                Using mock payments\r\n              </Badge>\r\n            </div>\r\n            <h1 className=\"text-2xl md:text-3xl font-semibold tracking-tight\">\r\n              Subscription overview\r\n            </h1>\r\n            <p className=\"text-sm text-muted-foreground max-w-xl\">\r\n              See all users, their plans by category, and quickly grant or extend access\r\n              while payments are in testing.\r\n            </p>\r\n            <div className=\"flex flex-wrap items-center gap-3 text-xs text-muted-foreground\">\r\n              <span>\r\n                Total users:&nbsp;\r\n                <span className=\"font-semibold text-foreground\">\r\n                  {profiles.length}\r\n                </span>\r\n              </span>\r\n              <span>\r\n                Paying users (at least one plan):{' '}\r\n                <span className=\"font-semibold text-foreground\">\r\n                  {totalPaidUsers}\r\n                </span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col items-end gap-2\">\r\n            <div className=\"flex flex-col items-end gap-1\">\r\n              <label className=\"text-[11px] text-muted-foreground\">\r\n                Plan used for grants\r\n              </label>\r\n              <select\r\n                className=\"text-[11px] bg-black/70 border border-border/70 rounded-md px-2 py-1 text-foreground focus:outline-none focus:ring-1 focus:ring-primary/60\"\r\n                value={selectedPlanTier}\r\n                onChange={(e) => setSelectedPlanTier(e.target.value as PaidPlanTier)}\r\n              >\r\n                {Object.values(BILLING_CONFIG.plans).map((plan) => (\r\n                  <option key={plan.id} value={plan.id}>\r\n                    {plan.label} ({plan.months}m)\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"text-xs\"\r\n              onClick={() => router.push('/profile')}\r\n            >\r\n              Open account page\r\n            </Button>\r\n          </div>\r\n        </GlassCard>\r\n\r\n        {/* Users / plans table */}\r\n        <GlassCard className=\"p-4 md:p-5 border border-border/80 bg-black/85 overflow-x-auto\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h2 className=\"text-sm font-medium text-foreground\">\r\n              Users &amp; license categories\r\n            </h2>\r\n            <p className=\"text-[11px] text-muted-foreground\">\r\n              Click &ldquo;Grant free plan&rdquo; to create or extend access.\r\n            </p>\r\n          </div>\r\n\r\n          {profiles.length === 0 ? (\r\n            <div className=\"py-10 text-center\">\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                No users found yet. New users will appear here automatically.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"w-full text-xs md:text-sm border-collapse\">\r\n              <thead>\r\n                <tr className=\"border-b border-border/60 bg-black/70\">\r\n                  <th className=\"py-2 pr-3 text-left font-medium text-muted-foreground sticky top-0 bg-black/80 backdrop-blur z-10\">\r\n                    User\r\n                  </th>\r\n                  <th className=\"py-2 pr-3 text-left font-medium text-muted-foreground hidden md:table-cell sticky top-0 bg-black/80 backdrop-blur z-10\">\r\n                    Email\r\n                  </th>\r\n                  {LICENSE_CATEGORIES.map((cat) => (\r\n                    <th\r\n                      key={cat}\r\n                      className=\"py-2 px-2 text-left font-medium text-muted-foreground whitespace-nowrap sticky top-0 bg-black/80 backdrop-blur z-10\"\r\n                    >\r\n                      Cat {cat}\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {profiles.map((profile) => {\r\n                  const userPlans = plansByUser.get(profile.id) || [];\r\n\r\n                  const getPlanCell = (category: LicenseCategory) => {\r\n                    const row = userPlans.find((p) => p.category === category);\r\n                    if (!row) {\r\n                      return {\r\n                        label: 'Free',\r\n                        detail: '',\r\n                        isActive: false,\r\n                        isExpired: false,\r\n                      };\r\n                    }\r\n\r\n                    const active =\r\n                      row.status === 'active' &&\r\n                      isPlanCurrentlyActive({\r\n                        startDate: row.start_date,\r\n                        endDate: row.end_date,\r\n                      });\r\n\r\n                    const endDate = new Date(row.end_date);\r\n                    const now = new Date();\r\n                    const remainingDays = Math.max(\r\n                      0,\r\n                      Math.ceil(\r\n                        (endDate.getTime() - now.getTime()) /\r\n                          (1000 * 60 * 60 * 24),\r\n                      ),\r\n                    );\r\n\r\n                    return {\r\n                      label: active ? row.plan_tier : `${row.plan_tier} (expired)`,\r\n                      detail: active\r\n                        ? `${remainingDays}d left`\r\n                        : endDate.toLocaleDateString(),\r\n                      isActive: active,\r\n                      isExpired: !active,\r\n                    };\r\n                  };\r\n\r\n                  return (\r\n                    <tr\r\n                      key={profile.id}\r\n                      className=\"border-b border-border/30 last:border-0 hover:bg-white/5 transition-colors\"\r\n                    >\r\n                      <td className=\"py-2 pr-3 align-top\">\r\n                        <div className=\"flex flex-col\">\r\n                          <span className=\"font-medium text-foreground\">\r\n                            {profile.full_name || profile.email || 'Unknown user'}\r\n                          </span>\r\n                          <span className=\"md:hidden text-[11px] text-muted-foreground\">\r\n                            {profile.email || ''}\r\n                          </span>\r\n                          <span className=\"text-[10px] text-muted-foreground mt-0.5\">\r\n                            Joined:{' '}\r\n                            {new Date(profile.created_at).toLocaleDateString()}\r\n                          </span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"py-2 pr-3 align-top hidden md:table-cell text-muted-foreground\">\r\n                        {profile.email || ''}\r\n                      </td>\r\n                      {LICENSE_CATEGORIES.map((cat) => {\r\n                        const planCell = getPlanCell(cat);\r\n                        const isMutating = grantMutation.isPending;\r\n\r\n                        return (\r\n                          <td key={cat} className=\"py-2 px-2 align-top\">\r\n                            <div className=\"flex flex-col gap-1\">\r\n                              <div className=\"flex items-center gap-1\">\r\n                                <span\r\n                                  className={`inline-flex items-center px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${\r\n                                    planCell.isActive\r\n                                      ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/40'\r\n                                      : planCell.isExpired\r\n                                      ? 'bg-red-500/10 text-red-400 border-red-500/40'\r\n                                      : 'bg-muted/60 text-muted-foreground border-border/50'\r\n                                  }`}\r\n                                >\r\n                                  {planCell.label}\r\n                                </span>\r\n                              </div>\r\n                              {planCell.detail && (\r\n                                <span className=\"text-[10px] text-muted-foreground\">\r\n                                  {planCell.detail}\r\n                                </span>\r\n                              )}\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"outline\"\r\n                                className=\"mt-1 text-[10px] px-2 py-1 h-7\"\r\n                                disabled={isMutating}\r\n                                onClick={() =>\r\n                                  grantMutation.mutate({\r\n                                    userId: profile.id,\r\n                                    category: cat,\r\n                                    planTier: selectedPlanTier,\r\n                                  })\r\n                                }\r\n                              >\r\n                                {planCell.isActive ? 'Extend (free)' : 'Grant free plan'}\r\n                              </Button>\r\n                            </div>\r\n                          </td>\r\n                        );\r\n                      })}\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </GlassCard>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}