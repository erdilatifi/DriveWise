{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/navbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { LogOut, Menu, X, Globe, Check } from 'lucide-react';\r\nimport { useLanguage } from '@/contexts/language-context';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport { toast } from 'sonner';\r\n\r\nexport function Navbar() {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [languageMenuOpen, setLanguageMenuOpen] = useState(false);\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const { language, setLanguage, t } = useLanguage();\r\n  const { user, signOut, isAdmin, userProfile, loading: authLoading } = useAuth();\r\n  const pathname = usePathname();\r\n\r\n  // Get display name from userProfile or fallback to email\r\n  const displayName = userProfile?.full_name || user?.user_metadata?.full_name || user?.email?.split('@')[0] || t('admin.user');\r\n\r\n  // Handle scroll behavior\r\n  useEffect(() => {\r\n    let rafId: number;\r\n    const handleScroll = () => {\r\n      rafId = requestAnimationFrame(() => {\r\n        setScrolled(window.scrollY > 10);\r\n      });\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      cancelAnimationFrame(rafId);\r\n    };\r\n  }, []);\r\n\r\n  const handleLanguageChange = (lang: 'sq' | 'en') => {\r\n    setLanguage(lang);\r\n    setLanguageMenuOpen(false);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      setMobileMenuOpen(false);\r\n      await signOut();\r\n      toast.success(t('auth.logoutSuccess'));\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      toast.error(t('auth.logoutError'));\r\n    }\r\n  };\r\n\r\n  const isActive = (path: string) => pathname === path;\r\n\r\n  const desktopLinkBase =\r\n    'text-sm font-semibold transition-all duration-200 relative group/nav-link';\r\n  const desktopLinkActive = 'text-primary';\r\n  const desktopLinkInactive = 'text-foreground/80 hover:text-foreground';\r\n\r\n  const renderDesktopLink = (href: string, label: string, active: boolean) => (\r\n    <Link\r\n      href={href}\r\n      className={`${desktopLinkBase} ${active ? desktopLinkActive : desktopLinkInactive}`}\r\n    >\r\n      {label}\r\n      <span\r\n        className={`absolute -bottom-1 left-0 h-0.5 bg-gradient-to-r from-primary to-primary/50 rounded-full transition-all duration-200 ${\r\n          active ? 'w-full' : 'w-0 group-hover/nav-link:w-full'\r\n        }`}\r\n      />\r\n    </Link>\r\n  );\r\n\r\n  return (\r\n    <nav className={`fixed left-1/2 -translate-x-1/2 z-50 transition-all duration-300 ${\r\n      scrolled ? 'top-0 w-full' : 'top-4 w-[90%]'\r\n    }`}>\r\n      <div className={`bg-card/95 backdrop-blur-xl border border-border/40 shadow-lg shadow-black/20 transition-all duration-300 ${\r\n        scrolled ? 'rounded-none border-t-0 border-x-0' : 'rounded-2xl'\r\n      }`}>\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex h-20 items-center justify-between\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"flex items-center gap-3 group\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 bg-primary/30 blur-2xl rounded-full group-hover:bg-primary/40 transition-all duration-300\"></div>\r\n              <div className=\"relative w-12 h-12 rounded-2xl overflow-hidden shadow-xl shadow-primary/20 group-hover:shadow-primary/30 transition-all duration-300 group-hover:scale-105 border-2 border-primary/30 group-hover:border-primary/50\">\r\n                <Image \r\n                  src=\"/logo-white.png\" \r\n                  alt=\"DriveWise Logo\" \r\n                  width={48} \r\n                  height={48}\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-2xl font-bold text-white tracking-tight\">\r\n                DriveWise\r\n              </span>\r\n              <span className=\"text-xs text-primary font-medium -mt-1\">{t('nav.subtitle')}</span>\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden md:flex items-center gap-8\">\r\n            {/* Home */}\r\n            {renderDesktopLink('/', t('nav.home'), isActive('/'))}\r\n\r\n            {/* Pricing page */}\r\n            {renderDesktopLink('/pricing', t('nav.pricing'), isActive('/pricing'))}\r\n\r\n            {/* Materials */}\r\n            {renderDesktopLink('/materials', t('nav.materials'), isActive('/materials'))}\r\n\r\n            {/* Decision Trainer (logged-in users) */}\r\n            {user &&\r\n              renderDesktopLink(\r\n                '/decision-trainer',\r\n                t('nav.decisionTrainer'),\r\n                pathname.startsWith('/decision-trainer'),\r\n              )}\r\n\r\n            {/* Tests (category index page) */}\r\n            {renderDesktopLink('/category', t('nav.tests'), pathname.startsWith('/category'))}\r\n\r\n            {/* Dashboard */}\r\n            {renderDesktopLink('/dashboard', t('nav.dashboard'), isActive('/dashboard'))}\r\n\r\n            {/* Account (logged-in users) */}\r\n            {user && renderDesktopLink('/profile', t('nav.account'), isActive('/profile'))}\r\n\r\n            {/* Admin (admins only) */}\r\n            {user &&\r\n              isAdmin &&\r\n              renderDesktopLink(\r\n                '/admin',\r\n                t('nav.admin'),\r\n                isActive('/admin') || pathname.startsWith('/admin'),\r\n              )}\r\n          </div>\r\n\r\n          {/* Desktop Auth Buttons */}\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            {/* Language Switcher */}\r\n            <div className=\"relative\">\r\n              <button\r\n                onClick={() => setLanguageMenuOpen(!languageMenuOpen)}\r\n                className=\"flex items-center gap-2 px-3 py-2 rounded-lg border border-border/50 hover:border-primary/50 hover:bg-primary/10 transition-all duration-200 group\"\r\n              >\r\n                <Globe className=\"w-4 h-4 text-muted-foreground group-hover:text-primary transition-colors\" />\r\n                <span className=\"text-sm font-medium text-foreground group-hover:text-primary transition-colors\">\r\n                  {language === 'en' ? 'EN' : 'SQ'}\r\n                </span>\r\n              </button>\r\n              \r\n              {/* Language Dropdown */}\r\n              {languageMenuOpen && (\r\n                <div className=\"absolute top-full mt-2 right-0 w-48 bg-card border border-border/50 rounded-xl shadow-xl shadow-black/20 overflow-hidden z-50\">\r\n                  <button\r\n                    onClick={() => handleLanguageChange('en')}\r\n                    className={`w-full flex items-center justify-between px-4 py-3 hover:bg-primary/10 transition-colors ${\r\n                      language === 'en' ? 'bg-primary/10 text-primary' : 'text-foreground'\r\n                    }`}\r\n                  >\r\n                    <span className=\"font-medium\">English</span>\r\n                    {language === 'en' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleLanguageChange('sq')}\r\n                    className={`w-full flex items-center justify-between px-4 py-3 hover:bg-primary/10 transition-colors ${\r\n                      language === 'sq' ? 'bg-primary/10 text-primary' : 'text-foreground'\r\n                    }`}\r\n                  >\r\n                    <span className=\"font-medium\">Shqip</span>\r\n                    {language === 'sq' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            {authLoading ? (\r\n              <div className=\"flex items-center gap-3 px-4 py-2 rounded-full bg-primary/5 border border-primary/10\">\r\n                <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                <span className=\"text-sm text-muted-foreground\">Loading...</span>\r\n              </div>\r\n            ) : user ? (\r\n              <>\r\n                <div className=\"flex items-center gap-3 px-4 py-2 rounded-full bg-primary/10 border border-primary/20\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm font-medium text-primary\">{displayName}</span>\r\n                </div>\r\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} className=\"border-border/50 hover:border-primary/50\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  {t('nav.logout')}\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Button variant=\"ghost\" size=\"sm\" asChild className=\"hover:bg-primary/10 hover:text-primary\">\r\n                  <Link href=\"/login\">{t('nav.login')}</Link>\r\n                </Button>\r\n                <Button size=\"sm\" asChild className=\"shadow-lg shadow-primary/30 hover:shadow-primary/40 transition-all duration-300 font-semibold\">\r\n                  <Link href=\"/register\">{t('nav.getStarted')}</Link>\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            className=\"md:hidden p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-border/50 hover:border-primary/30\"\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n          >\r\n            {mobileMenuOpen ? (\r\n              <X className=\"w-5 h-5 text-primary\" />\r\n            ) : (\r\n              <Menu className=\"w-5 h-5 text-foreground\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"md:hidden py-6 border-t border-border/40 bg-card/50 backdrop-blur-xl animate-in slide-in-from-top-2\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              {user && (\r\n                <div className=\"flex items-center gap-3 px-4 py-3 mb-2 rounded-xl bg-primary/10 border border-primary/20\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm font-medium text-primary\">{displayName}</span>\r\n                </div>\r\n              )}\r\n              {/* Home */}\r\n              <Link\r\n                href=\"/\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.home')}\r\n              </Link>\r\n\r\n              {/* Pricing */}\r\n              <Link\r\n                href=\"/pricing\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/pricing')\r\n                    ? 'bg-primary/10 text-primary border border-primary/20'\r\n                    : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.pricing')}\r\n              </Link>\r\n\r\n              {/* Materials */}\r\n              <Link\r\n                href=\"/materials\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/materials') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.materials')}\r\n              </Link>\r\n\r\n              {/* Decision Trainer (logged-in users) */}\r\n              {user && (\r\n                <Link\r\n                  href=\"/decision-trainer\"\r\n                  className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                    pathname.startsWith('/decision-trainer')\r\n                      ? 'bg-primary/10 text-primary border border-primary/20'\r\n                      : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  {t('nav.decisionTrainer')}\r\n                </Link>\r\n              )}\r\n\r\n              {/* Tests (category index page) */}\r\n              <Link\r\n                href=\"/category\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  pathname.startsWith('/category')\r\n                    ? 'bg-primary/10 text-primary border border-primary/20'\r\n                    : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.tests')}\r\n              </Link>\r\n\r\n              {/* Dashboard */}\r\n              <Link\r\n                href=\"/dashboard\"\r\n                className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                  isActive('/dashboard') ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                }`}\r\n                onClick={() => setMobileMenuOpen(false)}\r\n              >\r\n                {t('nav.dashboard')}\r\n              </Link>\r\n\r\n              {/* Account (logged-in users) */}\r\n              {user && (\r\n                <Link\r\n                  href=\"/profile\"\r\n                  className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                    isActive('/profile')\r\n                      ? 'bg-primary/10 text-primary border border-primary/20'\r\n                      : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  {t('nav.account')}\r\n                </Link>\r\n              )}\r\n\r\n              {/* Admin (admins only) */}\r\n              {user &&\r\n                isAdmin && (\r\n                  <Link\r\n                    href=\"/admin\"\r\n                    className={`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${\r\n                      isActive('/admin') || pathname.startsWith('/admin')\r\n                        ? 'bg-primary/10 text-primary border border-primary/20'\r\n                        : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                    }`}\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    {t('nav.admin')}\r\n                  </Link>\r\n                )}\r\n              \r\n              {/* Mobile Language Switcher */}\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center gap-2 px-4 py-2 text-sm text-muted-foreground\">\r\n                  <Globe className=\"w-4 h-4\" />\r\n                  <span className=\"font-medium\">{t('nav.language')}</span>\r\n                </div>\r\n                <button\r\n                  onClick={() => handleLanguageChange('en')}\r\n                  className={`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 ${\r\n                    language === 'en' ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                >\r\n                  <span className=\"font-semibold\">English</span>\r\n                  {language === 'en' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                </button>\r\n                <button\r\n                  onClick={() => handleLanguageChange('sq')}\r\n                  className={`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200 ${\r\n                    language === 'sq' ? 'bg-primary/10 text-primary border border-primary/20' : 'text-foreground/80 hover:bg-primary/5 hover:text-foreground'\r\n                  }`}\r\n                >\r\n                  <span className=\"font-semibold\">Shqip</span>\r\n                  {language === 'sq' && <Check className=\"w-4 h-4 text-primary\" />}\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"h-px bg-border/40 my-3\"></div>\r\n              {authLoading ? (\r\n                <div className=\"flex items-center gap-3 px-4 py-3 rounded-xl bg-primary/5 border border-primary/10\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-primary animate-pulse\"></div>\r\n                  <span className=\"text-sm text-muted-foreground\">Loading...</span>\r\n                </div>\r\n              ) : user ? (\r\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} className=\"w-full justify-start border-border/50 hover:border-primary/50\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  {t('nav.logout')}\r\n                </Button>\r\n              ) : (\r\n                <>\r\n                  <Button variant=\"ghost\" size=\"sm\" asChild className=\"w-full justify-start hover:bg-primary/10 hover:text-primary\">\r\n                    <Link href=\"/login\" onClick={() => setMobileMenuOpen(false)}>\r\n                      {t('nav.login')}\r\n                    </Link>\r\n                  </Button>\r\n                  <Button size=\"sm\" asChild className=\"w-full justify-start shadow-lg shadow-primary/30\">\r\n                    <Link href=\"/register\" onClick={() => setMobileMenuOpen(false)}>\r\n                      {t('nav.getStarted')}\r\n                    </Link>\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/hooks/use-traffic-signs.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { createClient } from '@/utils/supabase/client';\r\n\r\nexport interface TrafficSign {\r\n  id: string;\r\n  code: string;\r\n  category: 'danger' | 'prohibition' | 'mandatory' | 'info';\r\n  name: string;\r\n  description: string;\r\n  image_url: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface TrafficSignInput {\r\n  code: string;\r\n  category: 'danger' | 'prohibition' | 'mandatory' | 'info';\r\n  name: string;\r\n  description: string;\r\n  image_url: string;\r\n}\r\n\r\nexport interface TrafficSignsQueryParams {\r\n  category?: string;\r\n  search?: string;\r\n  page?: number;\r\n  pageSize?: number;\r\n}\r\n\r\nexport function useTrafficSigns(params: TrafficSignsQueryParams = {}) {\r\n  const { category, search, page = 1, pageSize = 50 } = params;\r\n  const supabase = createClient();\r\n\r\n  return useQuery({\r\n    queryKey: ['traffic-signs', category, search, page, pageSize],\r\n    queryFn: async () => {\r\n      let query = supabase\r\n        .from('traffic_signs')\r\n        .select('*', { count: 'planned' })\r\n        .order('code', { ascending: true });\r\n\r\n      if (category && category !== 'all') {\r\n        query = query.eq('category', category);\r\n      }\r\n\r\n      if (search) {\r\n        query = query.or(`name.ilike.%${search}%,code.ilike.%${search}%`);\r\n      }\r\n\r\n      const from = (page - 1) * pageSize;\r\n      const to = from + pageSize - 1;\r\n\r\n      const { data, error, count } = await query.range(from, to);\r\n\r\n      if (error) throw error;\r\n\r\n      const signsWithUrls = (data || []).map((sign: any) => {\r\n        if (sign.image_url && !sign.image_url.startsWith('http')) {\r\n          const { data: { publicUrl } } = supabase.storage\r\n            .from('signs')\r\n            .getPublicUrl(sign.image_url);\r\n          return { ...sign, image_url: publicUrl };\r\n        }\r\n        return sign;\r\n      });\r\n\r\n      return {\r\n        signs: signsWithUrls as TrafficSign[],\r\n        total: count || 0,\r\n      };\r\n    },\r\n  });\r\n}\r\n\r\nexport function useUpdateTrafficSign() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async ({ id, ...updates }: Partial<TrafficSignInput> & { id: string }) => {\r\n      const { data, error } = await supabase\r\n        .from('traffic_signs')\r\n        .update(updates)\r\n        .eq('id', id)\r\n        .select()\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      return data as TrafficSign;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['traffic-signs'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useDeleteTrafficSign() {\r\n  const queryClient = useQueryClient();\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const { error } = await supabase\r\n        .from('traffic_signs')\r\n        .delete()\r\n        .eq('id', id);\r\n\r\n      if (error) throw error;\r\n      return id;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['traffic-signs'] });\r\n    },\r\n  });\r\n}\r\n\r\nexport function useUploadSignImage() {\r\n  const supabase = createClient();\r\n\r\n  return useMutation({\r\n    mutationFn: async (file: File) => {\r\n      const ext = file.name.split('.').pop() || 'png';\r\n      const unique = `${Date.now()}-${Math.random().toString(36).slice(2)}`;\r\n      const filePath = `signs/${unique}.${ext}`;\r\n\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('signs')\r\n        .upload(filePath, file, {\r\n          cacheControl: '3600',\r\n          upsert: false,\r\n        });\r\n\r\n      if (uploadError) throw uploadError;\r\n\r\n      const {\r\n        data: { publicUrl },\r\n      } = supabase.storage.from('signs').getPublicUrl(filePath);\r\n\r\n      return publicUrl;\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/components/ui/glass-card.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface GlassCardProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode\r\n  hover?: boolean\r\n}\r\n\r\nexport function GlassCard({ children, className, hover = false, ...props }: GlassCardProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"relative overflow-hidden rounded-2xl border border-border/70 bg-card/70 backdrop-blur-2xl\",\r\n        \"shadow-[0_22px_70px_rgba(0,0,0,0.9)]\",\r\n        \"before:pointer-events-none before:absolute before:inset-0 before:bg-[radial-gradient(circle_at_0%_0%,rgba(255,255,255,0.12),transparent_55%),radial-gradient(circle_at_100%_0%,rgba(255,255,255,0.06),transparent_55%)] before:opacity-70\",\r\n        hover && \"transition-all duration-300 hover:shadow-[0_28px_90px_rgba(0,0,0,1)]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,KAAK,EAAE,GAAG,OAAuB;IACxF,qBACE,sQAAC;QACC,WAAW,IAAA,iJAAE,EACX,6FACA,wCACA,6OACA,SAAS,wEACT;QAED,GAAG,KAAK;kBAER;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 880, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Desktop/drivewise/web/app/%28pages%29/admin/signs/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/auth-context';\r\nimport { useLanguage } from '@/contexts/language-context';\r\nimport { Navbar } from '@/components/navbar';\r\nimport { motion } from 'framer-motion';\r\nimport { Button } from '@/components/ui/button';\r\nimport Link from 'next/link';\r\nimport { ArrowLeft, Search, Upload, Trash2, Save, X, Image as ImageIcon, Loader2 } from 'lucide-react';\r\nimport { useTrafficSigns, useUpdateTrafficSign, useDeleteTrafficSign, useUploadSignImage, TrafficSign } from '@/hooks/use-traffic-signs';\r\nimport { GlassCard } from '@/components/ui/glass-card';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function AdminSignsPage() {\r\n  const { user, isAdmin, loading } = useAuth();\r\n  const { t } = useLanguage();\r\n  const router = useRouter();\r\n  \r\n  const [page, setPage] = useState(1);\r\n  const [search, setSearch] = useState('');\r\n  const [category, setCategory] = useState('all');\r\n  const [editingSign, setEditingSign] = useState<TrafficSign | null>(null);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const { data, isLoading, refetch } = useTrafficSigns({ page, search, category, pageSize: 50 });\r\n  const updateSign = useUpdateTrafficSign();\r\n  const deleteSign = useDeleteTrafficSign();\r\n  const uploadImage = useUploadSignImage();\r\n\r\n  useEffect(() => {\r\n    if (!loading && (!user || !isAdmin)) {\r\n      router.push('/');\r\n    }\r\n  }, [user, isAdmin, loading, router]);\r\n\r\n  const handleImageUpload = async (file: File) => {\r\n    if (!editingSign) return;\r\n    setIsUploading(true);\r\n    try {\r\n      const publicUrl = await uploadImage.mutateAsync(file);\r\n      setEditingSign({ ...editingSign, image_url: publicUrl });\r\n      toast.success('Image uploaded successfully');\r\n    } catch (error) {\r\n      toast.error('Failed to upload image');\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingSign) return;\r\n    try {\r\n      await updateSign.mutateAsync({\r\n        id: editingSign.id,\r\n        name: editingSign.name,\r\n        description: editingSign.description,\r\n        image_url: editingSign.image_url\r\n      });\r\n      toast.success('Sign updated successfully');\r\n      setEditingSign(null);\r\n      refetch();\r\n    } catch (error) {\r\n      toast.error('Failed to update sign');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (confirm('Are you sure you want to delete this sign?')) {\r\n      try {\r\n        await deleteSign.mutateAsync(id);\r\n        toast.success('Sign deleted successfully');\r\n        refetch();\r\n      } catch (error) {\r\n        toast.error('Failed to delete sign');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading || !user || !isAdmin) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background text-foreground\">\r\n      <Navbar />\r\n\r\n      <div className=\"container mx-auto px-6 py-8 max-w-7xl pt-28\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <Button variant=\"ghost\" asChild className=\"pl-0 hover:bg-transparent hover:text-primary\">\r\n            <Link href=\"/admin\" className=\"flex items-center gap-2\">\r\n              <ArrowLeft className=\"w-4 h-4\" />\r\n              {t('admin.backToDashboard')}\r\n            </Link>\r\n          </Button>\r\n        </div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold mb-2\">{t('admin.trafficSigns')}</h1>\r\n            <p className=\"text-muted-foreground\">\r\n              {t('admin.trafficSignsDesc')}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex flex-col md:flex-row gap-4 mb-8\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by name or code...\"\r\n                className=\"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-card/50 focus:outline-none focus:border-primary\"\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n              />\r\n            </div>\r\n            <select\r\n              className=\"px-4 py-2 rounded-lg border border-border bg-card/50 focus:outline-none focus:border-primary\"\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value)}\r\n            >\r\n              <option value=\"all\">All Categories</option>\r\n              <option value=\"danger\">Danger</option>\r\n              <option value=\"prohibition\">Prohibition</option>\r\n              <option value=\"mandatory\">Mandatory</option>\r\n              <option value=\"info\">Info</option>\r\n            </select>\r\n          </div>\r\n\r\n          {isLoading ? (\r\n            <div className=\"text-center py-12\">\r\n              <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4 text-primary\" />\r\n              <p className=\"text-muted-foreground\">Loading signs...</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {data?.signs.map((sign) => (\r\n                <GlassCard key={sign.id} className=\"p-4 flex flex-col h-full bg-black/40 border-border/50\">\r\n                  {editingSign?.id === sign.id ? (\r\n                    <div className=\"space-y-4 flex-1\">\r\n                      <div className=\"relative aspect-video bg-black/20 rounded-lg overflow-hidden flex items-center justify-center group border-2 border-dashed border-border/50\">\r\n                        {editingSign.image_url ? (\r\n                          // eslint-disable-next-line @next/next/no-img-element\r\n                          <img src={editingSign.image_url} alt={sign.name} className=\"w-full h-full object-contain\" />\r\n                        ) : (\r\n                          <ImageIcon className=\"w-8 h-8 text-muted-foreground\" />\r\n                        )}\r\n                        <label className=\"absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 group-hover:opacity-100 cursor-pointer transition-opacity\">\r\n                          <input\r\n                            type=\"file\"\r\n                            className=\"hidden\"\r\n                            accept=\"image/*\"\r\n                            onChange={(e) => e.target.files?.[0] && handleImageUpload(e.target.files[0])}\r\n                          />\r\n                          <div className=\"text-white flex flex-col items-center\">\r\n                            <Upload className=\"w-6 h-6 mb-2\" />\r\n                            <span className=\"text-xs\">Change Image</span>\r\n                          </div>\r\n                        </label>\r\n                        {isUploading && (\r\n                          <div className=\"absolute inset-0 flex items-center justify-center bg-black/60\">\r\n                            <Loader2 className=\"w-6 h-6 animate-spin text-white\" />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-3\">\r\n                        <div>\r\n                          <label className=\"text-xs text-muted-foreground mb-1 block\">Name</label>\r\n                          <input\r\n                            value={editingSign.name}\r\n                            onChange={(e) => setEditingSign({ ...editingSign, name: e.target.value })}\r\n                            className=\"w-full px-3 py-2 rounded bg-black/20 border border-border focus:border-primary outline-none text-sm\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"text-xs text-muted-foreground mb-1 block\">Description</label>\r\n                          <textarea\r\n                            value={editingSign.description}\r\n                            onChange={(e) => setEditingSign({ ...editingSign, description: e.target.value })}\r\n                            className=\"w-full px-3 py-2 rounded bg-black/20 border border-border focus:border-primary outline-none text-sm min-h-[80px]\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex gap-2 pt-2 mt-auto\">\r\n                        <Button size=\"sm\" onClick={handleSave} className=\"flex-1\">\r\n                          <Save className=\"w-4 h-4 mr-2\" />\r\n                          Save\r\n                        </Button>\r\n                        <Button size=\"sm\" variant=\"outline\" onClick={() => setEditingSign(null)}>\r\n                          <X className=\"w-4 h-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"aspect-video bg-white/5 rounded-lg mb-4 p-2 flex items-center justify-center relative\">\r\n                        {sign.image_url ? (\r\n                          // eslint-disable-next-line @next/next/no-img-element\r\n                          <img src={sign.image_url} alt={sign.name} className=\"w-full h-full object-contain\" />\r\n                        ) : (\r\n                          <div className=\"text-center text-muted-foreground\">\r\n                            <ImageIcon className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n                            <span className=\"text-xs\">No image</span>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"absolute top-2 right-2 px-2 py-1 bg-black/60 backdrop-blur-sm rounded text-xs font-mono text-primary\">\r\n                          {sign.code}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-semibold mb-1 line-clamp-1\">{sign.name}</h3>\r\n                        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-4\">\r\n                          {sign.description}\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"flex gap-2 mt-auto pt-4 border-t border-border/30\">\r\n                        <Button \r\n                          size=\"sm\" \r\n                          variant=\"ghost\" \r\n                          className=\"flex-1 hover:bg-primary/10 hover:text-primary\"\r\n                          onClick={() => setEditingSign(sign)}\r\n                        >\r\n                          Edit\r\n                        </Button>\r\n                        <Button \r\n                          size=\"sm\" \r\n                          variant=\"ghost\" \r\n                          className=\"hover:bg-red-500/10 hover:text-red-500 text-muted-foreground\"\r\n                          onClick={() => handleDelete(sign.id)}\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </GlassCard>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Pagination */}\r\n          {data && data.total > 50 && (\r\n            <div className=\"flex justify-center gap-2 mt-8\">\r\n              <Button\r\n                variant=\"outline\"\r\n                disabled={page === 1}\r\n                onClick={() => setPage(p => p - 1)}\r\n              >\r\n                Previous\r\n              </Button>\r\n              <div className=\"flex items-center px-4\">\r\n                Page {page} of {Math.ceil(data.total / 50)}\r\n              </div>\r\n              <Button\r\n                variant=\"outline\"\r\n                disabled={page >= Math.ceil(data.total / 50)}\r\n                onClick={() => setPage(p => p + 1)}\r\n              >\r\n                Next\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}